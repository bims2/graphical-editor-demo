(()=>{"use strict";var t={907:(t,e,n)=>{n.d(e,{A:()=>a});var o=n(601),i=n.n(o),r=n(314),s=n.n(r)()(i());s.push([t.id,"/*\n! tailwindcss v3.4.4 | MIT License | https://tailwindcss.com\n*/\n\n/*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box;\n  /* 1 */\n  border-width: 0;\n  /* 2 */\n  border-style: solid;\n  /* 2 */\n  border-color: #e5e7eb;\n  /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5;\n  /* 1 */\n  -webkit-text-size-adjust: 100%;\n  /* 2 */\n  -moz-tab-size: 4;\n  /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4;\n  /* 3 */\n  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n  /* 4 */\n  font-feature-settings: normal;\n  /* 5 */\n  font-variation-settings: normal;\n  /* 6 */\n  -webkit-tap-highlight-color: transparent;\n  /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0;\n  /* 1 */\n  line-height: inherit;\n  /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0;\n  /* 1 */\n  color: inherit;\n  /* 2 */\n  border-top-width: 1px;\n  /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n  /* 1 */\n  font-feature-settings: normal;\n  /* 2 */\n  font-variation-settings: normal;\n  /* 3 */\n  font-size: 1em;\n  /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0;\n  /* 1 */\n  border-color: inherit;\n  /* 2 */\n  border-collapse: collapse;\n  /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit;\n  /* 1 */\n  font-feature-settings: inherit;\n  /* 1 */\n  font-variation-settings: inherit;\n  /* 1 */\n  font-size: 100%;\n  /* 1 */\n  font-weight: inherit;\n  /* 1 */\n  line-height: inherit;\n  /* 1 */\n  letter-spacing: inherit;\n  /* 1 */\n  color: inherit;\n  /* 1 */\n  margin: 0;\n  /* 2 */\n  padding: 0;\n  /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button;\n  /* 1 */\n  background-color: transparent;\n  /* 2 */\n  background-image: none;\n  /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield;\n  /* 1 */\n  outline-offset: -2px;\n  /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button;\n  /* 1 */\n  font: inherit;\n  /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\n\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1;\n  /* 1 */\n  color: #9ca3af;\n  /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1;\n  /* 1 */\n  color: #9ca3af;\n  /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block;\n  /* 1 */\n  vertical-align: middle;\n  /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n\n[hidden] {\n  display: none;\n}\n\n*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgba(59, 130, 246, 0.5);\n  --tw-ring-offset-shadow: 0 0 rgba(0,0,0,0);\n  --tw-ring-shadow: 0 0 rgba(0,0,0,0);\n  --tw-shadow: 0 0 rgba(0,0,0,0);\n  --tw-shadow-colored: 0 0 rgba(0,0,0,0);\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgba(59, 130, 246, 0.5);\n  --tw-ring-offset-shadow: 0 0 rgba(0,0,0,0);\n  --tw-ring-shadow: 0 0 rgba(0,0,0,0);\n  --tw-shadow: 0 0 rgba(0,0,0,0);\n  --tw-shadow-colored: 0 0 rgba(0,0,0,0);\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n.pointer-events-auto {\n  pointer-events: auto;\n}\n\n.static {\n  position: static;\n}\n\n.absolute {\n  position: absolute;\n}\n\n.relative {\n  position: relative;\n}\n\n.-bottom-4 {\n  bottom: -1rem;\n}\n\n.bottom-0 {\n  bottom: 0px;\n}\n\n.left-1\\/2 {\n  left: 50%;\n}\n\n.left-3 {\n  left: 0.75rem;\n}\n\n.right-0 {\n  right: 0px;\n}\n\n.col-span-2 {\n  grid-column: span 2 / span 2;\n}\n\n.col-span-3 {\n  grid-column: span 3 / span 3;\n}\n\n.row-span-1 {\n  grid-row: span 1 / span 1;\n}\n\n.row-span-10 {\n  grid-row: span 10 / span 10;\n}\n\n.m-2 {\n  margin: 0.5rem;\n}\n\n.m-3 {\n  margin: 0.75rem;\n}\n\n.m-5 {\n  margin: 1.25rem;\n}\n\n.mx-1 {\n  margin-left: 0.25rem;\n  margin-right: 0.25rem;\n}\n\n.mx-1\\.5 {\n  margin-left: 0.375rem;\n  margin-right: 0.375rem;\n}\n\n.mx-2 {\n  margin-left: 0.5rem;\n  margin-right: 0.5rem;\n}\n\n.mx-auto {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.my-1 {\n  margin-top: 0.25rem;\n  margin-bottom: 0.25rem;\n}\n\n.my-1\\.5 {\n  margin-top: 0.375rem;\n  margin-bottom: 0.375rem;\n}\n\n.mb-1 {\n  margin-bottom: 0.25rem;\n}\n\n.ml-1 {\n  margin-left: 0.25rem;\n}\n\n.ml-2 {\n  margin-left: 0.5rem;\n}\n\n.ml-auto {\n  margin-left: auto;\n}\n\n.mr-1 {\n  margin-right: 0.25rem;\n}\n\n.mr-2 {\n  margin-right: 0.5rem;\n}\n\n.mt-1 {\n  margin-top: 0.25rem;\n}\n\n.mt-2 {\n  margin-top: 0.5rem;\n}\n\n.flex {\n  display: flex;\n}\n\n.inline-flex {\n  display: inline-flex;\n}\n\n.grid {\n  display: grid;\n}\n\n.hidden {\n  display: none;\n}\n\n.aspect-square {\n  aspect-ratio: 1 / 1;\n}\n\n.h-0 {\n  height: 0px;\n}\n\n.h-3 {\n  height: 0.75rem;\n}\n\n.h-5 {\n  height: 1.25rem;\n}\n\n.h-6 {\n  height: 1.5rem;\n}\n\n.h-8 {\n  height: 2rem;\n}\n\n.h-full {\n  height: 100%;\n}\n\n.h-px {\n  height: 1px;\n}\n\n.min-h-72 {\n  min-height: 18rem;\n}\n\n.w-0 {\n  width: 0px;\n}\n\n.w-12 {\n  width: 3rem;\n}\n\n.w-2 {\n  width: 0.5rem;\n}\n\n.w-20 {\n  width: 5rem;\n}\n\n.w-28 {\n  width: 7rem;\n}\n\n.w-36 {\n  width: 9rem;\n}\n\n.w-40 {\n  width: 10rem;\n}\n\n.w-52 {\n  width: 13rem;\n}\n\n.w-6 {\n  width: 1.5rem;\n}\n\n.w-8 {\n  width: 2rem;\n}\n\n.w-\\[1px\\] {\n  width: 1px;\n}\n\n.w-full {\n  width: 100%;\n}\n\n.max-w-2xl {\n  max-width: 42rem;\n}\n\n.flex-1 {\n  flex: 1 1 0%;\n}\n\n.shrink-0 {\n  flex-shrink: 0;\n}\n\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n.cursor-default {\n  cursor: default;\n}\n\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.select-none {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n}\n\n.resize {\n  resize: both;\n}\n\n.appearance-none {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n}\n\n.grid-cols-1 {\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n}\n\n.grid-cols-4 {\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n}\n\n.grid-cols-5 {\n  grid-template-columns: repeat(5, minmax(0, 1fr));\n}\n\n.grid-rows-12 {\n  grid-template-rows: repeat(12, minmax(0, 1fr));\n}\n\n.grid-rows-3 {\n  grid-template-rows: repeat(3, minmax(0, 1fr));\n}\n\n.items-center {\n  align-items: center;\n}\n\n.justify-center {\n  justify-content: center;\n}\n\n.gap-0 {\n  gap: 0px;\n}\n\n.gap-0\\.5 {\n  gap: 0.125rem;\n}\n\n.gap-2 {\n  gap: 0.5rem;\n}\n\n.overflow-hidden {\n  overflow: hidden;\n}\n\n.rounded {\n  border-radius: 0.25rem;\n}\n\n.rounded-full {\n  border-radius: 9999px;\n}\n\n.rounded-lg {\n  border-radius: 0.5rem;\n}\n\n.rounded-md {\n  border-radius: 0.375rem;\n}\n\n.rounded-xl {\n  border-radius: 0.75rem;\n}\n\n.border {\n  border-width: 1px;\n}\n\n.border-8 {\n  border-width: 8px;\n}\n\n.border-b {\n  border-bottom-width: 1px;\n}\n\n.border-r {\n  border-right-width: 1px;\n}\n\n.border-black {\n  --tw-border-opacity: 1;\n  border-color: rgba(0, 0, 0, 1);\n  border-color: rgba(0, 0, 0, var(--tw-border-opacity));\n}\n\n.border-gray-300 {\n  --tw-border-opacity: 1;\n  border-color: rgba(209, 213, 219, 1);\n  border-color: rgba(209, 213, 219, var(--tw-border-opacity));\n}\n\n.border-slate-200 {\n  --tw-border-opacity: 1;\n  border-color: rgba(226, 232, 240, 1);\n  border-color: rgba(226, 232, 240, var(--tw-border-opacity));\n}\n\n.border-slate-300 {\n  --tw-border-opacity: 1;\n  border-color: rgba(203, 213, 225, 1);\n  border-color: rgba(203, 213, 225, var(--tw-border-opacity));\n}\n\n.border-transparent {\n  border-color: transparent;\n}\n\n.border-t-orange-100 {\n  --tw-border-opacity: 1;\n  border-top-color: rgba(255, 237, 213, 1);\n  border-top-color: rgba(255, 237, 213, var(--tw-border-opacity));\n}\n\n.bg-blue-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgba(59, 130, 246, 1);\n  background-color: rgba(59, 130, 246, var(--tw-bg-opacity));\n}\n\n.bg-emerald-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgba(16, 185, 129, 1);\n  background-color: rgba(16, 185, 129, var(--tw-bg-opacity));\n}\n\n.bg-gray-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgba(229, 231, 235, 1);\n  background-color: rgba(229, 231, 235, var(--tw-bg-opacity));\n}\n\n.bg-orange-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgba(255, 237, 213, 1);\n  background-color: rgba(255, 237, 213, var(--tw-bg-opacity));\n}\n\n.bg-slate-100 {\n  --tw-bg-opacity: 1;\n  background-color: rgba(241, 245, 249, 1);\n  background-color: rgba(241, 245, 249, var(--tw-bg-opacity));\n}\n\n.bg-slate-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgba(226, 232, 240, 1);\n  background-color: rgba(226, 232, 240, var(--tw-bg-opacity));\n}\n\n.bg-slate-300 {\n  --tw-bg-opacity: 1;\n  background-color: rgba(203, 213, 225, 1);\n  background-color: rgba(203, 213, 225, var(--tw-bg-opacity));\n}\n\n.bg-slate-50 {\n  --tw-bg-opacity: 1;\n  background-color: rgba(248, 250, 252, 1);\n  background-color: rgba(248, 250, 252, var(--tw-bg-opacity));\n}\n\n.bg-transparent {\n  background-color: transparent;\n}\n\n.bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgba(255, 255, 255, 1);\n  background-color: rgba(255, 255, 255, var(--tw-bg-opacity));\n}\n\n.p-0 {\n  padding: 0px;\n}\n\n.p-0\\.5 {\n  padding: 0.125rem;\n}\n\n.p-1 {\n  padding: 0.25rem;\n}\n\n.p-1\\.5 {\n  padding: 0.375rem;\n}\n\n.p-2 {\n  padding: 0.5rem;\n}\n\n.p-4 {\n  padding: 1rem;\n}\n\n.px-2 {\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n\n.px-4 {\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n\n.py-1 {\n  padding-top: 0.25rem;\n  padding-bottom: 0.25rem;\n}\n\n.py-1\\.5 {\n  padding-top: 0.375rem;\n  padding-bottom: 0.375rem;\n}\n\n.py-2 {\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n}\n\n.pb-0 {\n  padding-bottom: 0px;\n}\n\n.pb-0\\.5 {\n  padding-bottom: 0.125rem;\n}\n\n.pl-1 {\n  padding-left: 0.25rem;\n}\n\n.pl-2 {\n  padding-left: 0.5rem;\n}\n\n.pl-3 {\n  padding-left: 0.75rem;\n}\n\n.pr-1 {\n  padding-right: 0.25rem;\n}\n\n.pt-0 {\n  padding-top: 0px;\n}\n\n.pt-0\\.5 {\n  padding-top: 0.125rem;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.text-right {\n  text-align: right;\n}\n\n.text-\\[8px\\] {\n  font-size: 8px;\n}\n\n.text-sm {\n  font-size: 0.875rem;\n  line-height: 1.25rem;\n}\n\n.text-xs {\n  font-size: 0.75rem;\n  line-height: 1rem;\n}\n\n.font-bold {\n  font-weight: 700;\n}\n\n.font-semibold {\n  font-weight: 600;\n}\n\n.tracking-wide {\n  letter-spacing: 0.025em;\n}\n\n.text-gray-500 {\n  --tw-text-opacity: 1;\n  color: rgba(107, 114, 128, 1);\n  color: rgba(107, 114, 128, var(--tw-text-opacity));\n}\n\n.text-slate-700 {\n  --tw-text-opacity: 1;\n  color: rgba(51, 65, 85, 1);\n  color: rgba(51, 65, 85, var(--tw-text-opacity));\n}\n\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgba(255, 255, 255, 1);\n  color: rgba(255, 255, 255, var(--tw-text-opacity));\n}\n\n.subpixel-antialiased {\n  -webkit-font-smoothing: auto;\n  -moz-osx-font-smoothing: auto;\n}\n\n.opacity-0 {\n  opacity: 0;\n}\n\n.opacity-100 {\n  opacity: 1;\n}\n\n.opacity-40 {\n  opacity: 0.4;\n}\n\n.opacity-50 {\n  opacity: 0.5;\n}\n\n.opacity-90 {\n  opacity: 0.9;\n}\n\n.shadow-sm {\n  --tw-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n  box-shadow: 0 0 rgba(0,0,0,0), 0 0 rgba(0,0,0,0), 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 rgba(0,0,0,0)), var(--tw-ring-shadow, 0 0 rgba(0,0,0,0)), var(--tw-shadow);\n}\n\n.outline-none {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n.outline-0 {\n  outline-width: 0px;\n}\n\n.drop-shadow-md {\n  --tw-drop-shadow: drop-shadow(0 4px 3px rgba(0, 0, 0, 0.07)) drop-shadow(0 2px 2px rgba(0, 0, 0, 0.06));\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) drop-shadow(0 4px 3px rgba(0, 0, 0, 0.07)) drop-shadow(0 2px 2px rgba(0, 0, 0, 0.06));\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n\n.duration-300 {\n  transition-duration: 300ms;\n}\n\n.hover\\:bg-slate-200:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgba(226, 232, 240, 1);\n  background-color: rgba(226, 232, 240, var(--tw-bg-opacity));\n}\n\n.hover\\:bg-slate-300:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgba(203, 213, 225, 1);\n  background-color: rgba(203, 213, 225, var(--tw-bg-opacity));\n}\n\n.focus\\:border-transparent:focus {\n  border-color: transparent;\n}\n\n.focus\\:outline-none:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\n.focus\\:ring-2:focus {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), 0 0 rgba(0,0,0,0);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 rgba(0,0,0,0));\n}\n\n.focus\\:ring-blue-500:focus {\n  --tw-ring-opacity: 1;\n  --tw-ring-color: rgba(59, 130, 246, var(--tw-ring-opacity));\n}\n\n@media (prefers-color-scheme: dark) {\n  .dark\\:border-transparent {\n    border-color: transparent;\n  }\n\n  .dark\\:bg-gray-300 {\n    --tw-bg-opacity: 1;\n    background-color: rgba(209, 213, 219, 1);\n    background-color: rgba(209, 213, 219, var(--tw-bg-opacity));\n  }\n\n  .dark\\:bg-slate-300 {\n    --tw-bg-opacity: 1;\n    background-color: rgba(203, 213, 225, 1);\n    background-color: rgba(203, 213, 225, var(--tw-bg-opacity));\n  }\n\n  .dark\\:bg-slate-700 {\n    --tw-bg-opacity: 1;\n    background-color: rgba(51, 65, 85, 1);\n    background-color: rgba(51, 65, 85, var(--tw-bg-opacity));\n  }\n\n  .dark\\:text-slate-200 {\n    --tw-text-opacity: 1;\n    color: rgba(226, 232, 240, 1);\n    color: rgba(226, 232, 240, var(--tw-text-opacity));\n  }\n}",""]);const a=s},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var h=0;h<t.length;h++){var c=[].concat(t[h]);o&&s[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var r={},s=[],a=0;a<t.length;a++){var l=t[a],h=o.base?l[0]+o.base:l[0],c=r[h]||0,d="".concat(h," ").concat(c);r[h]=c+1;var p=n(d),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var g=i(u,o);o.byIndex=a,e.splice(a,0,{identifier:d,updater:g,references:1})}s.push(d)}return s}function i(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=o(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<r.length;s++){var a=n(r[s]);e[a].references--}for(var l=o(t,i),h=0;h<r.length;h++){var c=n(r[h]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}r=l}}},659:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0;var o={};n.r(o),n.d(o,{Editor:()=>Xo,EditorType:()=>Zo});class i{constructor(t){this._editor=t,this._down=!1,this._dragMovePoint={x:0,y:0},this._downPoint={x:0,y:0},this._point={x:0,y:0},this._originPoint={x:0,y:0},this._curPoint={x:0,y:0},this._originEvent=null,this._clientPoint={x:0,y:0},this._keyPressed={shiftKey:!1}}get keyPressed(){return this._keyPressed}get editor(){return this._editor}get down(){return this._down}set down(t){this._down=t}get dragMovePoint(){return this._dragMovePoint}set dragMovePoint(t){this._dragMovePoint=t}get downPoint(){return this._downPoint}set downPoint(t){this._downPoint.x=t.x,this._downPoint.y=t.y}get point(){return this._point}set point(t){this._point=t.x,this._point=t.y}get originPoint(){return this._originPoint}set originPoint(t){this._originPoint=t}get curPoint(){return this._curPoint}set curPoint(t){this._curPoint=t}get originEvent(){return this._originEvent}set originEvent(t){return this._originEvent=t}get clientPoint(){return this._clientPoint}}const r="none",s="snap",a="drag_page",l="page_zoom",h="create_line",c="create_rect",d="create)triangle",p="create_circle",u="create_image",g="create_label",y="create_capture_rect",m="select",_="drop",w="paste";class x{get type(){return r}onDoubleClick(t){}onMouseDown(t){}onMouseMove(t){}onMouseUp(t){}onMouseWheel(t){}onKeyDown(t){}onKeyUp(t){}onDrop(t){}onPaste(t){}}class b extends x{constructor(){super()}get type(){return s}onMouseDown(t){t.down=!0,t.downPoint.x=t.point.x,t.downPoint.y=t.point.y,t.dragMovePoint.x=0,t.dragMovePoint.y=0,this.#t(t)}onMouseMove(t){if(this.#t(t),t.down){const e=t.point.x-t.downPoint.x,n=t.point.y-t.downPoint.y;t.dragMovePoint.x+=e,t.dragMovePoint.y+=n}t.editor.page.coordinate.curPoint={x:t.originEvent.offsetX,y:t.originEvent.offsetY}}onMouseUp(t){t.down=!1,this.#t(t)}onMouseWheel(t){}onKeyDown(t){}onKeyUp(t){}#t(t){const e=t.editor.page.coordinate,n=e.dpr,o=t.point,i=t.originPoint;i.x=t.originEvent.offsetX,i.y=t.originEvent.offsetY,o.x=i.x/n,o.y=i.y/n;const r=e.orgPoint.x/n,s=e.orgPoint.y/n,a=-e.wayPoint.x-r,l=-e.wayPoint.y-s;o.x+=a,o.y+=l,t._clientPoint.x=t.originEvent.clientX,t._clientPoint.y=t.originEvent.clientY}}class C{constructor(t,e,n,o){this._type=t,this._keyCode=e,this._toolTip=n,this._listener=o}get type(){return this._type}get keyCode(){return this._keyCode}get toolTip(){return this._toolTip}run(t){this._listener(t)}}class f{constructor(){this._keyMap=new Map,this._codeMap=new Map}addKey(t){this._keyMap.set(t.type,t),this._codeMap.set(t.keyCode,t)}hasType(t){return this._keyMap.has(t)}hasCode(t){return this._codeMap.has(t)}getTypeKey(t){return this._keyMap.get(t)}getCodeKey(t){return this._codeMap.get(t)}}const v="create_line",M="create_rect",P="create_triangle",I="create_circle",k="create_image",R="create_label",E="create_point_label",S="remove_control",T="undo",z="redo",L="copy",K="paste",A="very_front_control",B="front_control",D="back_control",U="very_back_control",H="grouping",W="ungroup",O="select_mode",N="page_move_mode",F="open",V="save",Y="capture_area_open",G="label_data_open",Z="view_control_order",X="view_out_line",j="view_grid_line",J="zoom_in",$="zoom_out",Q="clear";class q{constructor(t){this._tools=t.tools,this._defaultKeyMap=new f,this._ctrlKeyMap=new f,this._shiftKeyMap=new f,this._ctrlShiftKeyMap=new f,this.#e(t)}get defaultKeyMap(){return this._defaultKeyMap}get ctrlKeyMap(){return this._ctrlKeyMap}get shiftKeyMap(){return this._shiftKeyMap}get ctrlShiftKeyMap(){return this._ctrlShiftKeyMap}getKey(t){return this._defaultKeyMap.hasType(t)?this._defaultKeyMap.getTypeKey(t):this._ctrlKeyMap.hasType(t)?this._ctrlKeyMap.getTypeKey(t):this._shiftKeyMap.hasType(t)?this._shiftKeyMap.getTypeKey(t):this._ctrlShiftKeyMap.hasType(t)?this._ctrlShiftKeyMap.getTypeKey(t):""}#e(t){this.#n(),t.type!==Zo.INSPECTION_SYS_MARK?t.type!==Zo.INSPECTION_AREA_MARK?t.type!==Zo.INSPECTION_SYS_SELECT?t.type!==Zo.INSPECTION_RESULT_LABEL?this.#o():this.#i():this.#r():this.#s():this.#a()}#a(){this._ctrlKeyMap.addKey(new C(Y,"KeyO","ctrl+O",(t=>{this._tools.openCaptureAreaData()}))),this._ctrlShiftKeyMap.addKey(new C(X,"Digit6","",(t=>{this._tools.toggleViewOutLine(t)})))}#s(){this._ctrlKeyMap.addKey(new C(Y,"KeyO","ctrl+O",(t=>{this._tools.openCaptureAreaData()})))}#r(){this._ctrlKeyMap.addKey(new C(Y,"KeyO","ctrl+O",(t=>{this._tools.openCaptureAreaData()})))}#i(){this._defaultKeyMap.addKey(new C(E,"KeyQ","Q",(t=>{this._tools.createPointLabel(t)}))),this._defaultKeyMap.addKey(new C(S,"Backspace","",(t=>{this._tools.removeControl(t)}))),this._ctrlKeyMap.addKey(new C(G,"KeyO","ctrl+O",(t=>{this._tools.openLabelData()})))}#o(){this._defaultKeyMap.addKey(new C(v,"KeyQ","Q",(t=>{this._tools.createLine(t)}))),this._defaultKeyMap.addKey(new C(M,"KeyW","W",(t=>{this._tools.createRect(t)}))),this._defaultKeyMap.addKey(new C(P,"KeyE","E",(t=>{this._tools.createTriangle(t)}))),this._defaultKeyMap.addKey(new C(I,"KeyR","R",(t=>{this._tools.createCircle(t)}))),this._defaultKeyMap.addKey(new C(k,"KeyT","T",(t=>{this._tools.createImage(t)}))),this._defaultKeyMap.addKey(new C(R,"KeyA","A",(t=>{this._tools.createLabel(t)}))),this._defaultKeyMap.addKey(new C(S,"Backspace","",(t=>{this._tools.removeControl(t)}))),this._defaultKeyMap.addKey(new C(B,"BracketLeft","[",(t=>{this._tools.frontControl(t)}))),this._defaultKeyMap.addKey(new C(D,"BracketRight","]",(t=>{this._tools.backControl(t)}))),this._ctrlKeyMap.addKey(new C(L,"KeyC","ctrl+C",(t=>{this._tools.copyControl(t)}))),this._ctrlKeyMap.addKey(new C(K,"KeyV","ctrl+V",(t=>{this._tools.pasteControl(t)}))),this._ctrlKeyMap.addKey(new C(A,"BracketLeft","ctrl+[",(t=>{this._tools.veryFrontControl(t)}))),this._ctrlKeyMap.addKey(new C(U,"BracketRight","ctrl+]",(t=>{this._tools.veryBackControl(t)}))),this._ctrlKeyMap.addKey(new C(F,"KeyO","ctrl+o",(t=>{this._tools.openEditor()}))),this._ctrlKeyMap.addKey(new C(V,"KeyS","ctrl+s",(t=>{this._tools.saveEditor()}))),this._ctrlKeyMap.addKey(new C(H,"KeyG","ctrl+g",(t=>{this._tools.grouping(t)}))),this._shiftKeyMap.addKey(new C(W,"KeyG","shift+g",(t=>{this._tools.ungroup(t)}))),this._ctrlShiftKeyMap.addKey(new C(Z,"Digit0","",(t=>{this._tools.toggleViewControlOrder(t)}))),this._ctrlShiftKeyMap.addKey(new C(X,"Digit6","",(t=>{this._tools.toggleViewOutLine(t)}))),this._ctrlShiftKeyMap.addKey(new C(j,"Digit7","",(t=>{this._tools.toggleViewGridLine(t)})))}#n(){this._defaultKeyMap.addKey(new C(O,"Digit1","1",(t=>{this._tools.selectMode(t)}))),this._defaultKeyMap.addKey(new C(N,"Digit2","2",(t=>{this._tools.pageDragMode(t)}))),this._defaultKeyMap.addKey(new C(J,"Equal","+",(t=>{this._tools.zoomIn(t)}))),this._defaultKeyMap.addKey(new C($,"Minus","―",(t=>{this._tools.zoomOut(t)}))),this._defaultKeyMap.addKey(new C(Q,"Escape","",(t=>{this._tools.clear(t)}))),this._ctrlKeyMap.addKey(new C(T,"KeyZ","ctrl+Z",(t=>{this._tools.undo(t)}))),this._ctrlKeyMap.addKey(new C(z,"KeyY","ctrl+Y",(t=>{this._tools.redo(t)})))}}class tt extends x{constructor(){super()}onKeyDown(t){if(t.keyPressed.shiftKey=t.originEvent.shiftKey,t.editor.textEditor.isEdit||"BODY"!==document.activeElement.tagName)return;const e=t.originEvent.code;if(this.#l(t))return;if(this.#h(t))return;const n=t.editor.shortCutKeyManager;n.defaultKeyMap.getCodeKey(e)?.run(t.point)}#l(t){if(!t.originEvent.metaKey&&!t.originEvent.ctrlKey)return!1;const e=t.originEvent.code,n=t.editor.shortCutKeyManager;if(t.originEvent.shiftKey)return n.ctrlShiftKeyMap.getCodeKey(e)?.run(),!0;const o=n.ctrlKeyMap.getCodeKey(e);return!o||o.type===K||(t.originEvent.preventDefault(),o.run(),!1)}#h(t){const e=t.editor.shortCutKeyManager,n=t.originEvent.code;return!(!t.originEvent.shiftKey||!e.shiftKeyMap.hasCode(n))&&(e.shiftKeyMap.getCodeKey(n).run(),!0)}onKeyUp(t){t.keyPressed.shiftKey=t.originEvent.shiftKey}}class et extends x{constructor(){super(),this.handlers=[],this.handlers.push(new b),this.handlers.push(new tt)}onMouseDown(t){this.handlers.forEach((e=>{e.onMouseDown(t)}))}onMouseMove(t){this.handlers.forEach((e=>{e.onMouseMove(t)}))}onMouseUp(t){this.handlers.forEach((e=>{e.onMouseUp(t)}))}onMouseWheel(t){this.handlers.forEach((e=>{e.onMouseWheel(t)}))}onKeyDown(t){this.handlers.forEach((e=>{e.onKeyDown(t)}))}onKeyUp(t){this.handlers.forEach((e=>{e.onKeyUp(t)}))}}const nt="none",ot="left",it="right",rt="top",st="bottom",at="left-top",lt="right-top",ht="right-bottom",ct="left-bottom";class dt{constructor(t){this._control=t,this._resizeType=nt}get control(){return this._control}get resizeType(){return this._resizeType}set resizeType(t){this._resizeType=t}render(t){}}class pt extends dt{constructor(t){super(t),this.selectionRect=new Dt,this._lineWidth=1,this._renderResizeRect=!0}render(t){const e=this.control.hide?this.control.ratioControl:this.control;e?.updateSelectPosition(),this.selectionRect.updatePosition(e.minPoint,e.maxPoint);const n=this.selectionRect;if(n.lineWidth=this._lineWidth,t.drawPolygon(n),!this._renderResizeRect)return;let o=Ot.generateResizeRect(n.lt);t.drawPolygon(o),o=Ot.generateResizeRect(n.rt),t.drawPolygon(o),o=Ot.generateResizeRect(n.rb),t.drawPolygon(o),o=Ot.generateResizeRect(n.lb),t.drawPolygon(o)}}const ut="solid",gt="dash",yt="none",mt="line",_t="rect",wt="triangle",xt="circle",bt="image",Ct="label",ft="polygon",vt="capture_rect",Mt="capture_hover_rect",Pt="point_label",It="point_label_line",kt="arrows",Rt="arrow",Et="group",St="group_selection";class Tt{constructor(t){this._id=t??Ot.makeUUID(),this._lineWidth=1,this._lineColor="rgb(0,0,0)",this._lineStyle=ut,this._fillColor="rgb(14,136,224)",this._opacity=.5,this._select=!1,this._hover=!1,this._minPoint={x:0,y:0},this._maxPoint={x:0,y:0},this._ratio={x:1,y:1},this._wRate=1,this._hide=!1,this._ratioControl=null,this._disable=!1,this._parent=null}get id(){return this._id}getWidth(){return this._maxPoint.x-this._minPoint.x}getHeight(){return this._maxPoint.y-this._minPoint.y}get type(){return yt}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t}setLineWidth(t){this._lineWidth=t}get lineColor(){return this._lineColor}set lineColor(t){this._lineColor=t}setLineColor(t){this._lineColor=t}get lineStyle(){return this._lineStyle}set lineStyle(t){this._lineStyle=t}setLineStyle(t){this._lineStyle=t}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t}setFillColor(t){this._fillColor=t}get opacity(){return this._opacity}set opacity(t){this._opacity=t}setOpacity(t){this._opacity=t}get select(){return this._select}set select(t){this._select=t}get hover(){return this._hover}set hover(t){this._hover=t}get minPoint(){return this._minPoint}get maxPoint(){return this._maxPoint}get wRate(){return this._wRate}set wRate(t){this._wRate=t}get ratio(){return this._ratio}get hide(){return this._hide}setHide(t){this._hide=t}get ratioControl(){return this._ratioControl}set ratioControl(t){this._ratioControl=t}get disable(){return this._disable}set disable(t){this._disable=t}get parent(){return this._parent}set parent(t){this._parent=t}get width(){return this.maxPoint.x-this.minPoint.x}get height(){return this.maxPoint.y-this.minPoint.y}updatePosition(){this.updateSelectPosition(),this.updatePointPosition(),this.updatePointRatio(),this.ratio.x=this.width/this.height,this.ratio.y=this.height/this.width}updateSelectPosition(){}updatePointPosition(){}updatePointRatio(){}move(t){}resize(t,e=null){}setPosition(t){}render(t){this.hide?this.ratioControl?.renderControl(t):this.renderControl(t)}renderControl(t){}ptInControl(t){return!1}ptInHoverControl(t){return null}ptInSelectControl(t){return this.ptInControl(t)?new pt(this):null}copy(t){this.lineWidth=t.lineWidth,this.lineColor=t.lineColor,this.lineStyle=t.lineStyle,this.fillColor=t.fillColor,this.opacity=t.opacity,this.ratio.x=t.ratio?.x??this.width/this.height,this.ratio.y=t.ratio?.y??this.height/this.width,this.copyPosition(t)}copyPosition(t){}combine(){}release(){}toJson(){return{id:this.id,type:this.type,lineWidth:this._lineWidth,lineColor:this._lineColor,lineStyle:this._lineStyle,fillColor:this._fillColor,opacity:this._opacity}}}class zt extends Tt{constructor(t){super(t),this._points=[]}get type(){return ft}get points(){return this._points}updateSelectPosition(){0!==this.points.length&&(this.minPoint.x=this.points[0].x,this.minPoint.y=this.points[0].y,this.maxPoint.x=this.points[0].x,this.maxPoint.y=this.points[0].y,this.points.forEach((t=>{this.minPoint.x=Math.min(this.minPoint.x,t.x),this.minPoint.y=Math.min(this.minPoint.y,t.y),this.maxPoint.x=Math.max(this.maxPoint.x,t.x),this.maxPoint.y=Math.max(this.maxPoint.y,t.y)})))}updatePointPosition(){this.points.forEach((t=>{t.x===this.minPoint.x&&t.y===this.minPoint.y?t.position=at:t.x===this.maxPoint.x&&t.y===this.maxPoint.y?t.position=ht:t.x===this.maxPoint.x&&t.y===this.minPoint.y?t.position=lt:t.x===this.minPoint.x&&t.y===this.maxPoint.y?t.position=ct:t.x===this.minPoint.x?t.position=ot:t.x===this.maxPoint.x?t.position=it:t.y===this.minPoint.y?t.position=rt:t.y===this.maxPoint.y?t.position=st:t.position=nt}))}updatePointRatio(){this._points.forEach((t=>{const e=t.x-this.minPoint.x,n=t.y-this.minPoint.y;t.xRatio=e/this.width,t.yRatio=n/this.height}))}move(t){this._points.forEach((e=>{e.x+=t.x,e.y+=t.y}))}resize(t,e=null){Ot.resize(t,this,e)}renderControl(t){t.drawPolygon(this)}ptInControl(t){let e=t.x,n=t.y,o=!1;const i=this.points;for(let t=0,r=i.length-1;t<i.length;r=t++){let s=i[t].x,a=i[t].y,l=i[r].x,h=i[r].y;a>n!=h>n&&e<(l-s)*(n-a)/(h-a)+s&&(o=!o)}return o}ptInHoverControl(t){super.ptInHoverControl(t)}ptInSelectControl(t){return super.ptInSelectControl(t)}copy(t){super.copy(t),this.copyPosition(t)}copyPosition(t){t.points.forEach(((t,e)=>{this.points[e].copy(t)}))}toJson(){const t=[];return this.points.forEach((e=>{t.push(e.toJson())})),Object.assign(super.toJson(),{points:t})}}class Lt extends dt{constructor(t){super(t),this._lineWidth=3,this._hoverControl=null}initHoverControl(t){t&&(this._hoverControl=t,this._hoverControl.lineColor="rgb(53,155,255)",this._hoverControl.fillColor="none")}render(t){this._hoverControl&&(this._hoverControl.copyPosition(this._control),this._hoverControl.lineWidth=this._lineWidth/Ot.page.coordinate.dpr,t.drawPolygon(this._hoverControl))}}class Kt extends Lt{constructor(t){super(t),this.initHoverControl(new Bt)}}class At{constructor(t){return this._x=0,this._y=0,this._xRatio=0,this._yRatio=0,this._position=t??nt,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}get x(){return this._x}set x(t){this._x=t}get xRatio(){return this._xRatio}set xRatio(t){this._xRatio=t}get yRatio(){return this._yRatio}set yRatio(t){this._yRatio=t}get y(){return this._y}set y(t){this._y=t}get position(){return this._position}set position(t){this._position=t}clone(){const t=new At(this.position);return t.x=this.x,t.y=this.y,t.xRatio=this.xRatio,t.yRatio=this.yRatio,t}copy(t){return this.x=t.x,this.y=t.y,this.xRatio=t?.xRatio,this.yRatio=t?.yRatio,this}toJson(){return{x:this.x,y:this.y}}}class Bt extends zt{constructor(t){super(t),this._lt=new At(at),this._rt=new At(lt),this._rb=new At(ht),this._lb=new At(ct),this.points.push(this._lt),this.points.push(this._rt),this.points.push(this._rb),this.points.push(this._lb)}get type(){return _t}get lt(){return this._lt}get rt(){return this._rt}get rb(){return this._rb}get lb(){return this._lb}updatePointPosition(){super.updatePointPosition(),this.points.forEach((t=>{switch(t.position){case at:this._lt=t;break;case lt:this._rt=t;break;case ht:this._rb=t;break;case ct:this._lb=t}}))}move(t){super.move(t)}resize(t,e=null){super.resize(t,e)}setPosition(t){this._lt.x=t.x,this._lt.y=t.y,this._rt.x=t.x+Ht,this._rt.y=t.y,this._rb.x=t.x+Ht,this._rb.y=t.y+Wt,this._lb.x=t.x,this._lb.y=t.y+Wt}render(t){super.render(t)}ptInControl(t){return super.ptInControl(t)}ptInHoverControl(t){return this.ptInControl(t)?new Kt(this):null}copy(t){this.copyPosition(t),super.copy(t)}}class Dt extends Bt{constructor(t){super(t),this._fillColor="none",this._lineColor="rgb(53,155,255)",this._lineWidth=1,this._opacity=1}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t}get lineColor(){return this._lineColor}set lineColor(t){this._lineColor=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t}get opacity(){return this._opacity}set opacity(t){this._opacity=t}updatePosition(t,e){this.lt.x=t.x,this.lt.y=t.y,this.rb.x=e.x,this.rb.y=e.y,this.rt.x=e.x,this.rt.y=t.y,this.lb.x=t.x,this.lb.y=e.y}}class Ut extends Bt{constructor(t,e){if(super(e),!t)return this;this._imageId=Ot.makeUUID(),this.image=t,this.wRate=t.height/t.width,this.opacity=1,this.cropRect=new Bt,this.fillColor="none"}get imageId(){return this._imageId}set imageId(t){this._imageId=t}get type(){return bt}get image(){return this._image}set image(t){this._image=t;const e=t;this.wRate=e?.height/e?.width??0}setPosition(t){const e=100*this._wRate;this._lt.x=t.x,this._lt.y=t.y,this._rt.x=t.x+100,this._rt.y=t.y,this._rb.x=t.x+100,this._rb.y=t.y+e,this._lb.x=t.x,this._lb.y=t.y+e}renderControl(t){t.drawImage(this),super.renderControl(t)}copy(t){super.copy(t),this.imageId=t.imageId;const e=t.image;this._image=e,this.wRate=e?.height/e?.width??0}toJson(){return Object.assign(super.toJson(),{imageId:this.imageId})}}const Ht=50,Wt=50;class Ot{static page=null;static setPage(t){this.page=t}static makeUUID(){return self.crypto.randomUUID()}static async clearClipboard(){return new Promise(((t,e)=>{try{navigator.clipboard.writeText(""),t({msg:"클립보드가 비워졌습니다."})}catch(t){e(new Error("클립보드를 지우는데 실패했습니다:"))}}))}static interSectRect({p1:t,p2:e},{p3:n,p4:o}){const i={x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)},r={x:Math.min(e.x,o.x),y:Math.min(e.y,o.y)};return r.x-i.x<=0||r.y-i.y<=0?null:{p1:i,p2:r}}static setDefaultRectPosition(t,e){t.lt.x=e.x,t.lt.y=e.y,t.rt.x=e.x+Ht,t.rt.y=e.y,t.rb.x=e.x+Ht,t.rb.y=e.y+Wt,t.lb.x=e.x,t.lb.y=e.y+Wt}static ptInResizePoint(t,e){const n=this.#c(t.points),o=new Dt;o.updatePosition({x:n.minX,y:n.minY},{x:n.maxX,y:n.maxY});const i=o.lt,r=o.rt,s=o.rb,a=o.lb;return t.type===mt?this.#d(t,e):this.checkPoint(this.generateResizeRect(i),e)?this.#p(t,i,at):this.checkPoint(this.generateResizeRect(r),e)?this.#p(t,r,lt):this.checkPoint(this.generateResizeRect(s),e)?this.#p(t,s,ht):this.checkPoint(this.generateResizeRect(a),e)?this.#p(t,a,ct):t.type===Ct||t.type===Pt?nt:this.ptInLine(e,{p1:i,p2:a})?ot:this.ptInLine(e,{p1:r,p2:s})?it:this.ptInLine(e,{p1:i,p2:r})?rt:this.ptInLine(e,{p1:a,p2:s})?st:nt}static#d(t,e){const n=t.getLeftPoint(),o=t.getRightPoint();return this.checkPoint(this.generateResizeRect(n),e)?at:this.checkPoint(this.generateResizeRect(o),e)?ht:nt}static#p(t,e,n){if(t.type!==mt)return n;const o=t.p1,i=t.p2;return o.x===e.x&&o.y===e.y||i.x===e.x&&i.y===e.y?n:nt}static checkPoint(t,e){return t.lt.x<=e.x&&e.x<=t.rb.x&&t.lt.y<=e.y&&e.y<=t.rb.y}static checkDragPosition(t,e,n){Math.abs(e.x-n.x)<=10&&Math.abs(e.y-n.y)<=10&&t.setPosition(n)}static generateResizeRect(t){const e=t.x,n=t.y,o=this.page.coordinate.dpr,i=Math.ceil(4/o),r=new Dt;return r.fillColor="rgb(255, 255, 255)",r.lineColor="rgb(0, 0, 0)",r.lineWidth=1/o,r.updatePosition({x:e-i,y:n-i},{x:e+i,y:n+i}),r}static ptInLine(t,e){let n=t.x,o=t.y,i=e.p1.x,r=e.p1.y,s=e.p2.x,a=e.p2.y;const l=Math.sqrt((s-i)**2+(a-r)**2);return Math.sqrt((i-n)**2+(r-o)**2)+Math.sqrt((s-n)**2+(a-o)**2)-l<=1}static rgbToRgba(t,e){const n=t.indexOf("("),o=t.indexOf(")");return"rgba"+t.slice(n,o)+","+e+")"}static resize(t,e,n=null){const o=e.points;null===n&&(n=this.#u(t,e)),o.forEach((e=>{switch(t){case at:this.#g(n,e);break;case lt:this.#y(n,e);break;case ht:this.#m(n,e);break;case ct:this.#_(n,e);break;case ot:this.#w(n,e);break;case it:this.#x(n,e);break;case rt:this.#b(n,e);break;case st:this.#C(n,e)}}))}static#u(t,e){const n=this.#f(e.points);let o=n.maxX-n.minX,i=n.maxY-n.minY;const r={x:0,y:0};return Math.abs(o)<e.ratio.x*Math.abs(i)?(i=Math.abs(i),r.x=this.#v(o,i,e.ratio,t,r.x)):Math.abs(i)<e.ratio.y*Math.abs(o)&&(o=Math.abs(o),r.y=this.#M(o,i,e.ratio,t,r.y)),r}static#v(t,e,n,o,i){return i=t<0?n.x*(-1*e)-t:n.x*e-t,o!==at&&o!==ct||(i*=-1),i}static#M(t,e,n,o,i){return i=e<0?n.y*(-1*t)-e:n.y*t-e,o!==at&&o!==lt||(i*=-1),i}static#f(t){let e,n,o,i;return t.forEach((t=>{switch(t.position){case at:e=t.x,n=t.y;break;case lt:o=t.x,n=t.y;break;case ht:o=t.x,i=t.y;break;case ct:e=t.x,i=t.y;break;case ot:e=t.x;break;case it:o=t.x;break;case rt:n=t.y;break;case st:i=t.y}})),{minX:e,minY:n,maxX:o,maxY:i}}static#w(t,e){switch(e.position){case rt:case st:e.x+=t.x*e.xRatio;break;case ot:case at:case ct:e.x+=t.x;break;case it:case lt:case ht:return;default:e.x+=t.x*e.xRatio}}static#x(t,e){switch(e.position){case rt:case st:e.x+=t.x*e.xRatio;break;case it:case lt:case ht:e.x+=t.x;break;case ot:case at:case ct:return;default:e.x+=t.x*e.xRatio}}static#b(t,e){switch(e.position){case ot:case it:e.y+=t.y*e.yRatio;break;case rt:case at:case lt:e.y+=t.y;break;case st:case ct:case ht:return;default:e.y+=t.y*e.yRatio}}static#C(t,e){switch(e.position){case ot:case it:e.y+=t.y*e.yRatio;break;case st:case ct:case ht:e.y+=t.y;break;case rt:case at:case lt:return;default:e.y+=t.y*e.yRatio}}static#g(t,e){this.#w(t,e),this.#b(t,e)}static#y(t,e){this.#x(t,e),this.#b(t,e)}static#m(t,e){this.#x(t,e),this.#C(t,e)}static#_(t,e){this.#w(t,e),this.#C(t,e)}static#c(t){return t.reduce(((t,e)=>({minX:Math.min(t.minX,e.x),minY:Math.min(t.minY,e.y),maxX:Math.max(t.maxX,e.x),maxY:Math.max(t.maxY,e.y)})),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0})}static createImageFileToImageRect(t,e,n={x:0,y:0}){const o=new Ut(t);return this.fitBackgroundImage(o,e,n),o}static fitBackgroundImage(t,e,n={x:0,y:0}){const o=t.image,i=e.width,r=e.height;let s=o.width,a=o.height;if(s>=i){const t=a/s;s=i-10,a=s*t}if(a>=r){const t=s/a;a=r-10,s=a*t}const l=(i-s)/2,h=(r-a)/2;t.lt.x=l+n.x,t.lt.y=h+n.y,t.rt.x=l+s+n.x,t.rt.y=h+n.y,t.rb.x=l+s+n.x,t.rb.y=h+a+n.y,t.lb.x=l+n.x,t.lb.y=h+a+n.y,t.updatePosition()}static intersect(t,e,n=!1,o=!1,i=!1,r=!1){const s=t.p1,a=t.p2,l=e.p1,h=e.p2;let c=(h.y-l.y)*(a.x-s.x)-(h.x-l.x)*(a.y-s.y);if(0===c)return null;let d=s.y-l.y,p=s.x-l.x,u=(h.x-l.x)*d-(h.y-l.y)*p,g=(a.x-s.x)*d-(a.y-s.y)*p;d=u/c,p=g/c;let y=s.x+d*(a.x-s.x),m=s.y+d*(a.y-s.y);return(d>=0&&d<=1||n&&d<0||o&&d>1)&&(p>=0&&p<=1||i&&p<0||r&&p>1)?{x:y,y:m}:null}}class Nt{constructor(t,e){this._name=t,this._runner=e}get name(){return this._name}get runner(){return this._runner}run(){console.log(this._name),this._runner()}}class Ft extends x{constructor(){super()}get type(){return _}onDrop(t){t.originEvent.preventDefault(),this.editor=t.editor,this.canvas=t.editor.canvas,this.event=t,t.originEvent.shiftKey?this.#P(t.originEvent.dataTransfer.files[0]):this.#I(t.originEvent.dataTransfer.files)}#P(t){const e=this.event.editor.page,n=new FileReader;n.onload=t=>{let n=new Image;n.onload=t=>{const o={width:this.canvas.width,height:this.canvas.height},i=e.backgroundImg,r=Ot.createImageFileToImageRect(n,o);this.editor.historyManager.startUndo(new Nt("undo background image",(()=>{e.backgroundImg=i,this.event.editor.imageStorage.removeImage(r)}))),e.backgroundImg=r,this.event.editor.imageStorage.addImage(r),this.editor.historyManager.endUndo(new Nt("redo background image",(()=>{e.backgroundImg=r,this.event.editor.imageStorage.addImage(r)}))),this.editor.render()},n.src=t.target.result},n.readAsDataURL(t)}async#I(t){let e=0,n=0;for(let o=0;o<t.length;++o)await this.#k(t[o],{x:e,y:n}),e+=20,n+=20}#k(t,e){const n=this.event.editor.page;return new Promise(((o,i)=>{const r=new FileReader;r.onload=t=>{this.#R(((t,i)=>{const r=Ot.createImageFileToImageRect(t,i,e);this.editor.historyManager.startUndo(new Nt(`undo create ${r.type}`,(()=>{n.removeControl(r)}))),n.addControl(r),this.editor.historyManager.endUndo(new Nt(`redo create ${r.type}`,(()=>{n.addControl(r)}))),o()}),t)},r.onerror=()=>{i(new Error(`이미지 파일 [${t.name}] 로딩중 에러`))},r.readAsDataURL(t)}))}#R(t,e){const n={width:this.canvas.width,height:this.canvas.height};let o=new Image;o.onload=e=>{t(o,n),this.editor.render()},o.src=e.target.result}}class Vt extends dt{constructor(t){super(t)}render(t){const e=this.control;let n=Ot.generateResizeRect(e.p1),o=Ot.generateResizeRect(e.p2);t.start(),t.drawPolygon(n),t.drawPolygon(o),t.end()}}class Yt extends zt{constructor(t){super(t),this._p1=new At(at),this._p2=new At(ht),this.points.push(this.p1),this.points.push(this.p2),this._arrows=ce.create(kt),this._arrows.setLine(this)}get type(){return mt}get p1(){return this._p1}get p2(){return this._p2}setLineWidth(t){this.lineWidth=t,this.arrows().left().lineWidth=t,this.arrows().right().lineWidth=t}getWidth(){const t=this.p2.x-this.p1.x,e=this.p2.y-this.p1.y;return Math.sqrt(t**2+e**2)}getHeight(){return this.lineWidth}arrows(){return this._arrows}get angle(){return Math.atan2(this.p2.y-this.p1.y,this.p2.x-this.p1.x)}setPosition(t){this.p1.x=t.x,this.p1.y=t.y,this.p2.x=t.x+50,this.p2.y=t.y+50}move(t){super.move(t)}resize(t,e=null){if(e)if(t===at||t===ct){const t=this.getLeftPoint();t.x+=e.x,t.y+=e.y}else if(t===lt||t===ht){const t=this.getRightPoint();t.x+=e.x,t.y+=e.y}}getLeftPoint(){return this.p1.position===ot||this.p1.position===at||this.p1.position===ct?this.p1:this.p2}getRightPoint(){return this.p1.position===ot||this.p1.position===at||this.p1.position===ct?this.p2:this.p1}renderControl(t){t.drawLine(this.p1,this.p2,this.lineColor,this.lineWidth,1,this.lineStyle),this.arrows().render(t)}ptInControl(t){return Ot.ptInLine(t,this)}ptInHoverControl(t){return this.ptInControl(t)?new de(this):null}ptInSelectControl(t){return this.ptInControl(t)?new Vt(this):null}copy(t){super.copy(t)}}class Gt extends Lt{constructor(t){super(t),this.initHoverControl(new Zt)}}class Zt extends zt{constructor(t){super(t),this._top=new At(rt),this._left=new At(ct),this._right=new At(ht),this.points.push(this._top),this.points.push(this._left),this.points.push(this._right)}get type(){return wt}get top(){return this._top}get left(){return this._left}get right(){return this._right}updatePointPosition(){super.updatePointPosition(),this.points.forEach((t=>{switch(t.position){case st:case rt:this._top=t;break;case at:case ct:this._left=t;break;case lt:case ht:this._right=t}}))}move(t){super.move(t)}resize(t,e=null){return super.resize(t,e)}setPosition(t){this.top.x=t.x+Ht/2,this.top.y=t.y,this.left.x=t.x,this.left.y=t.y+Wt,this.right.x=t.x+Ht,this.right.y=t.y+Wt}render(t){super.render(t)}ptInControl(t){return super.ptInControl(t)}ptInHoverControl(t){return this.ptInControl(t)?new Gt(this):null}copy(t){this.copyPosition(t),super.copy(t)}}class Xt extends Lt{constructor(t){super(t),this.initHoverControl(new jt)}}class jt extends Bt{constructor(t){super(t)}get type(){return xt}get p(){return{x:(this.rb.x+this.lt.x)/2,y:(this.rb.y+this.lt.y)/2}}get xRadius(){return Math.abs(this.rb.x-this.lt.x)/2}get yRadius(){return Math.abs(this.rb.y-this.lt.y)/2}resize(t,e=null){super.resize(t,e)}move(t){super.move(t)}setPosition(t){super.setPosition(t)}renderControl(t){t.drawCircle(this)}ptInControl(t){const e=this.p,n=t.x-e.x,o=t.y-e.y;return n*n/(this.xRadius*this.xRadius)+o*o/(this.yRadius*this.yRadius)<=1}ptInHoverControl(t){return this.ptInControl(t)?new Xt(this):null}ptInSelectControl(t){return super.ptInSelectControl(t)}}class Jt{static _editor;static setEditor(t){this._editor||(this._editor=t)}static calculatorFontSize(t,e,n){const o=this._editor.ctx;o.save(),o.font=`${n}px Arial`;const i=o.measureText(t).width??.1;o.restore();let r=(e-5)/i;return r<=0||i<=0?.1:n*r}static calculatorFontWidthHeight(t,e,n){this._editor.ctx;const o=document.createElement("span");o.style.visibility="hidden",o.style.whiteSpace="pre",o.style.fontSize=e+"px",o.textContent=t,document.body.appendChild(o);const i=o.offsetWidth,r=o.offsetHeight;return document.body.removeChild(o),{width:i+5,height:r+5}}static getWhiteSpace(t){return this._editor.page.coordinate.dpr*t}}class $t extends Bt{constructor(t){super(t),this._text="",this._fontSize=20,this._fontColor="rgb(0, 0, 0)",this._isEdit=!1}get type(){return Ct}get text(){return this._text}set text(t){this._text=t}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t}get fontColor(){return this._fontColor}set fontColor(t){this._fontColor=t}get isEdit(){return this._isEdit}set isEdit(t){this._isEdit=t}resize(t,e=null){super.resize(t,e);let n=Math.abs(this.rt.x-this.lt.x)??.1;this.fontSize=Jt.calculatorFontSize(this.text,n,this.fontSize),this.updateSelectPosition()}renderControl(t){this.isEdit||(super.renderControl(t),t.drawLabel(this))}copy(t){super.copy(t),this.text=t.text,this.fontSize=t.fontSize,this.fontColor=t.fontColor}toJson(){return Object.assign(super.toJson(),{text:this.text,fontSize:this.fontSize,fontColor:this.fontColor})}}class Qt extends pt{constructor(t){super(t),this.selectionRect.lineWidth=1,this.selectionRect.lineColor="rgb(255,0,0)"}}class qt extends Bt{constructor(t){super(t),this.fillColor="none",this.lineColor="rgb(255,0,0)",this.lineWidth=3}get type(){return vt}move(t){super.move(t)}ptInControl(t){return!this.disable&&super.ptInControl(t)}ptInSelectControl(t){return this.ptInControl(t)?new Qt(this):null}}class te extends pt{constructor(t){super(t),this.selectionRect.lineWidth=2,this.selectionRect.lineColor="rgb(255,0,0)",this._renderResizeRect=!1}render(t){super.render(t)}}class ee extends Bt{constructor(t){super(t),this.fillColor="rgb(14,31,224)",this.lineColor="rgb(17,79,17)",this.lineWidth=2,this.opacity=.5,this._name="",this._id=""}get type(){return Mt}get name(){return this._name}set name(t){this._name=t}get id(){return this._id}set id(t){this._id=t}get label(){return this._label}move(t){}resize(t,e=null){}ptInSelectControl(t){return this.ptInControl(t)?new te(this):null}showName(t){document.getElementById("hover-text-wrap")}}class ne extends $t{constructor(t){super(t),this.lineColor="rgb(255,0,0)",this.fillColor="rgb(255,255,255)",this._lineWidth=2,this._linkLine=ce.create(It),this._linkLine.lineColor="rgb(255,0,0)",this._linkLine.pointLabel=this,this._linkLine.setLineWidth(2)}get type(){return Pt}get linkLine(){return this._linkLine}ptInControl(t){return super.ptInControl(t)}ptInHoverControl(t){let e=super.ptInHoverControl(t);return e||this._linkLine.ptInHoverControl(t)}updatePosition(){super.updatePosition(),this.updateEndPoint()}updateEndPoint(){const t={p1:{x:(this.rb.x+this.lt.x)/2,y:(this.lt.y+this.rb.y)/2},p2:this._linkLine.p2};let e={p1:this.lt,p2:this.rt},n=Ot.intersect(t,e);null===n?(e={p1:this.rt,p2:this.rb},n=Ot.intersect(t,e),null===n?(e={p1:this.lb,p2:this.rb},n=Ot.intersect(t,e),null===n?(e={p1:this.lt,p2:this.lb},n=Ot.intersect(t,e),null===n?this._linkLine.p1.copy(this._linkLine.p2):this._linkLine.p1.copy(n)):this._linkLine.p1.copy(n)):this._linkLine.p1.copy(n)):this._linkLine.p1.copy(n)}initEndPoint(){const t=(this.rb.x+this.lt.x)/2;this.rb.y;this._linkLine.p2.x=t,this._linkLine.p2.y=this.rb.y+25,this.updateEndPoint()}#E(t){let e=this._linkLine.p2,n={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y)},o={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)};n.x===o.x&&++o.x,n.y===o.y&&++o.y;const i={x:this.lt.x,y:this.lt.y},r={x:this.rb.x,y:this.rb.y};if(null===Ot.interSectRect({p1:i,p2:r},{p3:n,p4:o}))return!0}resize(t,e=null){super.resize(t,e),this.updateEndPoint()}render(t){super.render(t),this._linkLine.render(t)}}const oe="line",ie="triangle";class re extends Tt{constructor(t){super(t),this._width=5,this._line=null,this._hide=!0,this._position=ot,this._arrowType=oe}get type(){return Rt}getArrowPosition(){return this._position}setArrowPosition(t){this._position=t}getLine(){return this._line}setLine(t){return this._line=t,this}get width(){return this._width}get arrowType(){return this._arrowType}set arrowType(t){this._arrowType=t}render(t){!this._hide&&this._line&&this.#S(t)}#S(t){switch(this._arrowType){case oe:t.drawLineArrow(this);break;case ie:t.drawTriangleArrow(this)}}}class se extends Yt{constructor(t){super(t),this._pointLabel=null,this._arrows.right().setHide(!1),this._arrows.right().arrowType=oe,this._arrows.right().lineColor="rgb(255, 0, 0)"}get pointLabel(){return this._pointLabel}set pointLabel(t){this._pointLabel=t}get type(){return It}render(t){t.start(),t.setLineJoin("round"),t.drawLine(this.p1,this.p2,this.lineColor,this.lineWidth,1,this.lineStyle),t.end(),this.arrows().render(t)}}class ae extends Tt{constructor(t){super(t),this.leftArrow=ce.create(Rt),this.rightArrow=ce.create(Rt),this.rightArrow.setArrowPosition(it),this._line=null}get type(){return kt}setLine(t){this._line=t,this.leftArrow.setLine(t),this.rightArrow.setLine(t)}left(){return this.leftArrow}right(){return this.rightArrow}render(t){null===this._line||this._line.p1.x===this._line.p2.x&&this._line.p1.y===this._line.p2.y||(this.leftArrow.render(t),this.rightArrow.render(t))}}class le extends Bt{constructor(t){super(t),this._fillColor="none",this._controls=[],this._controlsPos=[]}get controls(){return this._controls}set controls(t){this._controls=t}get controlsPos(){return this._controlsPos}get type(){return Et}setLineWidth(t){super.setLineWidth(t),this.controls.forEach((e=>e.setLineWidth(t)))}setLineColor(t){super.setLineColor(t),this.controls.forEach((e=>e.setLineColor(t)))}setLineStyle(t){super.setLineStyle(t),this.controls.forEach((e=>e.setLineStyle(t)))}setFillColor(t){super.setFillColor(t),this.controls.forEach((e=>e.setFillColor(t)))}setOpacity(t){super.setOpacity(t),this.controls.forEach((e=>e.setOpacity(t)))}setHide(t){super.setHide(t),this._controls.forEach((e=>{e.setHide(t)}))}updateGroupPosition(){this.#T(),this.#z()}#T(){if(this.minPoint.x=0,this.minPoint.y=0,this.maxPoint.x=0,this.maxPoint.y=0,0===this._controls.length)return;this.minPoint.x=this._controls[0].minPoint.x,this.minPoint.y=this._controls[0].minPoint.y,this.maxPoint.x=this._controls[0].maxPoint.x,this.maxPoint.y=this._controls[0].maxPoint.y,this._controls.forEach((t=>{t.updateSelectPosition(),this.minPoint.x=Math.min(t.minPoint.x,this.minPoint.x),this.minPoint.y=Math.min(t.minPoint.y,this.minPoint.y),this.maxPoint.x=Math.max(t.maxPoint.x,this.maxPoint.x),this.maxPoint.y=Math.max(t.maxPoint.y,this.maxPoint.y)}));const t=this.minPoint.x,e=this.minPoint.y,n=this.maxPoint.x,o=this.maxPoint.y;this.lt.copy({x:t,y:e}),this.rt.copy({x:n,y:e}),this.rb.copy({x:n,y:o}),this.lb.copy({x:t,y:o})}#z(){this._controlsPos=[];const t=this.width,e=this.height,n=this.minPoint;this.controls.forEach((o=>{const i=[];o.points.forEach((o=>{i.push((new At).setX((o.x-n.x)/t).setY((o.y-n.y)/e))})),this._controlsPos.push(i)}))}ptInHoverControl(t){return this.ptInControl(t)?new Kt(this):null}move(t){super.move(t),this.updateSelectPosition(),this.updateControlsPosition()}resize(t,e){super.resize(t,e),this.updateSelectPosition(),this.updateControlsPosition()}updateControlsPosition(){const t=this.width,e=this.height,n=this.minPoint;this._controlsPos.forEach(((o,i)=>{const r=this.controls[i];r.points.forEach(((i,r)=>{i.x=o[r].x*t+n.x,i.y=o[r].y*e+n.y})),r.updatePosition(),r.type===Et&&r.updateControlsPosition()}))}render(t){this.hide&&this.ratioControl?.controls.forEach((e=>{e.renderControl(t)}))}renderControl(t){this.controls.forEach((e=>{e.renderControl(t)}))}initCopy(t){super.copy(t),t.controls.forEach((t=>{const e=ce.fromControl(t);e.copy(t),this.controls.push(e)})),t.controlsPos.forEach((t=>{const e=[];t.forEach((t=>{e.push((new At).copy(t))})),this._controlsPos.push(e)})),this.updatePosition()}copy(t){super.copy(t),this.controls.forEach(((e,n)=>{e.copy(t.controls[n]),e.type===Ct&&e.updateSelectPosition()})),this.controlsPos.forEach(((e,n)=>{const o=t.controlsPos[n];e.forEach(((t,e)=>{t.copy(o[e])}))})),this.updatePosition()}addChild(t){this._controls.push(t)}removeChild(t){this._controls=this._controls.filter((e=>e!==t))}hasControl(t){return this._controls.some((e=>t===e))}combine(){this._controls.forEach((t=>{t.parent=this}))}release(){this._controls.forEach((t=>{t.parent=null}))}toJson(){const t=[];return this._controls.forEach((e=>{t.push({id:e.id})})),Object.assign(super.toJson(),{controls:t})}}class he extends le{constructor(t){super(t)}get type(){return St}}class ce{constructor(){}static createById(t,e){switch(t){case mt:return new Yt(e);case _t:return new Bt(e);case wt:return new Zt(e);case xt:return new jt(e);case bt:return new Ut(e);case Ct:return new $t(e);case vt:return new qt(e);case Mt:return new ee(e);case Pt:return new ne(e);case It:return new se(e);case kt:return new ae(e);case Rt:return new re(e);case Et:return new le(e);default:return new Tt(e)}}static fromControl(t){if(t.type===Et){const e=new le;return e.initCopy(t),e}if(t.type===St){const e=new he;return e.initCopy(t),e}return this.create(t.type)}static create(t){switch(t){case mt:return new Yt;case _t:return new Bt;case wt:return new Zt;case xt:return new jt;case bt:return new Ut;case Ct:return new $t;case vt:return new qt;case Mt:return new ee;case Pt:return new ne;case It:return new se;case kt:return new ae;case Rt:return new re;case Et:return new le;case St:return new he;default:return new Tt}}}class de extends Lt{constructor(t){super(t),this.initHoverControl(ce.create(t.type))}}class pe extends pt{constructor(t){super(t)}render(t){this._control.render(t),super.render(t)}}class ue{static createHoverRender(t){switch(t.type){case mt:return new de(t);case xt:return new Xt(t);case _t:case bt:case Ct:case Et:case St:return new Kt(t);case wt:return new Gt(t);default:return new Lt(t)}}static createSelectRender(t){switch(t.type){case mt:return new Vt(t);case vt:return new Qt(t);case Mt:return new te(t);case Et:case St:return new pe(t);default:return new pt(t)}}static createControlRender(t){return new pt(t)}}class ge extends x{constructor(){super()}get type(){return w}onPaste(t){if("BODY"!==document.activeElement.tagName)return;const e=t.editor,n=e.page,o=(t.originEvent.clipboardData||t.originEvent.originalEvent.clipboardData).items;let i=!1;for(let t of o)if(0===t.type.indexOf("image")){const o=t.getAsFile(),r=new Image,s=URL.createObjectURL(o);r.onload=()=>{const t=Ot.createImageFileToImageRect(r,{width:n.width,height:n.height});n.addControl(t),n.copyControl=t,URL.revokeObjectURL(s);let o=e.page.selectRender;e.historyManager.startUndo(new Nt(`undo paste ${t.type} control`,(()=>{e.page.selectRender=o,e.page.removeControl(t)}))),e.page.selectRender=ue.createSelectRender(t);let i=e.page.selectRender;e.historyManager.endUndo(new Nt(`redo paste ${t.type} control`,(()=>{e.page.selectRender=i,e.page.addControl(t)}))),e.render()},r.src=s,i|=!0}i||e.tools.pasteControl()}}class ye{constructor(t){this.event=new i(t),this.handler=new et,this.handlers=new Map,this.addHandler(new Ft),this.addHandler(new ge),this.dragHandler=null}addHandler(t){this.handlers.set(t.type,t)}removeHandler(t){this.handlers.delete(t.type)}startDragHandler(t){this.dragHandler=t}finishDragHandler(){this.dragHandler=null}onDoubleClick(t){this.#t(t),this.handlers.forEach((t=>{t.onDoubleClick(this.event)}))}onMouseDown(t){this.#t(t),this.handler.onMouseDown(this.event),null===this.dragHandler?this.handlers.forEach((t=>{t.onMouseDown(this.event)})):this.dragHandler.onMouseDown(this.event)}onMouseMove(t){this.#t(t),this.handler.onMouseMove(this.event),null===this.dragHandler?this.handlers.forEach((t=>{t.onMouseMove(this.event)})):this.dragHandler.onMouseMove(this.event)}onMouseUp(t){this.#t(t),this.handler.onMouseUp(this.event),null===this.dragHandler?this.handlers.forEach((t=>{t.onMouseUp(this.event)})):this.dragHandler.onMouseUp(this.event)}onKeyDown(t){this.#t(t),this.handler.onKeyDown(this.event),null===this.dragHandler?this.handlers.forEach((t=>{t.onKeyDown(this.event)})):this.dragHandler.onKeyDown(this.event)}onMouseWheel(t){this.#t(t),this.handler.onMouseWheel(this.event),null===this.dragHandler?this.handlers.forEach((t=>{t.onMouseWheel(this.event)})):this.dragHandler.onMouseWheel(this.event)}onKeyUp(t){this.#t(t),this.handler.onKeyUp(this.event),null===this.dragHandler?this.handlers.forEach((t=>{t.onKeyUp(this.event)})):this.dragHandler.onKeyUp(this.event)}onDrop(t){this.#t(t),this.handlers.forEach((t=>{t.onDrop(this.event)}))}onPaste(t){this.#t(t),this.handlers.forEach((t=>{t.onPaste(this.event)}))}#t(t){this.event.originEvent=t}}class me{constructor(t){this._coordinate=t.coordinate,this._ctx=t.ctx}get ctx(){return this._ctx}drawLabel(t){const e=t.minPoint.x,n=t.minPoint.y,o=t.maxPoint.x,i=t.maxPoint.y;this.ctx.save(),this.ctx.font=`${t.fontSize}px Arial`,this.ctx.fillStyle=t.fontColor,this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(t.text,(e+o)/2,(n+i)/2),this.ctx.restore()}drawText(t,e,n=10,o="black"){this.start(),this.ctx.font=`${n}px Arial`,this.ctx.fillStyle=o,this.ctx.fillText(e,t.x,t.y),this.end()}drawLineArrow(t){const e=t.getLine();let n=e.p1,o=e.angle;t.getArrowPosition()===it&&(n=e.p2,o+=Math.PI);const i=t.lineWidth%2?0:-.5,r=t.width;this.start(),this.translate(n.x,n.y),this.rotate(o),this.ctx.lineJoin="round",this.ctx.lineCap="round",this.startLine(),this.lineOption(t.lineColor,t.lineWidth),this.line({x:i,y:i},{x:r,y:-r}),this.line({x:i,y:i},{x:r,y:r}),this.endLine(),this.end()}drawTriangleArrow(t){const e=t.getLine();let n=e.p1,o=e.angle;t.getArrowPosition()===it&&(n=e.p2,o+=Math.PI);const i=t.lineWidth%2?0:-.5,r=t.width;this.start(),this.translate(n.x,n.y),this.rotate(o),this.ctx.lineJoin="round",this.startLine(),this.lineOption(t.lineColor,t.lineWidth),this.moveTo(i,i),this.lineTo(r,-r),this.lineTo(r,r),this.lineTo(i,i),this.fill(t.lineColor,1),this.endPolygonLine(),this.end()}setLineJoin(t){this.ctx.lineJoin=t}drawLine(t,e,n="rgb(0,0,0)",o=1,i=1,r=ut){return this.start(),this.startLine(),this.lineOption(n,o,i,r),this.line(t,e),this.endLine(),this.end(),this}lineOption(t="rgb(0,0,0)",e=1,n=1,o=ut){const i=this._ctx;i.strokeStyle=Ot.rgbToRgba(t,n),i.lineWidth=e,o!==ut&&this.ctx.setLineDash([5,5])}line(t,e){this.moveTo(t.x,t.y),this.lineTo(e.x,e.y)}startLine(){this.ctx.beginPath()}endPolygonLine(){this.ctx.closePath(),this.ctx.stroke()}endLine(){this.ctx.stroke(),this.ctx.closePath()}start(){this.ctx.save()}end(){this.ctx.restore()}rotate(t){this.ctx.rotate(t)}translate(t,e){this.ctx.translate(t,e)}drawPolygon(t){const e=t.points;this.start(),this.startLine(),this.lineOption(t.lineColor,t.lineWidth,1,t.lineStyle);const n=e[0];this.moveTo(n.x,n.y);for(let t=1;t<e.length;++t){const n=e[t];this.lineTo(n.x,n.y)}this.lineTo(n.x,n.y),"none"!==t.fillColor&&this.fill(t.fillColor,t.opacity),this.endPolygonLine(),this.end()}drawTriangle(t){const e=t.top,n=t.left,o=t.right;this.start(),this.startLine(),this.lineOption(t.lineColor,t.lineWidth,1,t.lineStyle),this.moveTo(e.x,e.y),this.lineTo(n.x,n.y),this.lineTo(o.x,o.y),this.lineTo(e.x,e.y),""!==t.fillColor&&this.fill(t.fillColor,t.opacity),this.endPolygonLine(),this.end()}drawCircle(t){const e=this.ctx;this.start(),this.startLine(),e.ellipse(t.p.x,t.p.y,t.xRadius,t.yRadius,0,0,2*Math.PI),""!==t.fillColor&&this.fill(t.fillColor,t.opacity),""!==t.lineColor&&this.lineOption(t.lineColor,t.lineWidth,1,t.lineStyle),this.endPolygonLine(),this.end()}fill(t,e=1){const n=this.ctx;n.fillStyle=Ot.rgbToRgba(t,e),n.fill()}drawImage(t){this.start();const e=t.rb.x-t.lt.x,n=t.rb.y-t.lt.y,o=t.image;this._ctx.globalAlpha=t.opacity,o?this._ctx.drawImage(o,t.lt.x,t.lt.y,e,n):(this.startLine(),this.line(t.lt,t.rb),this.line(t.rt,t.lb),this.endPolygonLine()),this.end()}moveTo(t,e){const n=this.ctx.lineWidth%2==0?0:.5;this.ctx.moveTo(Math.round(t)-n,Math.round(e)-n)}lineTo(t,e){const n=this.ctx.lineWidth%2==0?0:.5;this.ctx.lineTo(Math.round(t)-n,Math.round(e)-n)}}class _e{constructor(){this._curPoint={x:0,y:0},this._orgPoint={x:0,y:0},this._wayPoint={x:0,y:0},this._dpr=1,this.MAXDPR=5*this._dpr,this.MINDPR=this._dpr}get curPoint(){return this._curPoint}set curPoint(t){this._curPoint=t}get orgPoint(){return this._orgPoint}set orgPoint(t){this._orgPoint=t}get wayPoint(){return this._wayPoint}set wayPoint(t){this._wayPoint.x=t.x,this._wayPoint.y=t.y}get dpr(){return this._dpr}set dpr(t){this._dpr=t}}const we="default",xe="move",be="nwse-resize",Ce="nesw-resize",fe="ew-resize",ve="ns-resize",Me="text",Pe="grabbing",Ie="grab",ke="zoom-in",Re="zoom-out",Ee="pointer";class Se{constructor(t){this._editor=t,this._ctx=t.ctx,this.setCursor(we),this._coordinate=new _e,this._painter=new me(this),this._controls=[],this._newControl=null,this._selectControls=[],this._selectRender=null,this._hoverRender=null,this._copyControl=null,this._hoverRenders=[],this.gridSize=25,this.gridCount=5,this._viewControlOrder=!1,this._viewOutLine=!1,this._viewGridLine=!0,this._backgroundImg=null,this._selCaptureControl=null,this._width=this._ctx.canvas.width,this._height=this._ctx.canvas.height}get ctx(){return this._ctx}get width(){return this._ctx.canvas.width}get height(){return this._ctx.canvas.height}get controls(){return this._controls}get newControl(){return this._newControl}set newControl(t){this._newControl=t}get selectControls(){return this._selectControls}get selectRender(){return this._selectRender}set selectRender(t){this._selectRender=t}get hoverRender(){return this._hoverRender}set hoverRender(t){this._hoverRender=t}get hoverRenders(){return this._hoverRenders}set hoverRenders(t){this._hoverRenders=t}get copyControl(){return this._copyControl}set copyControl(t){this._copyControl=t}get painter(){return this._painter}setCursor(t){this._ctx.canvas.style.cursor=t}get viewControlOrder(){return this._viewControlOrder}set viewControlOrder(t){this._viewControlOrder=t}get viewOutLine(){return this._viewOutLine}set viewOutLine(t){this._viewOutLine=t}get viewGridLine(){return this._viewGridLine}set viewGridLine(t){this._viewGridLine=t}get backgroundImg(){return this._backgroundImg}set backgroundImg(t){this._backgroundImg=t}get selectCaptureControl(){return this._selCaptureControl}set selectCaptureControl(t){this._selCaptureControl=t}get coordinate(){return this._coordinate}addControl(t,e){e?this.controls.splice(e,0,t):this.controls.push(t),t.type===bt&&this._editor.imageStorage.addImage(t),this.render()}removeControl(t){this._controls=this.controls.filter((e=>e!==t)),t===this.selectRender?.control&&(this.selectRender=null),t===this.hoverRender?.control&&(this.hoverRender=null),t.parent?.removeChild(t),t.parent?.updateGroupPosition(),t.parent===this.selectRender?.control&&0===t.parent.controls.length&&(this.selectRender=null),t.parent=null,this._hoverRenders=this._hoverRenders.filter((e=>e.control!==t)),t.type===bt&&this._editor.imageStorage.removeImage(t),this.render()}removeAllControl(){this.selectRender=null,this.hoverRender=null,this.hoverRenders=[],this._controls=[]}clearRenders(){this.selectRender=null,this.hoverRender=null,this.hoverRenders?.forEach((t=>t.control.parent=null)),this.hoverRenders=[]}render(){this.transform(),this.renderBackground(),this._controls.forEach(((t,e)=>{t.render(this.painter),this.viewControlOrder&&this.painter.drawText(t.minPoint,e)})),this.hoverRenders.forEach((t=>t.render(this.painter))),this.hoverRender?.render(this.painter),this.selectRender?.render(this.painter)}captureBackgroundImage(){this.renderBackground()}renderBackground(){this.renderGrid(),this?._backgroundImg?.render(this._painter)}renderGrid(){const t=this.coordinate,e=t.dpr,n=t.wayPoint,o=t.orgPoint;let i=this._ctx.canvas.width/e,r=this._ctx.canvas.height/e,s=-o.x/e-n.x;const a=s+ ++i;let l=-o.y/e-n.y;const h=l+ ++r;if(this._ctx.clearRect(--s,--l,i,r),this.viewGridLine&&(this.renderGridLine(s,a,l,h,!0),this.renderGridLine(l,h,s,a,!1)),this._viewOutLine){const t=this._ctx.canvas.width,e=this._ctx.canvas.height;this.painter.drawLine({x:0,y:0},{x:t,y:0},"rgb(0,0,255)",3,1),this.painter.drawLine({x:t,y:0},{x:t,y:e},"rgb(0,0,255)",3,1),this.painter.drawLine({x:t,y:e},{x:0,y:e},"rgb(0,0,255)",3,1),this.painter.drawLine({x:0,y:e},{x:0,y:0},"rgb(0,0,255)",3,1)}}renderGridLine(t,e,n,o,i){const r=this.gridSize;let s=t%r,a=Math.floor(t/r);0!==s&&(a=t<0?a-1:a+1,t=a*r);for(let s=t;s<e;){const t=a%this.gridCount==0?2:1,e=a%this.gridCount==0?"rgba(0, 0, 0, 0.6)":"rgb(129, 138, 138)",l=this.getLinePoint({x:s,y:n},{x:s,y:o},i);this.painter.drawLine(l.p1,l.p2,e,t,.5),s+=r,++a}}getLinePoint(t,e,n){return n?{p1:t,p2:e}:{p1:{x:t.y,y:t.x},p2:{x:e.y,y:e.x}}}scaleIn(t=1.03){const e=this.coordinate;e.dpr!==e.MAXDPR&&(e.dpr*t>=e.MAXDPR&&(t=e.MAXDPR/e.dpr),this.scale(t),this.render())}scaleOut(t=.97){const e=this.coordinate;e.dpr!==e.MINDPR&&(e.dpr*t<=e.MINDPR&&(t=e.MINDPR/e.dpr),this.scale(t),this.render())}scale(t){const e=this._coordinate;e.dpr*=t;const n={x:e.orgPoint.x,y:e.orgPoint.y};e.orgPoint={x:e.curPoint.x-(e.curPoint.x-n.x)*t,y:e.curPoint.y-(e.curPoint.y-n.y)*t};const o=e.orgPoint,i=e.wayPoint;let r=-o.x/e.dpr-i.x;const s=this.width,a=n.x;if(r<0){let i=o.x+r*e.dpr,s=(i-a*t)/(1-t);i=s-(s-n.x)*t,e.curPoint.x=s,o.x=i}else if(s<this.width/e.dpr+r){const i=this.width/e.dpr+r-s;let l=o.x+i*e.dpr,h=(l-a*t)/(1-t);l=h-(h-n.x)*t,e.curPoint.x=h,o.x=l}let l=-o.y/e.dpr-i.y;const h=this.height,c=n.y;if(l<0){let i=o.y+l*e.dpr,r=(i-c*t)/(1-t);i=r-(r-n.y)*t,e.curPoint.y=r,o.y=i}else if(h<this.height/e.dpr+l){const i=this.height/e.dpr+l-h;let r=o.y+i*e.dpr,s=(r-c*t)/(1-t);r=s-(s-n.y)*t,e.curPoint.y=s,o.y=r}e.curPoint;this.transform()}transform(){const t=this.coordinate.orgPoint,e=this.coordinate.wayPoint,n=this.coordinate.dpr,o=e.x*n,i=e.y*n;this._ctx.setTransform(n,0,0,n,t.x+o,t.y+i)}toJson(){const t=[];this.controls.forEach((e=>{t.push(e.toJson())}));let e={controls:t};return null!==this.backgroundImg&&(e=Object.assign(e,{backgroundImage:this.backgroundImg.toJson()})),e}}class Te{constructor(t){this.editor=t}active(){}deActive(){}}class ze extends dt{constructor(t){super(t)}render(t){const e=this.control;t.drawLine(e.p1,e.p2,"grey",1,.5)}}class Le extends x{constructor(t){super(),this.line=t.page.newControl,this.editor=t,t.addForegroundRender(new ze(this.line)),t.historyManager.startUndo(new Nt("undo create line",(()=>{t.page.removeControl(this.line)})))}get type(){return h}onMouseDown(t){t.editor.page.clearRenders()}onMouseMove(t){t.down?(this.line.p1.x=t.downPoint.x,this.line.p1.y=t.downPoint.y,this.line.p2.x=t.point.x,this.line.p2.y=t.point.y):this.line.setPosition(t.point),this.editor.render()}onMouseUp(t){Ot.checkDragPosition(this.line,t.downPoint,t.point),this.line.updatePosition(),this.editor.removeForegroundRender(),this.editor.clearCommand(),t.editor.page.addControl(this.line),t.editor.historyManager.endUndo(new Nt("redo create line",(()=>{this.editor.page.addControl(this.line)})))}onMouseWheel(t){}onKeyDown(t){}onKeyUp(t){}}class Ke extends Te{constructor(t){super(t),this.handler=new Le(t)}active(){this.editor.addEventHandler(this.handler)}deActive(){this.editor.removeEventHandler(this.handler)}}class Ae extends dt{constructor(t){super(t)}render(t){t.drawPolygon(this.control)}}class Be extends x{constructor(t){super(),this.editor=t,this.rect=t.page.newControl,t.addForegroundRender(new Ae(this.rect)),t.historyManager.startUndo(new Nt("undo create rect",(()=>{t.page.removeControl(this.rect)})))}get type(){return c}onMouseDown(t){t.editor.page.clearRenders()}onMouseMove(t){const e=this.rect;t.down?(e.lt.x=t.downPoint.x,e.lt.y=t.downPoint.y,e.rt.x=t.point.x,e.rt.y=t.downPoint.y,e.rb.x=t.point.x,e.rb.y=t.point.y,e.lb.x=t.downPoint.x,e.lb.y=t.point.y):Ot.setDefaultRectPosition(e,t.point),this.editor.render()}onMouseUp(t){Ot.checkDragPosition(this.rect,t.downPoint,t.point),this.rect.updatePosition(),this.editor.removeForegroundRender(),this.editor.clearCommand(),t.editor.page.addControl(this.rect),t.editor.historyManager.endUndo(new Nt("redo create rect",(()=>{this.editor.page.addControl(this.rect)})))}}class De extends Te{constructor(t){super(t),this.handler=new Be(t)}active(){this.editor.addEventHandler(this.handler)}deActive(){this.editor.removeEventHandler(this.handler)}}class Ue{constructor(){this.command=null}execute(t){this.command?.deActive(),t.active(),this.command=t}}class He extends Nt{constructor(t,e){const n=[];e.controls.forEach((t=>{const e=[];t.points.forEach(((t,n)=>{e.push(t.clone())})),n.push(e)})),super(t,(()=>{e.controls.forEach(((t,e)=>{const o=n[e];t.points.forEach(((t,e)=>{t.copy(o[e])})),t.updatePosition(),t?.parent?.updateGroupPosition(),t.type===Et&&t.updateControlsPosition()}))}))}}class We extends Nt{constructor(t,e){if(e.type===St){const n=new He(t,e);return void super(n.name,n.runner)}const n=[];e.points.forEach(((t,e)=>{n[e]=t.clone()}));const o=e?.fontSize??0;super(t,(()=>{for(let t=0;t<e.points.length;++t)e.points[t].copy(n[t]);e.updatePosition(),e.type===Et&&e.updateControlsPosition(),0!==o&&(e.fontSize=o)}))}}class Oe extends x{onMouseMove(t){const e=t.editor.page.selectRender.control;let n=t.point.x-t.downPoint.x,o=t.point.y-t.downPoint.y;t.downPoint.x=t.point.x,t.downPoint.y=t.point.y;const i=this.#L(t.editor.page.backgroundImg,e,{x:n,y:o});n=i.x,o=i.y,e.move({x:n,y:o}),e.updatePosition(),t.editor.page.render(),t.editor.updateMarkViewer()}#L(t,e,n){if(null===t||e.type!==vt)return n;const o=e.lt,i=e.rb,r=t.lt,s=t.rb;return o.x+n.x<=r.x?n.x=r.x-o.x:i.x+n.x>=s.x&&(n.x=s.x-i.x),o.y+n.y<=r.y?n.y=r.y-o.y:i.y+n.y>=s.y&&(n.y=s.y-i.y),n}onMouseUp(t){t.editor.finishDragHandler(),Math.abs(t.dragMovePoint.x)<=1&&Math.abs(t.dragMovePoint.y)<=1||t.editor.historyManager.endUndo(new We("redo move",t.editor.page.selectRender.control))}}class Ne{static checkCaptureBackgroundImage(t,e){if(null===e||t.type!==vt)return!1;const n=t.lt,o=t.rb,i=e.lt,r=e.rb;return n.x>r.x||o.x<i.x||n.y>r.y||o.y<i.y||(t.lt.x=Math.max(n.x,i.x),t.lt.y=Math.max(n.y,i.y),t.rb.x=Math.min(o.x,r.x),t.rb.y=Math.min(o.y,r.y),n.x===o.x&&n.x===i.x?o.x=i.x+1:n.x===o.x&&(n.x=r.x-1),n.y===o.y&&n.y===i.y?o.y=i.y+1:n.y===o.y&&(n.y=r.y-1),t.rt.x=o.x,t.rt.y=n.y,t.lb.x=n.x,t.lb.y=o.y,t.updatePosition(),!1)}static loadControlRectPosition(t,e,n){const o=n.rb.x-n.lt.x,i=n.rb.y-n.lt.y,r={x:e.lt.x*o,y:e.lt.y*i},s={x:e.rb.x*o,y:e.rb.y*i};r.x+=n.lt.x,r.y+=n.lt.y,s.x+=n.lt.x,s.y+=n.lt.y,t.lt.x=r.x,t.lt.y=r.y,t.rt.x=s.x,t.rt.y=r.y,t.rb.x=s.x,t.rb.y=s.y,t.lb.x=r.x,t.lb.y=s.y,t.updatePosition()}static saveControlPosition(t,e){const n=e.getWidth(),o=e.getHeight(),i={x:t.lt.x-e.lt.x,y:t.lt.y-e.lt.y},r={x:t.rb.x-e.lt.x,y:t.rb.y-e.lt.y},s={lt:{x:i.x/n,y:i.y/o},rb:{x:r.x/n,y:r.y/o}};if(t.type===Pt){const i=t.linkLine,r={p1:{x:i.p1.x-e.lt.x,y:i.p1.y-e.lt.y},p2:{x:i.p2.x-e.lt.x,y:i.p2.y-e.lt.y}};s.arrow_line={p1:{x:r.p1.x/n,y:r.p1.y/o},p2:{x:r.p2.x/n,y:r.p2.y/o}}}return s}}class Fe extends x{constructor(t){super(),this._tmpHoverRenders=[...t],t.length=0}onMouseMove(t){const e=t.editor.page.selectRender,n=e.control,o=e.resizeType;let i=t.point.x-t.downPoint.x,r=t.point.y-t.downPoint.y;t.downPoint.x=t.point.x,t.downPoint.y=t.point.y,n.resize(o,{x:i,y:r});const s=n.ratioControl;s.copyPosition(n),s.resize(o),n.setHide(t.originEvent.shiftKey),t.editor.render()}onMouseUp(t){t.editor.page.hoverRenders=this._tmpHoverRenders;const e=t.editor.page.selectRender.control,n=e.ratioControl;e.hide&&e.copy(n),e.ratioControl=null,e.setHide(!1),e.updatePosition(),t.editor.finishDragHandler(),Ne.checkCaptureBackgroundImage(e,t.editor.page.backgroundImg)?t.editor.historyManager.cancelUndo():Math.abs(t.dragMovePoint.x)<=1&&Math.abs(t.dragMovePoint.y)<=1||(t.editor.historyManager.endUndo(new We("redo Resize",e)),t.editor.updateMarkViewer())}onKeyDown(t){switch(t.originEvent.key){case"Escape":return this.#K(t),void t.editor.render();case"Shift":const e=t.editor.page.selectRender.control;return t.editor.page.selectRender.control.setHide(e.type!==Ct),void t.editor.render()}}onKeyUp(t){"Shift"===t.originEvent.key&&(t.editor.page.selectRender.control.setHide(!1),t.editor.render())}#K(t){t.editor.page.selectRender.control.ratioControl=null,t.editor.page.selectRender.control.setHide(!1),t.down=!1,t.editor.page.setCursor(we),t.editor.historyManager.cancelUndo(),t.editor.finishDragHandler();t.editor.page.selectRender.control.updatePosition()}}const Ve="init_page",Ye="init_toolbar",Ge="init_canvas",Ze="resize_canvas",Xe="open_capture_area_data",je="save_capture_area",Je="update_mark_viewer",$e="change_change_image",Qe="show_hover_text",qe="hide_hover_text",tn="listen_select_area",en="open_label_data",nn="save_label_data";class on extends x{onMouseMove(t){const e=t.editor.page.hoverRender.control;e.p2.x=t.point.x,e.p2.y=t.point.y,e.pointLabel.updatePosition(),t.editor.page.render()}onMouseUp(t){t.editor.finishDragHandler(),t.dragMovePoint.x<=1&&t.dragMovePoint.y<=1||t.editor.historyManager.endUndo(new We("redo move endPoint",t.editor.page.hoverRender.control))}}const rn="none",sn="create",an="editable";class ln{constructor(t){this.#e(),this._editor=t,this._coordinate=t.page.coordinate,Jt.setEditor(t),this._status=rn,this._isEdit=!1}get isEdit(){return this._isEdit}updateLabel(t){this._label=t,this._label.isEdit=!0,this._input.value=t.text,this.#A()}#e(){const t=document.getElementById("text-editor");t?this._input=t:(this._input=document.createElement("input"),this._input.id="text-editor",this._input.className="hidden absolute outline-0 pl-1 bg-transparent focus:border-transparent",this._input.addEventListener("keydown",(t=>{this.update()})),document.body.appendChild(this._input))}#A(){const t=this._input.getBoundingClientRect();let e=this.getSize(this._coordinate.dpr).width+Jt.getWhiteSpace(this._label.fontSize),n=t.x+e;const o=this._editor.maxPosition,i=n-o.x;i>0&&(e-=i);const r=t.y+t.height-o.y;if(r>0){const t=Number(this._input.style.top.slice(0,-2));this._input.style.top=t-r+"px"}this._input.style.width=e+"px"}getSize(t){let e=this._label.fontSize;return t&&(e*=t),Jt.calculatorFontWidthHeight(this._input.value,e)}startEdit(t,e=sn){this._status=e,this.show(t)}show(t){const e=this._input,n=this._editor.minPosition,o=Math.max(n.x,t.x),i=Math.max(n.y,t.y),r=this._coordinate.dpr;e.style.top=i+window.scrollY+"px",e.style.left=o+window.scrollX+"px",e.style.fontSize=this._label.fontSize*r+"px",e.style.backgroundColor=this.#B(),e.style.borderColor=this._label.lineColor,e.style.borderStyle=this._label.lineStyle,e.style.borderWidth=this._label.lineWidth*r+"px",e.classList.remove("hidden"),this._isEdit=!0,this.update(),this.focus()}endEdit(){this._status===sn?this.#D():this._status===an&&this.#U(),this._status=rn}#D(){if(this._editor.clearCommand(),this._label.isEdit=!1,""===this.val)return void this.hide();this._label.text=this.val+"";const t=this._label.lt.x,e=this._label.lt.y,n=this.getSize(),o=t+n.width+5,i=e+n.height;this._label.rt.x=o,this._label.rt.y=e,this._label.lb.x=t,this._label.lb.y=i,this._label.rb.x=o,this._label.rb.y=i,this._label.updatePosition(),this._label.type===Pt&&this._label?.initEndPoint(),this._editor.page.addControl(this._label),this.hide(),this._editor.historyManager.endUndo(new Nt(`redo create ${this._label.type}`,(()=>{this._editor.page.addControl(this._label)})))}#U(){const t=this._editor.textEditor;if(this._editor.clearCommand(),t.hide(),this._label.isEdit=!1,""===t.val)return void this._editor.page.removeControl(this._label);const e=this.val+"",n=this._label.lt.x,o=this._label.lt.y;const i=n+Jt.calculatorFontWidthHeight(e,this._label.fontSize).width;this._label.rt.x=i,this._label.rt.y=o,this._label.lb.x=n,this._label.rb.x=i,this._label.text=e,this._label.updatePosition(),this._editor.render()}#H(t){const e=this._editor.page.coordinate.dpr;return e*(t*e*.3)}#B(){const t=this._label.fillColor,e=this._label.fillColor.indexOf("("),n=this._label.fillColor.indexOf(")");return"rgba"+t.slice(e,n)+","+this._label.opacity+")"}focus(){this._input.focus()}hide(){this._isEdit=!1,this._input.classList.add("hidden")}update(){this.#A()}get val(){return this._input.value}get width(){return Math.round(this._input.style.width.slice(0,-2))}}class hn extends dt{constructor(t){super(t)}render(t){t.drawPolygon(this.control)}}class cn extends x{constructor(t){super(),this._editor=t,this._selectionRect=new Dt,this._selectionRect.fillColor="rgb(53,155,255)",this._selectionRect.opacity=.1,t.addForegroundRender(new hn(this._selectionRect))}onMouseMove(t){this._selectionRect.lt.x=t.downPoint.x,this._selectionRect.lt.y=t.downPoint.y,this._selectionRect.rt.x=t.point.x,this._selectionRect.rt.y=t.downPoint.y,this._selectionRect.rb.x=t.point.x,this._selectionRect.rb.y=t.point.y,this._selectionRect.lb.x=t.downPoint.x,this._selectionRect.lb.y=t.point.y;const e={x:Math.min(t.downPoint.x,t.point.x),y:Math.min(t.downPoint.y,t.point.y)},n={x:Math.max(t.downPoint.x,t.point.x),y:Math.max(t.downPoint.y,t.point.y)},o=t.editor.page,i=o.controls,r=[];i.forEach((t=>{if(null!==t.parent)return;const o=t.minPoint,i=t.maxPoint;null!==Ot.interSectRect({p1:o,p2:i},{p3:e,p4:n})&&r.push(ue.createHoverRender(t))})),o.hoverRenders=r,t.editor.render()}onMouseUp(t){t.editor.removeForegroundRender(),t.editor.finishDragHandler();const e=t.editor.page;if(0===e.hoverRenders.length)return;const n=ce.create(St);e.hoverRenders.forEach((t=>{n.addChild(t.control)})),n.combine(),n.updateGroupPosition(),e.selectRender=ue.createSelectRender(n)}}class dn extends x{constructor(){super()}get type(){return m}onDoubleClick(t){const e=t.editor.page;if(e?.selectRender?.control?.type===Ct||e?.hoverRender?.control?.type===Pt){const e=t.editor.page.selectRender.control;t.editor.textEditor.updateLabel(e);const n=e.lt,o=t.point,i={x:o.x-n.x,y:o.y-n.y},r=t.editor.page.coordinate.dpr;i.x*=r,i.y*=r;const s={x:t.clientPoint.x-i.x,y:t.clientPoint.y-i.y};t.editor.textEditor.startEdit(s,an),t.editor.tools.editeLabel(),t.editor.toolbarController.clear()}}onMouseDown(t){t.editor.menu.hide(),t.editor.toolbarController.hideContextToolbar();const e=t.editor.page;if(null!==e.selectRender&&e.selectRender.resizeType!==nt)return;let n=null;e.controls.slice().reverse().some((e=>(n=e.ptInSelectControl(t.point),null!==n))),this.#W(t,n)||(e?.selectRender?.control?.type===St&&e.selectRender.control.release(),e.hoverRenders=[],e.selectRender=n,e.render(),null!==n&&(t.editor.page.selectCaptureControl=n.control,t.editor.updateMarkViewer(),t.editor.apiManager.getInterface(tn)(n.control)))}#W(t,e){const n=t.editor.page;if(!t.keyPressed.shiftKey||null===n.selectRender||null===e)return this.#O(t);const o=n.selectRender.control;let i;if(o.type===St)i=o,this.#N(t.editor,i,e.control);else{if(o===e.control)return!1;i=ce.create(St),i.addChild(n.selectRender.control),i.addChild(e.control),n.hoverRenders.push(ue.createHoverRender(n.selectRender.control)),n.hoverRenders.push(ue.createHoverRender(e.control)),n.selectRender=ue.createControlRender(i)}return i.updateGroupPosition(),n.render(),!0}#O(t){const e=t.editor.page;return null!==e.selectRender&&e.selectRender.control.type===St&&null!==e.selectRender.control.ptInSelectControl(t.point)}#N(t,e,n){const o=t.page;t.historyManager,o.hoverRenders;e.hasControl(n)?(e.removeChild(n),o.hoverRenders=o.hoverRenders.filter((t=>t.control!==n))):(e.addChild(n),o.hoverRenders.push(ue.createHoverRender(n)))}onMouseMove(t){const e=t.editor.page;if(e.coordinate.curPoint={x:t.originEvent.offsetX,y:t.originEvent.offsetY},t.down)return void this.#F(t);let n=this.#V(t);e.hoverRender=n,e.render();if(t.editor.apiManager.getInterface(Qe)(t.clientPoint))e.setCursor(we);else if(null!==e.selectRender)return void this.#Y(t);null!==n?e.setCursor(Ee):e.setCursor(we)}#V(t){const e=t.editor.page;let n=null;return e.controls.slice().reverse().some((e=>(n=e.ptInHoverControl(t.point),null!==n))),e?.selectRender?.control?.type===St&&e.selectRender.control.hasControl(n?.control)?ue.createHoverRender(e.selectRender.control):(null==n&&null!==e.selectRender&&(n=e.selectRender.control.ptInHoverControl(t.point)),n)}#Y(t){const e=t.editor.page,n=e.selectRender?.control,o=Ot.ptInResizePoint(n,t.point);e.selectRender.resizeType=o,o===at||o===ht?e.setCursor(be):o===lt||o===ct?e.setCursor(Ce):o===ot||o===it?e.setCursor(fe):o===rt||o===st?e.setCursor(ve):null!==e.hoverRender?e.setCursor(Ee):e.setCursor(we)}#F(t){const e=t.editor.page,n=e.hoverRender?.control;if(n?.type===It)return t.editor.historyManager.startUndo(new We("undo move endPoint",n)),void t.editor.startDragHandler(new on);const o=e.selectRender?.control;if(null===e.selectRender||o.type===Mt)return t.editor.toolbarController.hideContextToolbar(),void t.editor.startDragHandler(new cn(t.editor));if(e.selectRender.resizeType!==nt){const n=e.selectRender.control;t.editor.historyManager.startUndo(new We("undo resize",n)),t.editor.startDragHandler(new Fe(e.hoverRenders)),t.editor.page.hoverRender=null;const o=ce.fromControl(n);return o.copy(n),void(n.ratioControl=o)}e.setCursor(xe),t.editor.historyManager.startUndo(new We("undo move",e.selectRender.control)),t.editor.startDragHandler(new Oe)}onMouseUp(t){this.#G(t)}onMouseWheel(t){}onKeyDown(t){}onKeyUp(t){}#G(t){if(t.editor.menu.hide(),t.editor.toolbarController.hideContextToolbar(),t.dragMovePoint.x>0&&t.dragMovePoint.y>0)return!1;if(t.keyPressed.shiftKey)return!1;const e=t.editor.page;return 2===t.originEvent.button||3===t.originEvent.which?(t.down=!1,t.editor.toolbarController.hideContextToolbar(),t.editor.menu.show(t.clientPoint),!1):(t.editor.menu.hide(),t.editor.toolbarController.hideContextToolbar(),null!==e.selectRender&&e.selectRender.control===e.hoverRender?.control&&(t.editor.toolbarController.showContextToolbar(t,e.selectRender.control),!0))}}class pn extends x{get type(){return l}onMouseWheel(t){const e=t.editor.page;t.originEvent.deltaY<0?e.scaleIn():e.scaleOut(),e.render()}}class un extends Te{constructor(t){super(t),this.handlers=[],this.handlers.push(new pn),this.handlers.push(new dn)}active(){this.handlers.forEach((t=>{this.editor.addEventHandler(t)}))}deActive(){this.handlers.forEach((t=>{this.editor.removeEventHandler(t)}))}}class gn extends dt{constructor(t){super(t)}render(t){t.drawPolygon(this.control)}}class yn extends x{constructor(t){super(),this.editor=t,this.triangle=t.page.newControl,t.addForegroundRender(new gn(this.triangle)),t.historyManager.startUndo(new Nt("undo create triangle",(()=>{t.page.removeControl(this.triangle)})))}get type(){return d}onMouseDown(t){t.editor.page.clearRenders()}onMouseMove(t){if(t.down){const e=t.point.x-t.downPoint.x;this.triangle.top.x=t.downPoint.x+e/2,this.triangle.top.y=t.downPoint.y,this.triangle.left.x=t.downPoint.x,this.triangle.left.y=t.point.y,this.triangle.right.x=t.point.x,this.triangle.right.y=t.point.y}else this.triangle.setPosition(t.point);t.editor.render()}onMouseUp(t){Ot.checkDragPosition(this.triangle,t.downPoint,t.point),this.triangle.updatePosition(),this.editor.removeForegroundRender(),this.editor.clearCommand(),t.editor.page.addControl(this.triangle),t.editor.historyManager.endUndo(new Nt("redo create triangle",(()=>{this.editor.page.addControl(this.triangle)})))}onKeyUp(t){super.onKeyUp(t)}}class mn extends Te{constructor(t){super(),this.editor=t,this.handler=new yn(t)}active(){this.editor.addEventHandler(this.handler)}deActive(){this.editor.removeEventHandler(this.handler)}}class _n extends dt{constructor(t){super(t)}render(t){const e=this.control;t.drawCircle(e)}}class wn extends x{constructor(t){super(),this.editor=t,this.circle=t.page.newControl,t.addForegroundRender(new _n(this.circle)),t.historyManager.startUndo(new Nt("undo create circle",(()=>{t.page.removeControl(this.circle)})))}get type(){return p}onMouseDown(t){t.editor.page.clearRenders()}onMouseMove(t){t.down?(this.circle.lt.x=t.downPoint.x,this.circle.lt.y=t.downPoint.y,this.circle.rt.x=t.point.x,this.circle.rt.y=t.downPoint.y,this.circle.rb.x=t.point.x,this.circle.rb.y=t.point.y,this.circle.lb.x=t.downPoint.x,this.circle.lb.y=t.point.y):this.circle.setPosition(t.point),this.editor.render()}onMouseUp(t){Ot.checkDragPosition(this.circle,t.downPoint,t.point),this.circle.updatePosition(),this.editor.removeForegroundRender(),this.editor.clearCommand(),t.editor.historyManager.endUndo(new Nt("redo create circle",(()=>{this.editor.page.addControl(this.circle)}))),t.editor.page.addControl(this.circle)}}class xn extends Te{constructor(t){super(t),this.handler=new wn(t)}active(){this.editor.addEventHandler(this.handler)}deActive(){this.editor.removeEventHandler(this.handler)}}class bn extends dt{constructor(t){super(t)}render(t){const e=this.control;t.drawImage(e)}}class Cn extends x{constructor(t,e){super(),this.editor=t,this.image=new Ut(e),t.addForegroundRender(new bn(this.image)),t.historyManager.startUndo(new Nt("undo create image",(()=>{t.page.removeControl(this.image)}))),this._maxImage=!1}get type(){return u}onMouseDown(t){t.editor.page.clearRenders()}onMouseMove(t){this._maxImage=!1;const e=this.image;t.down?(e.lt.x=t.downPoint.x,e.lt.y=t.downPoint.y,e.rt.x=t.point.x,e.rt.y=t.downPoint.y,e.rb.x=t.point.x,e.rb.y=t.point.y,e.lb.x=t.downPoint.x,e.lb.y=t.point.y):e.setPosition(t.point),this.editor.render()}onMouseUp(t){this._maxImage||Ot.checkDragPosition(this.image,t.downPoint,t.point),this.image.updatePosition(),this.editor.removeForegroundRender(),this.editor.clearCommand(),t.editor.page.addControl(this.image),t.editor.historyManager.endUndo(new Nt("redo create image",(()=>{this.editor.page.addControl(this.image)})))}onKeyDown(t){if(" "!==t.originEvent.key)return;this._maxImage=!0;const e=this.image,n=t.editor.width,o=t.editor.height;e.lt.x=0,e.lt.y=0,e.rt.x=n,e.rt.y=0,e.rb.x=n,e.rb.y=o,e.lb.x=0,e.lb.y=o,t.editor.render()}}class fn extends Te{constructor(t,e){super(t),this.handler=new Cn(t,e)}active(){this.editor.addEventHandler(this.handler)}deActive(){this.editor.removeEventHandler(this.handler)}}class vn extends x{constructor(t){super(),this._label=t.page.newControl,this._textEditor=t.textEditor,this._textEditor.updateLabel(this._label),this._isDown=!1,t.removeForegroundRender(),t.page.setCursor(Me),t.historyManager.startUndo(new Nt(`undo create ${this._label.type}`,(()=>{t.page.removeControl(this._label)})))}get type(){return g}onMouseDown(t){this._isDown?this._textEditor.endEdit():(this._isDown=!0,this._label.lt.x=t.point.x,this._label.lt.y=t.point.y,t.originEvent.preventDefault(),this._textEditor.startEdit(t.clientPoint),this._textEditor.focus())}onMouseMove(t){super.onMouseMove(t)}onMouseUp(t){super.onMouseUp(t)}onMouseWheel(t){super.onMouseWheel(t)}onKeyDown(t){this._isDown||"Escape"!==t.originEvent.key||(t.editor.page.setCursor(we),t.editor.tools.clear())}}class Mn extends Te{constructor(t){super(t),this.handler=new vn(t)}active(){this.editor.addEventHandler(this.handler)}deActive(){this.editor.removeEventHandler(this.handler)}}class Pn extends x{constructor(t){super(),this._editor=t,this._label=t.page.selectRender.control,this._label.text=""}onMouseDown(t){t.editor.textEditor.endEdit()}}class In extends Te{constructor(t){super(t),this.handler=new Pn(t)}active(){this.editor.addEventHandler(this.handler)}deActive(){this.editor.removeEventHandler(this.handler)}}class kn extends x{constructor(){super()}get type(){return a}onMouseMove(t){if(!t.down)return;const e=t.editor.page,n=e.coordinate,o=t.downPoint;let i=t.point.x-o.x,r=t.point.y-o.y;const s=n.orgPoint,a=n.dpr,l=n.wayPoint,h=-s.x/a,c=e.width,d=l.x+i;h<d?i=h-l.x:c<e.width/a-d+h&&(i=e.width/a-l.x+h-c),l.x+=i;const p=-s.y/a,u=e.height,g=l.y+r;p<g?r=p-l.y:u<e.height/a-g+p&&(r=e.height/a-l.y+p-u),l.y+=r,e.render()}onMouseUp(t){t.editor.finishDragHandler()}}class Rn extends kn{constructor(){super()}onMouseDown(t){t.editor.page.setCursor(Pe),super.onMouseDown(t)}onMouseMove(t){t.editor.apiManager.getInterface(qe)(),super.onMouseMove(t)}onMouseUp(t){t.editor.page.setCursor(Ie),super.onMouseUp(t)}}class En extends Te{constructor(t){super(t),this.handlers=[],this.handlers.push(new pn),this.handlers.push(new Rn)}active(){this.handlers.forEach((t=>{this.editor.addEventHandler(t)}))}deActive(){this.handlers.forEach((t=>{this.editor.removeEventHandler(t)}))}}class Sn extends Be{constructor(t){super(t)}get type(){return y}onMouseDown(t){super.onMouseDown(t)}onMouseMove(t){super.onMouseMove(t)}onMouseUp(t){Ot.checkDragPosition(this.rect,t.downPoint,t.point),this.rect.updatePosition(),this.editor.removeForegroundRender(),this.editor.clearCommand(),Ne.checkCaptureBackgroundImage(this.rect,this.editor.page.backgroundImg)||(this.editor.page.addControl(this.rect),this.editor.historyManager.endUndo(new Nt("redo create rect",(()=>{this.editor.page.addControl(this.rect)}))),this.editor.page.selectRender=new Qt(this.rect),this.editor.page.selectCaptureControl=this.rect,this.editor.updateMarkViewer())}}class Tn extends Te{constructor(t){super(t),this.handler=new Sn(t)}active(){this.editor.addEventHandler(this.handler)}deActive(){this.editor.removeEventHandler(this.handler)}}class zn extends x{constructor(){super()}onMouseMove(t){t.editor.apiManager.getInterface(qe)()}onMouseDown(t){t.editor.page.scaleIn(1.5)}}class Ln extends Te{constructor(t){super(t),this._handler=new zn}active(){this.editor.addEventHandler(this._handler)}deActive(){this.editor.removeEventHandler(this._handler)}}class Kn extends x{constructor(){super()}onMouseMove(t){t.editor.apiManager.getInterface(qe)()}onMouseDown(t){t.editor.page.scaleOut(.5)}}class An extends Te{constructor(t){super(t),this._handler=new Kn}active(){this.editor.addEventHandler(this._handler)}deActive(){this.editor.removeEventHandler(this._handler)}}class Bn{static loadControl(t,e){if(null==e.controls)return void console.log("controls[] 리스트가 없습니다.");if(null!=e.backgroundImage){const n=e.backgroundImage,o=ce.createById(bt,n.id);o.imageId=n.imageId,o.copy(n),o.copyPosition(n),t.page.backgroundImg=o}const n=[];e.controls.forEach((e=>{e.type===Et&&n.push(e);const o=ce.createById(e.type,e.id);o.copy(e),o.copyPosition(e),o.updatePosition(),t.page.addControl(o)})),this.#Z(t,e),this.#X(t.page,n)}static#X(t,e){e.forEach((e=>{const n=t.controls.find((t=>t.id===e.id));e.controls.forEach((e=>{const o=t.controls.find((t=>t.id===e.id));n.addChild(o)})),n.combine(),n.updateGroupPosition()}))}static#Z(t,e){const n=t.page.controls,o=t.imageStorage,i=[];e.imageStorage.forEach((e=>{const r=Dn.asyncReadBase64Image(e.image,(i=>{t.page?.backgroundImg?.imageId===e.id&&(t.page.backgroundImg.image=i);n.filter((t=>t.imageId===e.id)).forEach((t=>{t.image=i,o.addImage(t)}))}));i.push(r)})),Promise.all(i).then((e=>{t.page.render()})).catch((t=>{console.log("이미지 로드 실패",t)}))}}class Dn{static readBase64Image(t,e){const n=new FileReader;n.onload=t=>{let n=new Image;n.onload=t=>{e(n)},n.src=t.target.result};const o=new Blob([t]);n.readAsText(o)}static async asyncReadBase64Image(t,e){return new Promise(((n,o)=>{const i=new FileReader;i.onload=t=>{let i=new Image;i.onload=t=>{e(i),n(t)},i.onerror=t=>{t.message="image load error",console.log("이미지 로드 에러",t),o(t)},i.src=t.target.result},i.onerror=t=>{console.log("파일로드 에러"),o(t)};const r=new Blob([t]);i.readAsText(r)}))}static openJsonFile(t){const e=document.createElement("input");e.type="file",e.accept="json/*",e.style.display="none",e.addEventListener("change",(e=>{const n=new FileReader;n.onload=function(e){t(JSON.parse(e.target.result))},n.readAsText(e.target.files[0])})),e.click()}static openImageFile(t){const e=document.createElement("input");e.type="file",e.accept="image/*",e.style.display="none",e.addEventListener("change",(e=>{const n=new FileReader;n.onload=function(e){const n=new Image;n.onload=function(){t(n)},n.src=e.target.result},n.readAsDataURL(e.target.files[0])})),e.click()}static openEditor(t){this.openJsonFile((e=>{t.open(e)}))}static download(t,e){const n=document.createElement("a");n.href=e,n.download=t,n.click()}static downloadJson(t,e){const n=new Blob([JSON.stringify(t)],{type:"application/json"}),o=URL.createObjectURL(n);this.download(e,o),URL.revokeObjectURL(o)}}class Un extends vn{constructor(t){super(t),this._down=!1}onMouseDown(t){super.onMouseDown(t),this._down||(this._down=!0)}}class Hn extends Te{constructor(t){super(t),this._handler=new Un(t)}active(){this.editor.addEventHandler(this._handler)}deActive(){this.editor.removeEventHandler(this._handler)}}class Wn{constructor(t){this.editor=t,this.commandManager=new Ue;const e=t.historyManager;this.createLine=e=>{const n=ce.create(mt);t.page.newControl=this.#j(e,n),t.page.setCursor(we),this.commandManager.execute(new Ke(t)),t.render()},this.createRect=e=>{const n=ce.create(_t);t.page.newControl=this.#j(e,n),t.page.setCursor(we),this.commandManager.execute(new De(t)),t.render()},this.createCaptureRect=e=>{const n=ce.create(vt);t.page.newControl=this.#j(e,n),t.page.setCursor(we),this.commandManager.execute(new Tn(t)),t.render()},this.createTriangle=e=>{const n=ce.create(wt);t.page.newControl=this.#j(e,n),t.page.setCursor(we),this.commandManager.execute(new mn(t)),t.render()},this.createCircle=e=>{const n=ce.create(xt);t.page.newControl=this.#j(e,n),t.page.setCursor(we),this.commandManager.execute(new xn(t)),t.render()},this.createImage=()=>{Dn.openImageFile((e=>{t.page.setCursor(we),this.commandManager.execute(new fn(this.editor,e)),t.render()}))},this.createLabel=e=>{const n=ce.create(Ct);t.page.newControl=this.#j(e,n),t.page.setCursor(we),this.commandManager.execute(new Mn(this.editor)),t.render()},this.createPointLabel=e=>{const n=ce.create(Pt);t.page.newControl=this.#j(e,n),t.page.setCursor(we),this.commandManager.execute(new Hn(this.editor)),t.render()},this.editeLabel=()=>{t.page.setCursor(we),this.commandManager.execute(new In(this.editor)),this.editor.page.selectRender=null,this.editor.page.hoverRender=null,t.render()},this.removeControl=()=>{const n=t.page?.selectRender?.control;if(!n)return;if(n.type===Et||n.type===St)return void this.#J(t,n);const o=t.page.controls.indexOf(n);t.toolbarController.clear(),e.startUndo(new Nt(`undo remove ${n.type} control`,(()=>t.page.addControl(n,o)))),t.page.removeControl(n),e.endUndo(new Nt(`redo remove ${n.type} control`,(()=>t.page.removeControl(n))))},this.copyControl=()=>{Ot.clearClipboard().then((t=>console.log(t.msg))).catch((t=>console.log(t)));t.page.copyControl=t.page?.selectRender?.control},this.pasteControl=()=>{const n=t.page?.copyControl;if(!n)return;const o=ce.create(n.type);o.copy(n),o.move({x:30,y:20}),o.updateSelectPosition();let i=t.page.selectRender;e.startUndo(new Nt(`undo paste ${n.type} control`,(()=>{t.page.selectRender=i,t.page.removeControl(o)}))),t.page.addControl(o),t.page.copyControl=o,t.page.selectRender=ue.createSelectRender(o),t.render();let r=t.page.selectRender;e.endUndo(new Nt(`redo paste ${n.type} control`,(()=>{t.page.selectRender=r,t.page.addControl(o)})))},this.frontControl=()=>{const n=t.page?.selectRender?.control;if(!n)return;const o=t.page.controls;let i=this.#$(n);if(-1===i||i===o.length-1)return;const r=()=>{this.#Q(i,i+1),t.render()};e.startUndo(new Nt(`undo front ${n.type} control`,(()=>r()))),r(),e.endUndo(new Nt(`redo front ${n.type} control`,(()=>r())))},this.veryFrontControl=()=>{const n=t.page?.selectRender?.control;if(!n)return;const o=t.page.controls;let i=this.#$(n);if(-1===i||i===o.length-1)return;const r=()=>{const[e]=o.splice(i,1);t.page.addControl(e),t.render()};e.startUndo(new Nt(`undo very front ${n.type} control`,(()=>(()=>{const[t]=o.splice(o.length-1,1);o.splice(i,0,t)})()))),r(),e.endUndo(new Nt(`redo very front ${n.type} control`,(()=>r())))},this.backControl=()=>{const n=t.page?.selectRender?.control;if(!n)return;let o=this.#$(n);if(o<=0)return;const i=()=>{this.#Q(o-1,o),t.render()};e.startUndo(new Nt(`undo back ${n.type} control`,(()=>i()))),i(),e.endUndo(new Nt(`redo back ${n.type} control`,(()=>i())))},this.veryBackControl=()=>{const n=t.page?.selectRender?.control;if(!n)return;let o=this.#$(n);if(o<=0)return;const i=t.page.controls,r=()=>{const[e]=i.splice(o,1);i.splice(0,0,e),t.render()};e.startUndo(new Nt(`undo very back ${n.type} control`,(()=>(()=>{const[e]=i.splice(0,1);i.splice(o,0,e),t.render()})()))),r(),e.endUndo(new Nt(`redo very back ${n.type} control`,(()=>r())))},this.grouping=()=>{const n=t.page,o=n?.selectRender?.control;if(!o)return;if(o.type!==St)return;const i=ce.create(Et);o.controls.forEach((t=>{i.addChild(t)})),i.updateGroupPosition();const r=ue.createControlRender(i);n.selectRender=r,n.addControl(i),i.combine(),e.startUndo(new Nt("undo grouping",(()=>{n.removeControl(i),i.release()}))),e.endUndo(new Nt("redo grouping",(()=>{n.addControl(i),n.selectRender=r,i.combine()})))},this.ungroup=()=>{const n=t.page,o=n?.selectRender?.control;if(!o)return;if(o.type!==Et)return;const i=n.selectRender;n.removeControl(o),o.release(),e.startUndo(new Nt("undo ungroup",(()=>{n.addControl(o),n.selectRender=i,o.combine()}))),e.endUndo(new Nt("redo ungroup",(()=>{n.removeControl(o),o.release()})))},this.undo=()=>{e.undo()},this.redo=()=>{e.redo()},this.toggleViewControlOrder=()=>{t.page.viewControlOrder=!t.page.viewControlOrder,t.render()},this.toggleViewOutLine=()=>{t.page.viewOutLine=!t.page.viewOutLine,t.render()},this.toggleViewGridLine=()=>{t.page.viewGridLine=!t.page.viewGridLine,t.render()},this.clear=()=>{t.removeForegroundRender(),t.page.setCursor(we),this.commandManager.execute(new un(t)),t.render()},this.selectMode=()=>{this.clear()},this.pageDragMode=()=>{t.removeForegroundRender(),t.page.selectRender=null,t.page.hoverRender=null,t.page.setCursor(Ie),this.commandManager.execute(new En(t)),t.render()},this.zoomIn=()=>{t.page.setCursor(ke),this.commandManager.execute(new Ln(this.editor))},this.zoomOut=()=>{t.page.setCursor(Re),this.commandManager.execute(new An(this.editor))},this.openCaptureAreaData=()=>{Dn.openJsonFile((e=>{console.log(t.openCaptureAreaData(e))}))},this.openLabelData=()=>{Dn.openJsonFile((e=>{t.openLabelData(e)}))},this.saveEditor=()=>{const t=this.editor.toJson();Dn.downloadJson(t,"editor"),console.log(t)},this.openEditor=()=>{Dn.openEditor(this.editor)},this.commandManager.execute(new un(t))}#Q(t,e){const n=this.editor.page.controls;[n[t],n[e]]=[n[e],n[t]]}#$(t){const e=this.editor.page.controls;let n=-1;return e.some(((e,o)=>{if(e===t)return n=o,!0})),n}#j(t,e){return void 0!==t&&e.setPosition(t),e}#J(t,e){const n=t.page;t.toolbarController.clear(),n.hoverRenders=[],n.selectRender=null;const o=t.historyManager,i=n.controls.indexOf(e);let r=null;-1!==i&&(r={},r.undo=()=>{n.addControl(e,i)},r.redo=()=>{n.removeControl(e)});const s=[];r?.redo(),e.controls.forEach((t=>{const e=n.controls.indexOf(t);n.removeControl(t),s.push({idx:e,control:t})})),o.startUndo(new Nt("undo remove group control",(()=>{s.slice().reverse().forEach((t=>{n.addControl(t.control,t.idx)})),r?.undo()}))),o.endUndo(new Nt("redo remove group control",(()=>{r?.redo(),s.forEach((t=>{n.removeControl(t.control)}))})))}}class On extends Te{constructor(t,e){super(),this.undo=t,this.redo=e}active(){this.undo()}deActive(){this.redo()}}class Nn{constructor(t){this.editor=t,this.undoQue=[],this.redoQue=[],this.undoAction=null}undo(){if(0===this.undoQue.length)return;const t=this.undoQue.pop();t.active(),this.editor.render(),this.redoQue.push(t)}redo(){if(0===this.redoQue.length)return;const t=this.redoQue.pop();t.deActive(),this.editor.render(),this.undoQue.push(t)}startUndo(t){this.undoAction=t}endUndo(t){const e=this.undoAction,n=new On((()=>e.run()),(()=>t.run()));this.undoQue.push(n),this.redoQue=[],this.undoAction=null}cancelUndo(){this.undoAction.run()}}class Fn{constructor(){this._element=null}get element(){return this._element}show(){this.element?.classList?.remove("hidden")}hide(){this.element?.classList?.add("hidden")}}const Vn=-50,Yn=-30,Gn=10,Zn=60,Xn=100,jn=150,Jn=30,$n=-90,Qn="hidden pointer-events-auto flex items-center rounded-md border border-slate-300 shadow-sm bg-background bg-slate-100 text-foreground absolute gap-0.5 p-1 pl-2";class qn{static instance;static getInstance(){return this.instance||(this.instance=this),this.instance}static createSvgIcon(t){const e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");n.style.cssText=t.style??"",n.setAttribute("xmlns",e),n.setAttribute("width",t?.width??"20"),n.setAttribute("height",t?.height??"20"),n.setAttribute("viewBox",t.viewBox);const o=document.createElementNS(e,"g");return o.setAttribute("transform",t.transform??""),t.paths.forEach((t=>{const n=document.createElementNS(e,"path");n.setAttribute("d",t.d),n.style.cssText=t.style??"",o.appendChild(n)})),n.appendChild(o),n}}class to extends Fn{constructor(t,e,n){super(),this._element=this.createSvgButton(t,e,n)}createSvgButton(t,e,n){const o=document.createElement("div");o.className="relative flex item-center justify-center mr-1";const i=qn.getInstance().createSvgIcon(t),r=document.createElement("button");if(r.type="button",r.className="w-8 h-8 inline-flex items-center justify-center rounded hover:bg-slate-200",r.addEventListener("click",(t=>{n()})),r.appendChild(i),o.appendChild(r),""!==e){i.classList.add("mr-2");const t=document.createElement("div");t.className="w-2 h-3 items-center justify-center absolute bottom-0 text-[8px] opacity-40",e.length>2?t.classList.add("left-3"):t.classList.add("right-0"),t.textContent=e,t.style.userSelect="none",o.appendChild(t)}return o.btn=r,o}}class eo{static makeLineIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M4565 5106 c-84 -21 -147 -57 -211 -121 -122 -122 -164 -297 -108 -460 l16 -48 -1810 -1809 -1809 -1810 -48 16 c-162 56 -338 14 -460 -109 -178 -177 -178 -453 0 -630 137 -137 340 -172 513 -87 199 97 298 337 226 547 l-16 48 1810 1809 1809 1810 48 -16 c210 -72 444 24 544 222 88 175 55 378 -84 518 -112 113 -269 158 -420 120z m175 -306 c45 -23 80 -80 80 -130 0 -76 -74 -150 -151 -150 -46 0 -108 39 -130 82 -37 72 -14 151 57 194 48 29 92 30 144 4z m-4220 -4220 c45 -23 80 -80 80 -130 0 -76 -74 -150 -151 -150 -46 0 -108 39 -130 82 -37 72 -14 151 57 194 48 29 92 30 144 4z"}]}}static makeRectIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M1210 5113 c-309 -33 -592 -171 -815 -397 -199 -201 -313 -414 -372 -696 -17 -79 -18 -176 -18 -1460 0 -1284 1 -1381 18 -1460 60 -283 174 -496 372 -696 201 -203 420 -321 705 -381 79 -17 176 -18 1460 -18 1536 0 1434 -4 1652 71 197 68 346 162 504 319 202 199 321 420 381 705 17 79 18 176 18 1460 0 1525 4 1424 -66 1636 -66 203 -166 361 -329 524 -198 198 -396 307 -675 373 -89 21 -103 21 -1445 23 -745 0 -1371 -1 -1390 -3z m2800 -320 c209 -59 366 -148 501 -282 136 -137 228 -300 283 -506 21 -80 21 -82 21 -1445 0 -1363 0 -1365 -21 -1445 -55 -206 -147 -369 -283 -506 -137 -136 -300 -228 -506 -283 -80 -21 -82 -21 -1445 -21 -1363 0 -1365 0 -1445 21 -206 55 -369 147 -506 283 -134 135 -223 292 -282 501 -22 75 -22 80 -25 1395 -2 923 0 1346 8 1405 32 247 174 504 365 662 141 118 347 212 515 236 38 6 611 9 1405 8 1337 -1 1340 -1 1415 -23z"}]}}static makeTriangleIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M2395 4831 c-123 -36 -191 -77 -280 -167 -66 -67 28 91 -1105 -1863 -615 -1061 -962 -1669 -978 -1715 -22 -60 -26 -89 -26 -191 0 -109 3 -128 30 -205 72 -205 230 -350 444 -407 61 -17 188 -18 2080 -18 1660 0 2025 2 2070 14 30 7 93 31 140 53 146 70 268 210 320 368 57 173 32 358 -71 525 -20 33 -461 794 -979 1690 -519 897 -957 1650 -974 1675 -75 111 -218 209 -352 244 -83 22 -241 20 -319 -3z m327 -224 c62 -28 139 -93 173 -147 44 -70 1930 -3337 1962 -3397 40 -78 49 -138 36 -230 -26 -181 -164 -317 -348 -343 -44 -6 -790 -10 -2031 -10 -1799 0 -1964 1 -2010 17 -211 71 -330 294 -266 500 12 37 373 673 987 1738 533 924 983 1703 1002 1731 31 47 97 105 153 134 92 48 245 52 342 7z"}]}}static makeCircleIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M2325 5109 c-1081 -101 -1981 -870 -2245 -1919 -265 -1054 156 -2155 1055 -2757 860 -576 1990 -576 2850 0 392 262 723 653 910 1076 542 1222 72 2636 -1092 3290 -432 243 -975 357 -1478 310z m565 -294 c750 -113 1383 -575 1715 -1250 158 -321 229 -634 229 -1005 0 -371 -71 -683 -229 -1005 -332 -677 -963 -1135 -1725 -1252 -158 -24 -482 -24 -640 0 -938 144 -1672 810 -1894 1718 -46 190 -60 317 -60 539 0 371 71 682 229 1005 355 725 1047 1193 1875 1269 89 8 397 -4 500 -19z"}]}}static makeImageIconConfig(){return{viewBox:"0 0 512.000000 512.000000",style:"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd",paths:[{d:"M 52.5,-0.5 C 187.833,-0.5 323.167,-0.5 458.5,-0.5C 487.167,6.16667 504.833,23.8333 511.5,52.5C 511.5,187.833 511.5,323.167 511.5,458.5C 504.833,487.167 487.167,504.833 458.5,511.5C 323.167,511.5 187.833,511.5 52.5,511.5C 23.8333,504.833 6.16667,487.167 -0.5,458.5C -0.5,323.167 -0.5,187.833 -0.5,52.5C 6.16667,23.8333 23.8333,6.16667 52.5,-0.5 Z M 63.5,31.5 C 191.5,31.3333 319.5,31.5 447.5,32C 466.667,33.8333 477.167,44.3333 479,63.5C 479.667,133.167 479.667,202.833 479,272.5C 447.32,239.987 415.487,207.654 383.5,175.5C 330.68,228.487 278.013,281.654 225.5,335C 224.833,335.667 224.167,335.667 223.5,335C 202.32,313.653 180.986,292.486 159.5,271.5C 116.551,309.613 74.0511,348.28 32,387.5C 31.3333,279.5 31.3333,171.5 32,63.5C 34.0109,44.3232 44.5109,33.6566 63.5,31.5 Z M 120.5,96.5 C 146.977,95.4761 159.477,108.143 158,134.5C 152.207,152.822 139.707,160.655 120.5,158C 102.178,152.207 94.3446,139.707 97,120.5C 100.349,107.985 108.182,99.9853 120.5,96.5 Z M 382.5,224.5 C 415.083,255.582 447.249,287.248 479,319.5C 479.963,364.528 479.63,409.528 478,454.5C 474.833,467 467,474.833 454.5,478C 424.864,479.609 395.197,479.943 365.5,479C 326.167,439.333 286.833,399.667 247.5,360C 292.701,314.965 337.701,269.799 382.5,224.5 Z M 158.5,319.5 C 211.965,372.465 265.299,425.632 318.5,479C 233.5,479.667 148.5,479.667 63.5,479C 47.8185,477.589 37.6519,469.423 33,454.5C 31.6471,447.208 31.3138,439.875 32,432.5C 74.3611,394.968 116.528,357.301 158.5,319.5 Z",style:"opacity:0.986"},{d:"M 116.5,63.5 C 151.632,60.4685 175.798,75.1352 189,107.5C 196.639,138.355 187.805,163.188 162.5,182C 137.759,195.223 113.426,194.557 89.5,180C 67.6664,162.172 59.4997,139.339 65,111.5C 72.7458,85.2501 89.9124,69.2501 116.5,63.5 Z M 120.5,96.5 C 108.182,99.9853 100.349,107.985 97,120.5C 94.3446,139.707 102.178,152.207 120.5,158C 139.707,160.655 152.207,152.822 158,134.5C 159.477,108.143 146.977,95.4761 120.5,96.5 Z",style:"opacity:0.965"}]}}static makeLabelIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M0 4670 l0 -450 150 0 150 0 0 -1660 0 -1660 -150 0 -150 0 0 -450 0 -450 450 0 450 0 0 150 0 150 1660 0 1660 0 0 -150 0 -150 450 0 450 0 0 450 0 450 -150 0 -150 0 0 1660 0 1660 150 0 150 0 0 450 0 450 -450 0 -450 0 0 -150 0 -150 -1660 0 -1660 0 0 150 0 150 -450 0 -450 0 0 -450z m4220 -300 l0 -150 150 0 150 0 0 -1660 0 -1660 -150 0 -150 0 0 -150 0 -150 -1660 0 -1660 0 0 150 0 150 -150 0 -150 0 0 1660 0 1660 150 0 150 0 0 150 0 150 1660 0 1660 0 0 -150z"},{d:"M1200 3620 l0 -450 150 0 150 0 0 150 0 150 380 0 380 0 0 -1060 0 -1060 -225 0 -225 0 0 -150 0 -150 750 0 750 0 0 150 0 150 -225 0 -225 0 0 1060 0 1060 380 0 380 0 0 -150 0 -150 150 0 150 0 0 450 0 450 -1360 0 -1360 0 0 -450z"}]}}static makeLineWidthIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M784 3981 c-117 -53 -117 -224 0 -280 42 -21 43 -21 1776 -21 1733 0 1734 0 1776 21 118 56 118 222 0 278 -42 21 -43 21 -1777 21 -1669 0 -1736 -1 -1775 -19z"},{d:"M765 3391 c-72 -32 -125 -113 -125 -191 0 -78 53 -159 125 -191 38 -18 119 -19 1795 -19 1676 0 1757 1 1795 19 72 32 125 113 125 191 0 78 -53 159 -125 191 -38 18 -119 19 -1795 19 -1676 0 -1757 -1 -1795 -19z"},{d:"M792 2659 c-58 -11 -137 -56 -174 -98 -141 -161 -93 -408 98 -502 l49 -24 1780 -3 c1525 -2 1786 0 1822 12 183 62 269 268 184 440 -36 74 -82 118 -161 155 l-55 26 -1750 1 c-962 1 -1769 -2 -1793 -7z"},{d:"M780 1699 c-106 -18 -227 -98 -286 -191 -39 -61 -64 -151 -64 -228 0 -209 152 -387 360 -420 91 -14 3451 -14 3540 1 209 33 360 209 360 419 0 210 -151 386 -360 419 -82 14 -3469 13 -3550 0z"}]}}static makeLineSolidIconConfig(){return{viewBox:"0 0 512.000000 512.000000",style:"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd",paths:[{d:"M 511.5,248.5 C 511.5,253.167 511.5,257.833 511.5,262.5C 509.018,268.48 504.685,272.647 498.5,275C 336.5,275.667 174.5,275.667 12.5,275C 6.31536,272.647 1.98203,268.48 -0.5,262.5C -0.5,257.833 -0.5,253.167 -0.5,248.5C 1.98203,242.52 6.31536,238.353 12.5,236C 174.5,235.333 336.5,235.333 498.5,236C 504.685,238.353 509.018,242.52 511.5,248.5 Z",style:"opacity:0.997"}]}}static makeLineDashIconConfig(){return{viewBox:"0 0 100.000000 100.000000",transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)",paths:[{d:"M24 515 c-4 -8 -4 -22 0 -30 5 -13 27 -15 143 -13 l138 3 0 25 0 25 -138 3 c-116 2 -138 0 -143 -13z"},{d:"M360 515 c-10 -12 -10 -18 0 -30 10 -12 39 -15 140 -15 101 0 130 3 140 15 10 12 10 18 0 30 -10 12 -39 15 -140 15 -101 0 -130 -3 -140 -15z"},{d:"M694 515 c-4 -8 -4 -22 0 -30 5 -13 27 -15 143 -13 l138 3 0 25 0 25 -138 3 c-116 2 -138 0 -143 -13z"}]}}static makeLineStyleIconConfig(){return{viewBox:"0 0 96.000000 96.000000",transform:"translate(0.000000,96.000000) scale(0.100000,-0.100000)",paths:[{d:"M120 780 c0 -16 7 -20 30 -20 23 0 30 4 30 20 0 16 -7 20 -30 20 -23 0 -30 -4 -30 -20z"},{d:"M220 780 c0 -16 7 -20 30 -20 23 0 30 4 30 20 0 16 -7 20 -30 20 -23 0 -30 -4 -30 -20z"},{d:"M320 780 c0 -16 7 -20 30 -20 23 0 30 4 30 20 0 16 -7 20 -30 20 -23 0 -30 -4 -30 -20z"},{d:"M420 780 c0 -16 7 -20 30 -20 23 0 30 4 30 20 0 16 -7 20 -30 20 -23 0 -30 -4 -30 -20z"},{d:"M520 780 c0 -16 7 -20 30 -20 23 0 30 4 30 20 0 16 -7 20 -30 20 -23 0 -30 -4 -30 -20z"},{d:"M620 780 c0 -16 7 -20 30 -20 23 0 30 4 30 20 0 16 -7 20 -30 20 -23 0 -30 -4 -30 -20z"},{d:"M720 780 c0 -16 7 -20 30 -20 23 0 30 4 30 20 0 16 -7 20 -30 20 -23 0 -30 -4 -30 -20z"},{d:"M820 780 c0 -16 7 -20 30 -20 23 0 30 4 30 20 0 16 -7 20 -30 20 -23 0 -30 -4 -30 -20z"},{d:"M120 630 l0 -30 110 0 110 0 0 30 0 30 -110 0 -110 0 0 -30z"},{d:"M380 630 l0 -30 120 0 120 0 0 30 0 30 -120 0 -120 0 0 -30z"},{d:"M660 630 l0 -30 110 0 110 0 0 30 0 30 -110 0 -110 0 0 -30z"},{d:"M120 460 l0 -40 180 0 180 0 0 40 0 40 -180 0 -180 0 0 -40z"},{d:"M520 460 l0 -40 180 0 180 0 0 40 0 40 -180 0 -180 0 0 -40z"},{d:"M120 260 l0 -60 380 0 380 0 0 60 0 60 -380 0 -380 0 0 -60z"}]}}static makeLineColorIconConfig(){return{viewBox:"0 0 96.000000 96.000000",style:"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd",paths:[{d:"M 61.5,3.5 C 63.8568,3.33669 66.1902,3.50335 68.5,4C 77.3333,12.8333 86.1667,21.6667 95,30.5C 95.6667,32.8333 95.6667,35.1667 95,37.5C 79.5291,53.9715 63.6957,70.1381 47.5,86C 43.679,88.1407 40.0124,87.974 36.5,85.5C 31.8729,87.4313 27.2062,89.2647 22.5,91C 46.1643,91.5 69.831,91.6666 93.5,91.5C 93.5,92.8333 93.5,94.1667 93.5,95.5C 64.1648,95.6666 34.8314,95.5 5.5,95C 4.13003,93.5587 3.13003,91.892 2.5,90C 6.25999,80.8901 9.92665,71.7234 13.5,62.5C 11.026,58.9876 10.8593,55.321 13,51.5C 29.0617,35.271 45.2283,19.271 61.5,3.5 Z M 63.5,8.5 C 64.552,8.35055 65.552,8.51722 66.5,9C 74.8768,17.042 82.8768,25.3754 90.5,34C 80.3759,45.1253 69.8759,55.9586 59,66.5C 49.4729,58.3063 40.6396,49.4729 32.5,40C 43.0355,29.6317 53.3688,19.1317 63.5,8.5 Z M 27.5,44.5 C 36.7456,52.2412 45.5789,60.5745 54,69.5C 54.1667,72 53,73.1667 50.5,73C 42.3333,64.8333 34.1667,56.6667 26,48.5C 25.7003,46.9343 26.2003,45.601 27.5,44.5 Z M 20.5,51.5 C 29.7456,59.2412 38.5789,67.5745 47,76.5C 46.8047,78.745 45.6381,80.5784 43.5,82C 42.5,82.6667 41.5,82.6667 40.5,82C 32.6667,74.1667 24.8333,66.3333 17,58.5C 16.3333,57.5 16.3333,56.5 17,55.5C 18.3756,54.2949 19.5423,52.9616 20.5,51.5 Z M 17.5,66.5 C 22.6313,71.1302 27.6313,75.9635 32.5,81C 25.1972,84.5481 17.6972,87.7148 10,90.5C 9.5,90.1667 9,89.8333 8.5,89.5C 11.704,81.8835 14.704,74.2169 17.5,66.5 Z",style:"opacity:0.8"}]}}static makeFillColorIconConfig(){return{viewBox:"0 0 512.000000 512.000000",style:"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd",paths:[{d:"M 123.5,38.5 C 130.688,37.4295 137.021,39.2628 142.5,44C 229.944,105.111 317.111,166.611 404,228.5C 411.686,238.582 414.353,249.915 412,262.5C 410.47,267.892 408.137,272.892 405,277.5C 363.333,336.833 321.667,396.167 280,455.5C 260.563,474.454 238.729,477.621 214.5,465C 157.833,425.333 101.167,385.667 44.5,346C 25.0018,327.517 20.8351,306.017 32,281.5C 74.464,220.071 117.297,158.904 160.5,98C 148.444,88.9443 136.11,80.2776 123.5,72C 110.946,63.8981 108.946,53.8981 117.5,42C 119.432,40.5415 121.432,39.3748 123.5,38.5 Z M 187.5,116.5 C 245.804,157.324 304.138,198.157 362.5,239C 263.47,256.671 164.47,274.004 65.5,291C 106.546,233.067 147.212,174.9 187.5,116.5 Z",style:"opacity:0.982"},{d:"M 420.5,305.5 C 426.675,304.643 432.342,305.81 437.5,309C 454.276,328.701 468.443,350.201 480,373.5C 489.694,398.556 485.194,420.723 466.5,440C 441.546,459.441 415.879,460.441 389.5,443C 368.117,424.176 362.283,401.343 372,374.5C 382.265,352.917 394.932,332.917 410,314.5C 413.103,310.886 416.603,307.886 420.5,305.5 Z",style:"opacity:0.981"}]}}static makeTransparentIconConfig(){return{viewBox:"0 0 512.000000 512.000000",style:"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd",paths:[{d:"M 55.5,-0.5 C 137.5,-0.5 219.5,-0.5 301.5,-0.5C 333.917,7.08918 352.751,27.4225 358,60.5C 358.5,91.1649 358.667,121.832 358.5,152.5C 389.168,152.333 419.835,152.5 450.5,153C 483.569,158.24 503.902,177.073 511.5,209.5C 511.5,291.5 511.5,373.5 511.5,455.5C 503.719,485.615 484.719,504.281 454.5,511.5C 372.833,511.5 291.167,511.5 209.5,511.5C 177.073,503.902 158.24,483.569 153,450.5C 152.5,419.835 152.333,389.168 152.5,358.5C 121.832,358.667 91.1649,358.5 60.5,358C 27.4225,352.751 7.08918,333.917 -0.5,301.5C -0.5,219.5 -0.5,137.5 -0.5,55.5C 7.16283,25.8372 25.8295,7.17051 55.5,-0.5 Z M 58.5,17.5 C 62.5138,17.3345 66.5138,17.5012 70.5,18C 53,35.5 35.5,53 18,70.5C 18.0687,42.595 31.5687,24.9284 58.5,17.5 Z M 96.5,17.5 C 113.503,17.3334 130.503,17.5001 147.5,18C 104.333,61.1667 61.1667,104.333 18,147.5C 17.3333,130.5 17.3333,113.5 18,96.5C 44.3682,70.2987 70.5349,43.9653 96.5,17.5 Z M 173.5,17.5 C 194.503,17.3334 215.503,17.5 236.5,18C 163.667,90.8333 90.8333,163.667 18,236.5C 17.3333,215.5 17.3333,194.5 18,173.5C 70.0347,121.632 121.868,69.6321 173.5,17.5 Z M 263.5,17.5 C 275.171,17.3335 286.838,17.5001 298.5,18C 305.198,19.2681 311.364,21.7681 317,25.5C 317.667,26.1667 317.667,26.8333 317,27.5C 220.5,124 124,220.5 27.5,317C 26.8333,317.667 26.1667,317.667 25.5,317C 21.7499,311.334 19.2499,305.167 18,298.5C 17.3333,286.833 17.3333,275.167 18,263.5C 100.035,181.632 181.868,99.6321 263.5,17.5 Z M 330.5,39.5 C 334.884,44.2675 337.717,49.9341 339,56.5C 340.536,68.7905 340.87,81.1239 340,93.5C 320.5,113 301,132.5 281.5,152C 260.5,152.667 239.5,152.667 218.5,152C 256.035,114.632 293.368,77.132 330.5,39.5 Z M 339.5,119.5 C 340.495,130.321 340.828,141.321 340.5,152.5C 329.495,152.667 318.495,152.5 307.5,152C 318.369,141.298 329.035,130.465 339.5,119.5 Z M 215.5,170.5 C 231.17,170.333 246.837,170.5 262.5,171C 232,201.5 201.5,232 171,262.5C 170.333,247.167 170.333,231.833 171,216.5C 175.558,191.11 190.391,175.777 215.5,170.5 Z M 288.5,170.5 C 305.833,170.5 323.167,170.5 340.5,170.5C 340.666,174.846 340.499,179.179 340,183.5C 287.833,235.667 235.667,287.833 183.5,340C 179.179,340.499 174.846,340.666 170.5,340.5C 170.333,323.163 170.5,305.83 171,288.5C 210.368,249.299 249.535,209.965 288.5,170.5 Z M 358.5,170.5 C 390.536,170.045 422.536,170.545 454.5,172C 475.547,177.713 488.38,191.213 493,212.5C 493.667,292.5 493.667,372.5 493,452.5C 487.5,474 474,487.5 452.5,493C 372.5,493.667 292.5,493.667 212.5,493C 188.682,487.514 174.848,472.681 171,448.5C 170.5,418.502 170.333,388.502 170.5,358.5C 212.835,358.667 255.168,358.5 297.5,358C 331.667,351.833 351.833,331.667 358,297.5C 358.5,255.168 358.667,212.835 358.5,170.5 Z M 339.5,209.5 C 340.662,226.328 340.828,243.328 340,260.5C 313.5,287 287,313.5 260.5,340C 243.5,340.667 226.5,340.667 209.5,340C 253.035,296.632 296.368,253.132 339.5,209.5 Z M 151.5,218.5 C 152.663,239.329 152.829,260.329 152,281.5C 132.5,301 113,320.5 93.5,340C 79.7229,341.115 66.0562,340.448 52.5,338C 47.7202,336.444 43.3869,334.111 39.5,331C 77.0348,293.632 114.368,256.132 151.5,218.5 Z M 339.5,286.5 C 339.393,316.468 324.393,334.302 294.5,340C 291.833,340.667 289.167,340.667 286.5,340C 304.368,322.299 322.035,304.465 339.5,286.5 Z M 151.5,307.5 C 152.495,318.321 152.828,329.321 152.5,340.5C 141.495,340.667 130.495,340.5 119.5,340C 130.369,329.298 141.035,318.465 151.5,307.5 Z",style:"opacity:0.982"}]}}static makeFontSizeIconConfig(){return{width:"16",height:"16",viewBox:"0 0 512.000000 512.000000",style:"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd",paths:[{d:"M 36.5,7.5 C 154.167,7.33333 271.834,7.5 389.5,8C 403.822,10.99 412.988,19.49 417,33.5C 418.582,51.4613 418.916,69.4613 418,87.5C 415.082,107.085 403.748,117.751 384,119.5C 366.867,118.362 355.534,109.695 350,93.5C 348.869,87.888 348.369,82.2213 348.5,76.5C 317.165,76.3334 285.832,76.5 254.5,77C 251.427,77.7386 249.26,79.5719 248,82.5C 247.333,197.833 247.333,313.167 248,428.5C 249.26,431.428 251.427,433.261 254.5,434C 265.833,434.333 277.167,434.667 288.5,435C 308.463,441.069 317.297,454.569 315,475.5C 311.705,488.796 303.538,497.63 290.5,502C 264.714,503.149 238.881,503.649 213,503.5C 186.794,503.644 160.628,503.144 134.5,502C 118.934,496.554 110.6,485.554 109.5,469C 111.05,451.224 120.383,439.89 137.5,435C 148.833,434.667 160.167,434.333 171.5,434C 175,433.167 177.167,431 178,427.5C 178.667,312.833 178.667,198.167 178,83.5C 177.167,80 175,77.8333 171.5,77C 139.835,76.5 108.168,76.3334 76.5,76.5C 77.7393,107.431 63.0727,121.265 32.5,118C 18.6218,113.411 10.4552,103.911 8,89.5C 7.06375,70.123 7.39709,50.7897 9,31.5C 14.0563,18.5996 23.223,10.5996 36.5,7.5 Z",style:"opacity:0.986"},{d:"M 309.5,272.5 C 370.168,272.333 430.834,272.5 491.5,273C 497.74,274.908 501.573,279.075 503,285.5C 503.667,296.833 503.667,308.167 503,319.5C 498.257,331.284 489.757,335.117 477.5,331C 469.39,325.258 466.39,317.425 468.5,307.5C 451.833,307.5 435.167,307.5 418.5,307.5C 418.5,361.167 418.5,414.833 418.5,468.5C 425.508,468.334 432.508,468.5 439.5,469C 449.388,472.319 453.555,479.152 452,489.5C 450.167,496.667 445.667,501.167 438.5,503C 413.167,503.667 387.833,503.667 362.5,503C 351.1,499.035 346.934,491.201 350,479.5C 352.256,474.243 356.09,470.743 361.5,469C 368.826,468.5 376.159,468.334 383.5,468.5C 383.5,414.833 383.5,361.167 383.5,307.5C 366.5,307.5 349.5,307.5 332.5,307.5C 334.839,325.324 327.172,333.49 309.5,332C 302.979,329.794 299.146,325.294 298,318.5C 297.333,307.5 297.333,296.5 298,285.5C 299.617,279.058 303.45,274.725 309.5,272.5 Z",style:"opacity:0.973"}]}}static makeFontColorIconConfig(){return{width:"18",height:"18",viewBox:"0 0 512.000000 512.000000",style:"shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd",paths:[{d:"M 269.5,-0.5 C 310.833,-0.5 352.167,-0.5 393.5,-0.5C 432.294,117.883 471.294,236.217 510.5,354.5C 478.507,355.5 446.507,355.833 414.5,355.5C 408.815,332.76 402.815,310.093 396.5,287.5C 362.507,286.5 328.507,286.167 294.5,286.5C 294.667,267.497 294.5,248.497 294,229.5C 291.385,207.763 279.551,193.93 258.5,188C 241.538,186.756 224.538,186.089 207.5,186C 228.269,123.859 248.936,61.6918 269.5,-0.5 Z M 326.5,82.5 C 330.767,82.203 334.934,82.5363 339,83.5C 352.677,123.696 365.843,164.03 378.5,204.5C 347.833,204.5 317.167,204.5 286.5,204.5C 299.628,163.783 312.961,123.116 326.5,82.5 Z",style:"opacity:0.986"},{d:"M 263.5,511.5 C 251.5,511.5 239.5,511.5 227.5,511.5C 214.803,510.329 201.969,508.995 189,507.5C 159.667,508.833 130.333,508.833 101,507.5C 88.0243,508.925 75.191,510.259 62.5,511.5C 50.5,511.5 38.5,511.5 26.5,511.5C 5.26041,505.702 -2.57293,492.035 3,470.5C 6.01241,465.8 9.01241,461.134 12,456.5C 14.4453,443.272 16.1119,429.938 17,416.5C 18.1479,393.507 19.1479,370.507 20,347.5C 20.9343,344.864 21.7676,342.197 22.5,339.5C 21.5652,336.529 20.7319,333.529 20,330.5C 19.0392,300.127 19.3726,269.793 21,239.5C 26.8115,222.51 38.6448,213.01 56.5,211C 69.8292,210.5 83.1625,210.333 96.5,210.5C 97.9454,195.813 97.7788,181.146 96,166.5C 92.6215,153.412 88.9548,140.412 85,127.5C 83.1843,94.014 98.0176,71.8473 129.5,61C 155.012,55.6147 176.179,62.7814 193,82.5C 204.846,99.2381 208.179,117.571 203,137.5C 195.262,153.424 191.762,170.257 192.5,188C 192.723,195.51 193.056,203.01 193.5,210.5C 206.837,210.333 220.171,210.5 233.5,211C 251.916,212.953 263.749,222.786 269,240.5C 270.626,269.793 270.959,299.126 270,328.5C 269.595,332.266 268.761,335.933 267.5,339.5C 268.435,342.471 269.268,345.471 270,348.5C 270.624,371.85 271.624,395.183 273,418.5C 273.943,431.596 275.61,444.596 278,457.5C 280.251,461.425 282.917,465.092 286,468.5C 293.262,490.645 285.762,504.978 263.5,511.5 Z M 47.5,354.5 C 112.5,354.5 177.5,354.5 242.5,354.5C 242.239,386.955 244.073,419.288 248,451.5C 248.899,460.098 250.899,468.431 254,476.5C 255.5,479.333 257.667,481.5 260.5,483C 256.587,484.052 252.587,484.552 248.5,484.5C 232.435,483.829 216.435,482.495 200.5,480.5C 195.395,459.141 190.229,437.808 185,416.5C 181.879,437.758 179.379,459.092 177.5,480.5C 153.5,480.5 129.5,480.5 105.5,480.5C 101.018,467.554 95.8514,454.887 90,442.5C 89.5001,455.496 89.3334,468.496 89.5,481.5C 73.5045,482.5 57.5045,483.5 41.5,484.5C 37.4128,484.552 33.4128,484.052 29.5,483C 33.3022,480.913 35.8022,477.746 37,473.5C 42.2919,451.833 45.2919,429.833 46,407.5C 47.0264,389.847 47.5264,372.181 47.5,354.5 Z",style:"opacity:0.984"}]}}static makeUndoIconConfig(){return{viewBox:"0 0 96.000000 96.000000",transform:"translate(0.000000,96.000000) scale(0.100000,-0.100000)",paths:[{d:"M80 502 l0 -182 182 0 182 0 -72 73 c-80 81 -80 78 -2 117 139 71 329 9 404 -132 33 -61 33 -61 99 -34 l28 11 -26 52 c-32 64 -105 142 -165 176 -136 79 -330 70 -447 -19 l-35 -27 -74 74 -74 73 0 -182z"}]}}static makeRedoIconConfig(){return{viewBox:"0 0 96.000000 96.000000",transform:"translate(0.000000,96.000000) scale(0.100000,-0.100000)",paths:[{d:"M803 609 l-71 -72 -35 27 c-86 65 -224 91 -337 62 -122 -31 -220 -110 -275 -219 -27 -54 -25 -58 25 -70 22 -5 28 -1 49 39 34 63 96 123 161 153 74 35 201 37 270 5 95 -46 95 -42 5 -133 l-80 -81 183 0 182 0 0 180 c0 99 -1 180 -3 180 -1 0 -34 -32 -74 -71z"}]}}static makeSelectModeIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M880 4598 c-350 -39 -522 -352 -416 -760 25 -96 1155 -2938 1218 -3062 82 -163 213 -307 337 -369 308 -154 629 11 841 432 148 295 424 637 740 915 221 194 364 296 570 406 316 169 461 323 506 540 51 248 -106 498 -412 653 -90 46 -2952 1186 -3042 1213 -99 28 -247 42 -342 32z m230 -444 c80 -24 2890 -1149 2971 -1190 102 -51 179 -127 179 -177 0 -28 -61 -105 -117 -146 -32 -24 -98 -63 -146 -87 -594 -300 -1178 -876 -1492 -1474 -112 -214 -188 -300 -265 -300 -39 0 -111 69 -157 150 -29 51 -1116 2759 -1184 2950 -35 97 -49 222 -30 259 7 12 22 26 34 32 29 12 139 3 207 -17z"}]}}static makePageCursorOffIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M2210 5105 c-200 -45 -380 -198 -457 -388 -14 -34 -26 -63 -26 -63 -1 -1 -33 6 -72 16 -80 21 -217 25 -297 9 -81 -16 -225 -91 -290 -149 -77 -69 -151 -182 -185 -283 l-27 -82 -4 -393 c-3 -361 -5 -392 -20 -388 -98 30 -242 34 -342 10 -175 -41 -340 -172 -419 -334 -72 -149 -73 -149 -68 -884 4 -707 2 -685 63 -871 35 -106 121 -273 186 -360 124 -165 321 -324 505 -405 l88 -39 7 -78 c4 -42 15 -101 24 -130 35 -110 138 -219 251 -264 l58 -24 1345 -3 c936 -2 1361 1 1397 8 168 35 300 173 332 344 6 33 11 89 11 125 l1 66 42 25 c23 14 80 63 127 110 100 101 165 204 212 340 l33 95 0 1530 0 1530 -22 70 c-60 188 -208 341 -401 413 -91 34 -258 42 -352 17 -36 -9 -71 -18 -78 -18 -7 -1 -25 27 -41 63 -40 94 -76 147 -150 220 -112 111 -281 180 -441 180 -131 0 -282 -51 -387 -131 l-43 -33 -22 21 c-42 38 -123 81 -203 108 -100 34 -238 42 -335 20z m228 -434 c20 -11 49 -32 64 -48 60 -63 58 -29 58 -891 l0 -788 26 -53 c45 -90 140 -134 238 -110 67 16 138 85 154 151 9 34 12 262 12 826 l0 779 23 44 c36 68 93 103 175 107 83 4 138 -21 186 -86 l31 -44 5 -811 c6 -913 0 -851 82 -922 105 -89 260 -57 322 66 l26 53 0 576 0 576 26 53 c45 90 140 134 238 110 67 -16 138 -85 154 -151 15 -60 17 -2801 2 -2892 -32 -194 -174 -328 -382 -361 l-38 -6 0 -209 0 -210 -1280 0 -1280 0 0 209 0 210 -57 6 c-117 12 -227 44 -332 96 -225 113 -394 334 -445 581 -24 114 -24 1270 -1 1326 67 160 299 170 383 17 15 -26 18 -82 22 -415 l5 -385 28 -47 c49 -84 149 -124 244 -97 59 16 124 78 141 135 9 32 12 278 12 1036 l0 994 26 53 c45 90 140 134 238 110 67 -16 138 -85 154 -151 9 -33 12 -211 12 -608 0 -483 2 -566 15 -598 64 -152 273 -172 370 -34 l30 44 5 811 c5 807 5 812 27 852 26 49 57 79 103 99 50 22 133 20 178 -3z"}]}}static makeAreaCaptureIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M105 5106 c-42 -18 -93 -79 -100 -118 -3 -18 -5 -355 -3 -749 l3 -716 28 -36 c63 -83 170 -96 248 -30 60 51 59 35 59 707 l0 616 688 2 689 3 37 29 c49 37 69 86 64 152 -5 64 -37 110 -92 135 -39 18 -81 19 -816 18 -618 0 -781 -2 -805 -13z"},{d:"M3720 5098 c-61 -32 -83 -66 -88 -136 -5 -71 11 -108 65 -149 l36 -28 524 -3 523 -3 0 -615 c0 -672 -1 -656 59 -707 66 -55 155 -56 219 -2 65 54 62 21 62 809 0 586 -3 722 -14 749 -16 39 -61 82 -99 96 -19 7 -231 11 -636 11 l-607 0 -44 -22z"},{d:"M135 1701 c-47 -12 -72 -28 -102 -68 l-28 -36 -3 -716 c-2 -394 0 -731 3 -749 7 -40 59 -101 102 -118 26 -11 178 -14 805 -14 732 0 775 1 814 19 55 25 87 71 92 135 5 66 -15 115 -64 152 l-37 29 -689 3 -688 2 0 615 c0 410 -4 623 -11 642 -28 75 -118 122 -194 104z"},{d:"M4897 1696 c-22 -8 -50 -25 -64 -38 -54 -49 -53 -40 -53 -702 l0 -615 -523 -3 -524 -3 -36 -28 c-54 -41 -70 -78 -65 -149 5 -70 27 -104 88 -135 l44 -23 608 0 c489 0 615 3 641 14 43 17 95 78 102 118 3 18 5 355 3 749 l-3 716 -28 36 c-48 63 -122 88 -190 63z"}]}}static makeZoomInIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M1935 5108 c-294 -29 -610 -133 -873 -287 -218 -127 -471 -356 -631 -570 -147 -197 -250 -393 -322 -612 -143 -436 -143 -912 0 -1348 72 -219 175 -415 322 -612 160 -214 413 -443 631 -570 425 -248 911 -343 1404 -274 350 49 727 208 990 416 34 27 66 49 70 49 5 0 294 -285 644 -634 548 -547 641 -636 683 -651 159 -59 311 93 252 252 -15 42 -104 135 -651 683 -349 350 -634 639 -634 644 0 4 22 36 49 70 97 123 209 316 275 476 258 628 209 1332 -133 1918 -72 124 -218 310 -336 427 -117 118 -303 264 -427 336 -395 231 -861 333 -1313 287z m510 -411 c240 -45 430 -116 625 -235 336 -206 601 -530 733 -897 77 -212 101 -359 101 -600 0 -241 -24 -388 -101 -600 -173 -481 -567 -875 -1048 -1048 -212 -77 -359 -101 -600 -101 -183 0 -276 10 -420 45 -622 152 -1126 652 -1279 1268 -43 171 -51 239 -51 436 0 197 8 265 51 436 152 611 651 1110 1263 1263 83 21 137 31 276 50 62 9 373 -3 450 -17z"},{d:"M2075 4125 c-35 -19 -82 -62 -98 -90 -8 -14 -14 -148 -17 -445 l-5 -425 -425 -5 c-297 -3 -431 -9 -445 -17 -29 -17 -70 -63 -89 -100 -41 -81 2 -206 89 -256 14 -8 148 -14 445 -17 l425 -5 5 -427 5 -426 31 -39 c38 -48 106 -83 159 -83 53 0 121 35 159 83 l31 39 5 426 5 427 427 5 426 5 39 31 c47 37 83 105 83 156 0 68 -46 147 -105 181 -14 8 -148 14 -445 17 l-425 5 -5 427 c-6 479 0 444 -84 512 -30 25 -48 31 -99 34 -43 2 -71 -2 -92 -13z"}]}}static makeZoomOutIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M1790 5105 c-359 -46 -700 -185 -992 -406 -105 -80 -296 -270 -375 -374 -612 -811 -553 -1923 141 -2652 608 -639 1562 -811 2364 -428 114 55 280 157 360 223 l44 35 741 -741 c678 -677 746 -741 787 -752 159 -42 292 91 250 250 -11 41 -75 109 -752 787 l-741 741 35 44 c66 80 160 232 219 353 187 384 249 817 178 1238 -147 862 -818 1527 -1689 1672 -136 23 -428 28 -570 10z m461 -399 c372 -50 676 -201 945 -470 288 -288 438 -612 476 -1023 26 -282 -32 -592 -158 -850 -157 -320 -436 -600 -754 -755 -453 -222 -984 -221 -1447 3 -304 146 -597 441 -748 752 -342 706 -137 1556 490 2027 242 181 502 283 830 323 75 9 269 5 366 -7z"},{d:"M969 3257 c-24 -13 -57 -43 -74 -66 -26 -37 -30 -51 -30 -111 0 -60 4 -74 30 -111 17 -23 48 -52 70 -63 40 -21 47 -21 1066 -24 l1026 -2 54 28 c99 52 135 167 82 268 -11 22 -39 53 -62 69 l-43 30 -1037 3 -1037 2 -45 -23z"}]}}static makePointLabelIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M442 5100 c-214 -56 -379 -228 -427 -442 -14 -66 -15 -240 -13 -1703 l3 -1630 23 -67 c12 -37 45 -101 73 -143 76 -114 183 -192 329 -241 52 -18 124 -19 1535 -22 1092 -2 1490 0 1520 8 129 37 159 204 52 284 l-28 21 -1492 5 c-1409 5 -1494 6 -1532 23 -50 23 -110 80 -138 132 l-22 40 0 1620 c0 1591 0 1621 20 1660 25 50 80 105 130 130 39 20 69 20 1660 20 l1620 0 40 -22 c52 -28 109 -88 132 -138 17 -37 18 -100 23 -907 5 -856 5 -867 26 -894 50 -68 115 -88 190 -59 32 12 53 29 72 58 l27 41 0 875 c0 969 3 916 -65 1051 -66 130 -198 245 -338 292 l-67 23 -1640 2 c-1589 2 -1642 1 -1713 -17z"},{d:"M1810 4043 c-33 -13 -68 -44 -83 -75 -11 -24 -87 -409 -87 -443 0 -2 -105 -5 -234 -7 -220 -3 -236 -4 -263 -24 -98 -73 -98 -195 0 -268 26 -19 44 -21 233 -24 112 -2 204 -6 204 -9 0 -17 -72 -408 -76 -415 -3 -4 -75 -8 -161 -8 -122 0 -162 -3 -189 -16 -50 -24 -77 -68 -82 -133 -5 -70 22 -115 88 -148 39 -20 60 -23 168 -23 l124 0 -6 -27 c-22 -101 -56 -315 -56 -349 0 -45 28 -94 70 -126 64 -47 171 -27 215 41 19 28 32 82 62 249 l37 212 263 0 c145 0 263 -3 263 -7 0 -4 -14 -87 -31 -185 -35 -199 -34 -231 12 -283 36 -40 87 -59 141 -52 42 6 101 45 119 79 6 12 28 116 48 232 l37 211 230 5 c219 5 231 6 267 29 51 31 81 91 74 149 -5 50 -29 87 -77 120 -31 21 -42 22 -231 22 -185 0 -199 1 -199 18 0 17 40 256 61 359 l10 52 169 3 c184 3 196 7 244 72 29 39 29 133 0 172 -47 63 -63 69 -215 72 -94 2 -139 7 -139 15 0 6 14 89 31 184 34 191 33 225 -8 273 -71 85 -188 80 -255 -11 -13 -17 -31 -91 -57 -238 -21 -116 -41 -214 -43 -217 -3 -2 -122 -3 -264 -2 l-260 3 33 185 c26 146 31 192 23 221 -12 45 -43 85 -80 104 -28 15 -100 19 -130 8z m620 -858 c0 -8 -16 -104 -35 -212 -19 -108 -35 -198 -35 -200 0 -2 -119 -3 -265 -3 l-265 0 5 23 c2 12 19 103 35 202 17 99 33 186 35 193 3 9 65 12 265 12 225 0 260 -2 260 -15z"},{d:"M4420 2549 c-29 -12 -67 -46 -83 -74 -9 -15 -13 -273 -17 -956 l-5 -937 -104 115 c-120 133 -148 153 -212 153 -111 0 -193 -125 -144 -221 10 -18 134 -163 276 -320 262 -291 283 -309 349 -309 66 0 87 18 349 309 142 157 266 302 276 320 49 96 -33 221 -144 221 -64 0 -92 -20 -212 -153 l-104 -115 -5 938 c-5 928 -5 939 -26 966 -11 15 -32 37 -46 47 -31 23 -111 32 -148 16z"}]}}static makeAlignControlIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M245 4471 c-90 -22 -173 -90 -215 -176 -34 -69 -35 -198 -2 -265 34 -71 75 -113 144 -151 l63 -34 2325 0 2325 0 51 27 c76 40 107 70 145 140 31 58 34 70 34 148 0 78 -3 90 -34 148 -37 69 -79 109 -151 144 l-45 23 -2305 2 c-1268 0 -2318 -2 -2335 -6z"},{d:"M1057 3390 c-75 -29 -132 -82 -169 -157 -81 -165 -12 -351 161 -432 l56 -26 1429 -3 c1553 -3 1495 -4 1584 52 130 82 183 260 119 399 -34 74 -102 140 -173 166 -54 21 -64 21 -1507 21 -1396 -1 -1454 -2 -1500 -20z"},{d:"M244 2336 c-93 -23 -175 -92 -216 -181 -35 -76 -33 -191 5 -267 30 -62 83 -115 149 -150 l43 -23 2335 0 2335 0 43 23 c66 35 119 88 149 150 38 76 40 191 5 267 -43 93 -130 163 -230 184 -81 17 -4549 14 -4618 -3z"},{d:"M1085 1266 c-65 -20 -98 -42 -142 -89 -52 -56 -68 -87 -83 -159 -29 -143 58 -301 196 -354 47 -18 97 -19 1509 -19 l1460 0 53 24 c109 49 186 170 186 291 0 121 -77 242 -186 291 l-53 24 -1450 2 c-1150 1 -1458 -1 -1490 -11z"}]}}static makeAlignTopIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M255 4946 c-67 -29 -105 -106 -91 -181 9 -47 59 -102 104 -115 26 -8 737 -10 2314 -8 l2277 3 27 21 c53 39 69 71 69 134 0 63 -16 95 -69 134 l-27 21 -2287 2 c-1886 2 -2292 0 -2317 -11z"},{d:"M841 4304 c-169 -45 -301 -180 -346 -351 -23 -86 -23 -3180 0 -3266 45 -173 178 -307 350 -352 88 -22 1102 -22 1190 0 172 45 305 179 350 352 23 86 23 3180 0 3266 -45 173 -178 307 -350 352 -85 22 -1112 21 -1194 -1z m1165 -330 c15 -11 37 -33 48 -48 l21 -27 0 -1579 0 -1579 -21 -27 c-11 -15 -33 -37 -48 -48 -27 -21 -38 -21 -566 -21 -528 0 -539 0 -566 21 -15 11 -37 33 -48 48 -21 27 -21 30 -24 1579 -1 854 0 1566 3 1584 7 40 49 91 90 109 24 11 134 13 557 11 514 -2 527 -2 554 -23z"},{d:"M3081 4304 c-169 -45 -301 -180 -346 -351 -23 -87 -22 -1900 0 -1988 45 -172 179 -305 352 -350 85 -22 1101 -22 1186 0 173 45 307 178 352 350 22 88 23 1901 0 1988 -45 173 -178 307 -350 352 -85 22 -1112 21 -1194 -1z m1165 -330 c15 -11 37 -33 48 -48 21 -27 21 -34 21 -966 0 -932 0 -939 -21 -966 -11 -15 -33 -37 -48 -48 -27 -21 -38 -21 -566 -21 -528 0 -539 0 -566 21 -15 11 -37 33 -48 48 -21 27 -21 36 -24 939 -1 502 0 926 3 944 7 40 49 91 90 109 24 11 134 13 557 11 514 -2 527 -2 554 -23z"}]}}static makeAlignBottomIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M841 4784 c-169 -45 -301 -180 -346 -351 -23 -86 -23 -3180 0 -3266 45 -173 178 -307 350 -352 88 -22 1102 -22 1190 0 172 45 305 179 350 352 23 86 23 3180 0 3266 -45 173 -178 307 -350 352 -85 22 -1112 21 -1194 -1z m1165 -330 c15 -11 37 -33 48 -48 l21 -27 0 -1579 0 -1579 -21 -27 c-11 -15 -33 -37 -48 -48 -27 -21 -38 -21 -566 -21 -528 0 -539 0 -566 21 -15 11 -37 33 -48 48 -21 27 -21 30 -24 1579 -1 854 0 1566 3 1584 7 40 49 91 90 109 24 11 134 13 557 11 514 -2 527 -2 554 -23z"},{d:"M3081 3504 c-169 -45 -301 -180 -346 -351 -23 -87 -22 -1900 0 -1988 45 -172 179 -305 352 -350 85 -22 1101 -22 1186 0 173 45 307 178 352 350 22 88 23 1901 0 1988 -45 173 -178 307 -350 352 -85 22 -1112 21 -1194 -1z m1165 -330 c15 -11 37 -33 48 -48 21 -27 21 -34 21 -966 0 -932 0 -939 -21 -966 -11 -15 -33 -37 -48 -48 -27 -21 -38 -21 -566 -21 -528 0 -539 0 -566 21 -15 11 -37 33 -48 48 -21 27 -21 36 -24 939 -1 502 0 926 3 944 7 40 49 91 90 109 24 11 134 13 557 11 514 -2 527 -2 554 -23z"},{d:"M255 466 c-67 -29 -105 -106 -91 -181 9 -47 59 -102 104 -115 26 -8 737 -10 2314 -8 l2277 3 27 21 c53 39 69 71 69 134 0 63 -16 95 -69 134 l-27 21 -2287 2 c-1886 2 -2292 0 -2317 -11z"}]}}static makeAlignLeftIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M415 4946 c-41 -18 -83 -69 -90 -109 -3 -18 -4 -1054 -3 -2304 l3 -2272 21 -27 c39 -53 71 -69 134 -69 63 0 95 16 134 69 l21 27 0 2299 0 2299 -21 27 c-11 15 -32 37 -46 47 -33 25 -113 32 -153 13z"},{d:"M1321 4624 c-169 -45 -301 -180 -346 -351 -22 -85 -22 -1101 0 -1186 45 -173 178 -307 350 -352 88 -22 1901 -23 1988 0 173 45 307 178 352 350 22 88 22 1102 0 1190 -45 172 -179 305 -352 350 -84 22 -1910 21 -1992 -1z m1965 -330 c15 -11 37 -33 48 -48 21 -27 21 -38 21 -566 0 -528 0 -539 -21 -566 -11 -15 -33 -37 -48 -48 -27 -21 -34 -21 -966 -21 -932 0 -939 0 -966 21 -15 11 -37 33 -48 48 -20 27 -21 40 -24 539 -2 282 0 526 3 544 7 40 49 91 90 109 24 11 202 13 957 11 918 -2 927 -2 954 -23z"},{d:"M1321 2384 c-169 -45 -301 -180 -346 -351 -22 -85 -22 -1101 0 -1186 45 -173 178 -307 350 -352 52 -13 252 -15 1635 -15 1383 0 1583 2 1635 15 172 45 305 179 350 352 22 85 22 1101 0 1186 -45 173 -178 307 -350 352 -87 22 -3190 22 -3274 -1z m3245 -330 c15 -11 37 -33 48 -48 21 -27 21 -38 21 -566 0 -528 0 -539 -21 -566 -11 -15 -33 -37 -48 -48 l-27 -21 -1579 0 -1579 0 -27 21 c-15 11 -37 33 -48 48 -20 27 -21 40 -24 539 -2 282 0 526 3 544 7 40 49 91 90 109 25 11 309 13 1597 11 1565 -2 1567 -2 1594 -23z"}]}}static makeAlignRightIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M4735 4946 c-41 -18 -83 -69 -90 -109 -3 -18 -4 -1054 -3 -2304 l3 -2272 21 -27 c39 -53 71 -69 134 -69 63 0 95 16 134 69 l21 27 0 2299 0 2299 -21 27 c-11 15 -32 37 -46 47 -33 25 -113 32 -153 13z"},{d:"M1961 4624 c-169 -45 -301 -180 -346 -351 -22 -85 -22 -1101 0 -1186 45 -173 178 -307 350 -352 88 -22 1901 -23 1988 0 173 45 307 178 352 350 22 88 22 1102 0 1190 -45 172 -179 305 -352 350 -84 22 -1910 21 -1992 -1z m1965 -330 c15 -11 37 -33 48 -48 21 -27 21 -38 21 -566 0 -528 0 -539 -21 -566 -11 -15 -33 -37 -48 -48 -27 -21 -34 -21 -966 -21 -932 0 -939 0 -966 21 -15 11 -37 33 -48 48 -20 27 -21 40 -24 539 -2 282 0 526 3 544 7 40 49 91 90 109 24 11 202 13 957 11 918 -2 927 -2 954 -23z"},{d:"M681 2384 c-169 -45 -301 -180 -346 -351 -22 -85 -22 -1101 0 -1186 45 -173 178 -307 350 -352 52 -13 252 -15 1635 -15 1383 0 1583 2 1635 15 172 45 305 179 350 352 22 85 22 1101 0 1186 -45 173 -178 307 -350 352 -87 22 -3190 22 -3274 -1z m3245 -330 c15 -11 37 -33 48 -48 21 -27 21 -38 21 -566 0 -528 0 -539 -21 -566 -11 -15 -33 -37 -48 -48 l-27 -21 -1579 0 -1579 0 -27 21 c-15 11 -37 33 -48 48 -20 27 -21 40 -24 539 -2 282 0 526 3 544 7 40 49 91 90 109 25 11 309 13 1597 11 1565 -2 1567 -2 1594 -23z"}]}}static makeAlignCenterIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M2495 4946 c-37 -17 -70 -52 -84 -89 -7 -18 -11 -150 -11 -363 l0 -334 -348 0 c-280 0 -359 -3 -407 -15 -172 -45 -305 -179 -350 -352 -22 -83 -22 -623 0 -706 45 -173 178 -307 350 -352 48 -12 127 -15 407 -15 l348 0 0 -160 0 -160 -588 0 c-489 0 -597 -3 -645 -15 -173 -45 -307 -178 -352 -350 -22 -84 -22 -624 0 -708 45 -173 178 -307 350 -352 50 -13 151 -15 647 -15 l587 0 3 -349 c3 -335 4 -351 24 -377 39 -53 71 -69 134 -69 63 0 95 16 134 69 20 26 21 42 24 377 l3 349 587 0 c496 0 597 2 647 15 172 45 305 179 350 352 22 84 22 624 0 708 -45 172 -179 305 -352 350 -48 12 -156 15 -645 15 l-588 0 0 160 0 160 348 0 c280 0 359 3 407 15 172 45 305 179 350 352 22 84 22 624 0 708 -45 172 -179 305 -352 350 -45 12 -129 15 -405 15 l-347 0 -3 349 c-3 335 -4 351 -24 377 -11 15 -32 37 -46 47 -34 25 -113 32 -153 13z m951 -1132 c15 -11 37 -33 48 -48 20 -26 21 -40 21 -326 0 -286 -1 -300 -21 -326 -11 -15 -33 -37 -48 -48 -27 -21 -34 -21 -886 -21 -852 0 -859 0 -886 21 -15 11 -37 33 -48 48 -20 26 -21 43 -24 299 -2 150 0 286 3 304 7 40 49 91 90 109 24 11 188 13 877 11 838 -2 847 -2 874 -23z m480 -1760 c15 -11 37 -33 48 -48 20 -26 21 -40 21 -326 0 -286 -1 -300 -21 -326 -11 -15 -33 -37 -48 -48 -27 -21 -30 -21 -1366 -21 -1336 0 -1339 0 -1366 21 -15 11 -37 33 -48 48 -20 26 -21 43 -24 299 -2 150 0 286 3 304 7 40 49 91 90 109 25 11 269 13 1357 11 1323 -2 1327 -2 1354 -23z"}]}}static makeAlignMiddleIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M1321 4304 c-169 -45 -301 -180 -346 -351 -12 -48 -15 -156 -15 -645 l0 -587 -349 -3 c-335 -3 -351 -4 -377 -24 -53 -39 -69 -71 -69 -134 0 -63 16 -95 69 -134 26 -20 42 -21 377 -24 l349 -3 0 -587 c0 -496 2 -597 15 -647 45 -172 179 -305 352 -350 83 -22 623 -22 706 0 173 45 307 178 352 350 13 50 15 151 15 647 l0 588 160 0 160 0 0 -348 c0 -280 3 -359 15 -407 45 -172 179 -305 352 -350 84 -22 624 -22 708 0 172 45 305 179 350 352 12 45 15 129 15 405 l0 347 349 3 c335 3 351 4 377 24 53 39 69 71 69 134 0 63 -16 95 -69 134 -26 20 -42 21 -377 24 l-349 3 0 347 c0 276 -3 360 -15 405 -45 173 -178 307 -350 352 -86 22 -624 22 -710 0 -172 -45 -305 -179 -350 -352 -12 -45 -15 -129 -15 -405 l0 -348 -160 0 -160 0 0 588 c0 496 -2 597 -15 647 -45 172 -179 305 -352 350 -81 21 -633 20 -712 -1z m685 -330 c15 -11 37 -33 48 -48 21 -27 21 -30 21 -1366 0 -1336 0 -1339 -21 -1366 -11 -15 -33 -37 -48 -48 -26 -20 -40 -21 -326 -21 -286 0 -300 1 -326 21 -15 11 -37 33 -48 48 -21 27 -21 32 -24 1339 -1 722 0 1326 3 1344 7 40 49 91 90 109 23 11 94 13 317 11 272 -2 288 -3 314 -23z m1760 -480 c15 -11 37 -33 48 -48 21 -27 21 -34 21 -886 0 -852 0 -859 -21 -886 -11 -15 -33 -37 -48 -48 -26 -20 -40 -21 -326 -21 -286 0 -300 1 -326 21 -15 11 -37 33 -48 48 -21 27 -21 37 -24 859 -2 458 0 846 3 864 7 40 49 91 90 109 23 11 94 13 317 11 272 -2 288 -3 314 -23z"}]}}static makeAlignHorizontalIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M655 4676 c-37 -16 -70 -52 -84 -89 -8 -20 -11 -636 -11 -2028 0 -2209 -5 -2041 66 -2095 31 -24 47 -29 95 -29 62 0 94 17 133 69 l21 27 0 2028 0 2028 -29 37 c-46 61 -123 82 -191 52z"},{d:"M4554 4672 c-25 -12 -50 -35 -65 -58 l-24 -39 -3 -1994 c-1 -1349 1 -2006 8 -2032 21 -76 107 -129 185 -115 23 5 53 22 79 46 l41 39 3 2029 2 2029 -22 33 c-51 74 -128 97 -204 62z"},{d:"M1881 4109 c-213 -28 -426 -148 -567 -317 -70 -84 -146 -239 -176 -357 -23 -90 -23 -91 -23 -875 0 -784 0 -785 23 -875 29 -114 106 -271 174 -355 115 -139 291 -252 473 -302 80 -23 84 -23 880 -23 794 0 801 0 887 22 174 45 310 125 435 256 124 132 197 278 228 452 22 130 22 1520 0 1650 -30 172 -104 319 -224 447 -125 134 -259 214 -433 260 -82 22 -95 22 -848 24 -421 1 -794 -2 -829 -7z m1629 -336 c198 -68 345 -228 386 -422 20 -97 20 -1485 0 -1582 -34 -160 -151 -311 -296 -382 -138 -68 -136 -68 -964 -65 -739 3 -741 3 -808 26 -138 47 -271 161 -334 288 -59 119 -57 99 -61 856 -4 726 0 829 36 934 27 76 100 183 159 233 86 70 195 120 297 134 17 3 365 4 775 3 741 -1 745 -1 810 -23z"}]}}static makeAlignVerticalIconConfig(){return{viewBox:"0 0 512.000000 512.000000",transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",paths:[{d:"M594 4651 c-109 -67 -106 -219 6 -278 l43 -23 1996 0 1997 0 44 23 c59 30 82 65 88 129 4 61 -19 106 -77 145 l-34 23 -2016 0 c-1962 0 -2017 -1 -2047 -19z"},{d:"M1851 4109 c-293 -39 -547 -224 -677 -494 -92 -191 -96 -239 -92 -1132 l4 -718 26 -97 c50 -183 154 -347 296 -464 80 -66 236 -146 347 -176 80 -23 84 -23 880 -23 794 0 801 0 887 22 344 88 603 364 663 708 22 130 22 1520 0 1650 -60 341 -315 617 -658 707 -80 22 -96 22 -847 24 -421 1 -794 -2 -829 -7z m1629 -336 c202 -69 353 -239 389 -437 15 -81 15 -1470 0 -1552 -29 -162 -152 -325 -299 -397 -138 -68 -136 -68 -964 -65 -683 3 -745 5 -796 22 -127 41 -233 120 -304 224 -54 79 -83 157 -96 255 -12 94 -12 1380 0 1474 13 98 42 176 96 255 88 130 233 219 389 241 17 3 365 4 775 3 741 -1 745 -1 810 -23z"},{d:"M600 748 c-89 -45 -114 -157 -54 -236 51 -67 -107 -62 2102 -62 l2009 0 34 23 c58 39 81 84 77 145 -6 64 -29 99 -88 130 l-44 22 -1996 0 -1996 0 -44 -22z"}]}}}class no extends Fn{constructor(){super(),this._element=document.createElement("div"),this._element.className="shrink-0 bg-border h-full w-[1px] mr-2 dark:bg-gray-300",this._element.role="none"}}class oo extends Fn{constructor(t){super(),this._hide=!t.props.layout.fixedToolbar,this._editor=t,this._element=document.createElement("div"),this._element.id="fixed-toolbar",this._hide||(this._element.className="flex w-52 m-2",this._toolbarWrap=document.createElement("div"),this._toolbarWrap.id="toolbar",this._toolbarWrap.className="pointer-events-auto flex items-center rounded-md border border-slate-200 shadow-sm bg-background text-foreground relative gap-0.5 p-0.5 p-1 pl-3 pr-1",this._element.appendChild(this._toolbarWrap),this.#e())}#e(){const t=this._editor.shortCutKeyManager;this.#q(this.#tt(eo.makeSelectModeIconConfig(),t.getKey(O))),this.#q(this.#tt(eo.makePageCursorOffIconConfig(),t.getKey(N))),this._editor.type!==Zo.INSPECTION_SYS_MARK&&this._editor.type!==Zo.INSPECTION_AREA_MARK&&this._editor.type!==Zo.INSPECTION_SYS_SELECT&&this._editor.type!==Zo.INSPECTION_RESULT_LABEL&&(this.#q(new no),this.#q(this.#tt(eo.makeLineIconConfig(),t.getKey(v))),this.#q(this.#tt(eo.makeRectIconConfig(),t.getKey(M))),this.#q(this.#tt(eo.makeTriangleIconConfig(),t.getKey(P))),this.#q(this.#tt(eo.makeCircleIconConfig(),t.getKey(I))),this.#q(this.#tt(eo.makeImageIconConfig(),t.getKey(k))),this.#q(this.#tt(eo.makeLabelIconConfig(),t.getKey(R)))),this._editor.type===Zo.INSPECTION_RESULT_LABEL&&(this.#q(new no),this.#q(this.#tt(eo.makePointLabelIconConfig(),t.getKey(E)))),this._editor.type!==Zo.INSPECTION_SYS_SELECT&&(this.#q(new no),this.#q(this.#tt(eo.makeUndoIconConfig(),t.getKey(T))),this.#q(this.#tt(eo.makeRedoIconConfig(),t.getKey(z)))),this.#q(new no),this.#q(this.#tt(eo.makeZoomInIconConfig(),t.getKey(J))),this.#q(this.#tt(eo.makeZoomOutIconConfig(),t.getKey($)))}#tt(t,e){return new to(t,e.toolTip,(t=>e.run(t)))}#q(t){this._toolbarWrap.appendChild(t.element)}get height(){return this._element.getBoundingClientRect().height+8}}class io extends Nt{constructor(t,e){const n=e.lineWidth;super(t,(()=>{e.setLineWidth(n)}))}}class ro extends Fn{constructor(t){super(),this._editor=t,this.#e()}#e(){this._element=document.createElement("div"),this._element.id="line-width",this._element.style.left=Yn+"px",this._element.style.top=Vn+"px",this._element.className=Qn;for(let t=1;t<=5;++t){const e=document.createElement("button");e.className="w-8 h-8 ml-1 mr-1 pl-1 pr-1 inline-flex items-center justify-center rounded hover:bg-slate-200",e.addEventListener("click",(()=>{const e=this._editor.page.selectRender.control;this._editor.historyManager.startUndo(new io("undo line width",e)),e.setLineWidth(t),this._editor.historyManager.endUndo(new io("redo line width",e)),this._editor.render()}));const n=document.createElement("span");n.style.height="0px",n.style.width="30px",n.style.borderWidth=t+"px",n.className="border-black",e.appendChild(n),this._element.appendChild(e)}}}class so extends Fn{constructor(t,e,n,o){super(),this._element=document.createElement("div"),this._element.id=e,this._element.style.left=n.x+"px",this._element.style.top=n.y+"px",this._element.className=Qn;["rgb(255,255,255)","rgb(0,0,0)","rgb(113,113,113)","rgb(216,61,27)","rgb(236,145,38)","rgb(233,186,31)","rgb(28,138,79)","rgb(14,136,224)","rgb(134,57,235)"].forEach((e=>{const n=this.#et(e,(()=>{o(e),t.render()}));this._element.appendChild(n)}))}#et(t,e){const n=document.createElement("div");n.className="relative flex item-center justify-center mr-1 pt-0.5 pb-0.5 rounded-full hover:bg-slate-300";const o=document.createElement("button");return o.className="w-6 h-6 mt-1 mb-1 ml-2 mr-2 inline-flex items-center justify-center rounded-full",o.style.backgroundColor=t,o.addEventListener("click",e),n.appendChild(o),n}}class ao extends Nt{constructor(t,e){const n=e.lineColor;super(t,(()=>{e.setLineColor(n)}))}}class lo extends Nt{constructor(t,e){const n=e.lineStyle;super(t,(()=>{e.setLineStyle(n)}))}}class ho extends Fn{constructor(t){super(),this._editor=t,this.#e()}#e(){this._element=document.createElement("div"),this._element.id="line-style",this._element.style.left=Gn+"px",this._element.style.top=Vn+"px",this._element.className=Qn;const t=new to(eo.makeLineSolidIconConfig(),"",(()=>{const t=this._editor.page.selectRender.control;this.#nt(t,ut),this._editor.render()})),e=new to(eo.makeLineDashIconConfig(),"",(()=>{const t=this._editor.page.selectRender.control;this.#nt(t,gt),this._editor.render()}));this._element.appendChild(t.element),this._element.appendChild(e.element)}#nt(t,e){this._editor.historyManager.startUndo(new lo("undo line Style",t)),t.setLineStyle(e),this._editor.historyManager.endUndo(new lo("redo line Style",t))}}class co extends Nt{constructor(t,e){const n=e.fillColor;super(t,(()=>{e.setFillColor(n)}))}}class po extends Nt{constructor(t,e){const n=e.opacity;super(t,(()=>{e.setOpacity(n)}))}}class uo extends Fn{constructor(t){super(),this._editor=t,this._element=document.createElement("div"),this._element.id="transparent",this._element.style.left=jn+"px",this._element.style.top=Vn+"px",this._element.className=Qn,this._transparentInput=null,this._transparentSlider=null,this._element.appendChild(this.#ot()),this._element.appendChild(this.#it())}#it(){const t=document.createElement("p");t.className="mx-2";const e=document.createElement("input");return e.id="transparent-slider",e.type="range",e.min="0",e.max="100",e.className="w-20 h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg dark:bg-slate-300",e.addEventListener("input",(t=>{const e=this._editor.page.selectRender.control;this._editor.historyManager.startUndo(new po("undo transparent",e)),e.setOpacity(t.target.value/100),this._editor.historyManager.endUndo(new po("redo transparent",e));document.getElementById("transparent-input").value=t.target.value,this._editor.render()})),this._transparentSlider=e,t.appendChild(e),t}#ot(){const t=document.createElement("p");t.className="w-28 h-8 inline-flex items-center justify-center rounded bg-slate-200 hover:bg-slate-300";const e=qn.getInstance().createSvgIcon(eo.makeTransparentIconConfig());e.classList.add("mr-2");const n=document.createElement("input");n.id="transparent-input",n.type="number",n.className="w-12 h-5 text-right border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",n.addEventListener("keydown",(t=>{t.stopPropagation()})),n.addEventListener("input",(t=>{let e=t.target.value?parseInt(t.target.value,10):1;e<0?(e=0,n.value="0"):e>100&&(e=100,n.value="100");document.getElementById("transparent-slider").value=e;const o=this._editor.page.selectRender.control;this._editor.historyManager.startUndo(new po("undo transparent",o)),o.setOpacity(e/100),this._editor.historyManager.endUndo(new po("redo transparent",o)),this._editor.render()})),this._transparentInput=n;const o=document.createElement("span");return o.className="ml-1 text-sm",o.textContent="%",t.appendChild(e),t.appendChild(n),t.appendChild(o),t}setInputValue(t){this._transparentInput.value=t}setSliderValue(t){this._transparentSlider.value=t}}class go extends Fn{constructor(t){super(),this._editor=t,this._fontSize,this.#e()}#e(){this._element=document.createElement("p"),this._element.className="w-20 h-8 inline-flex items-center justify-center rounded hover:bg-slate-200";const t=qn.getInstance().createSvgIcon(eo.makeFontSizeIconConfig());t.classList.add("mr-2"),this._fontSize=document.createElement("input"),this._fontSize.id="font-size",this._fontSize.type="number",this._fontSize.className="w-12 h-5 text-right border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",this._fontSize.addEventListener("keydown",(t=>{t.stopPropagation()})),this._fontSize.addEventListener("input",(t=>{let e=t.target.value?parseInt(t.target.value,10):1;e<=0&&(e=1,this._fontSize.value=1);const n=this._editor.page.selectRender.control;this._editor.historyManager.startUndo(new We("undo font size",n)),n.fontSize=e;const o=Jt.calculatorFontWidthHeight(n.text,n.fontSize),i=n.lt;n.rb.x=i.x+o.width,n.rt.x=i.x+o.width,n.updatePosition(),this._editor.historyManager.endUndo(new We("redo font size",n)),this._editor.render()})),this._element.appendChild(t),this._element.appendChild(this._fontSize)}setValue(t){this._fontSize.value=t}}class yo extends Nt{constructor(t,e){const n=e.fontColor;super(t,(()=>{e.fontColor=n}))}}class mo extends Fn{constructor(){super(),this._element=this.#rt()}#rt(){const t=document.createElement("div");return t.className="grid grid-cols-4 gap-2",t}}class _o{static alignHorizontal(t,e){this.#st(t,e,(t=>t.width),(t=>t.x),(t=>({x:t,y:0})))}static alignVertical(t,e){this.#st(t,e,(t=>t.height),(t=>t.y),(t=>({x:0,y:t})))}static#st(t,e,n,o,i){if(this.#at(e))return;const r=e,s=r.controls.length-1,a=this.#lt(r,o);r.controls=a;let l=0;a.forEach((t=>{l+=n(t)}));const h=(n(r)-l)/s;let c=o(a[0].maxPoint)+h,d=[];a.slice(1,s).forEach((t=>{const e=i(c-o(t.minPoint));t.move(e),t.updateSelectPosition(),d.push(e),c=o(t.maxPoint)+h})),d=[{x:0,y:0},...d,{x:0,y:0}];const p=t.historyManager;this.#ht(d,(t=>o(t)))||(r.updateGroupPosition(),this.#ct(p,r,d))}static#lt(t,e){const n=t.controls.slice().filter((n=>e(n.maxPoint)===e(t.maxPoint)));return[...t.controls.slice().sort(((t,n)=>e(t.minPoint)-e(n.minPoint))).filter((t=>n.some((e=>t!==e)))),...n]}static alignCenter(t,e){this.#dt(t.historyManager,e,(t=>(t.minPoint.x+t.maxPoint.x)/2))}static alignLeft(t,e){this.#dt(t.historyManager,e,(t=>t.minPoint.x))}static alignRight(t,e){this.#dt(t.historyManager,e,(t=>t.maxPoint.x))}static alignMiddle(t,e){this.#pt(t.historyManager,e,(t=>(t.minPoint.y+t.maxPoint.y)/2))}static alignTop(t,e){this.#pt(t.historyManager,e,(t=>t.minPoint.y))}static alignBottom(t,e){this.#pt(t.historyManager,e,(t=>t.maxPoint.y))}static#dt(t,e,n){if(this.#at(e))return;const o=e.controls,i=[];o.forEach((t=>{const o={x:n(e)-n(t),y:0};t.move(o),t.updateSelectPosition(),i.push(o)})),this.#ht(i,(t=>t.x))||(e.updateGroupPosition(),this.#ct(t,e,i))}static#pt(t,e,n){if(this.#at(e))return;const o=e.controls,i=[];o.forEach((t=>{const o={x:0,y:n(e)-n(t)};t.move(o),t.updateSelectPosition(),i.push(o)})),this.#ht(i,(t=>t.y))||(e.updateGroupPosition(),this.#ct(t,e,i))}static#ct(t,e,n){const o=e.controls,i=n;t.startUndo(new Nt("undo align",(()=>{o.forEach(((t,e)=>{const n={x:-i[e].x,y:-i[e].y};t.move(n),t.updateSelectPosition(),t.parent?.updateGroupPosition()})),e.updateGroupPosition()}))),t.endUndo(new Nt("redo align",(()=>{o.forEach(((t,e)=>{t.move(i[e]),t.updateSelectPosition(),t.parent?.updateGroupPosition()})),e.updateGroupPosition()})))}static#at(t){if(t.type!==St)return!0;return 1===t.controls.length}static#ht(t,e){return 0===t.filter((t=>0!==e(t))).length&&(console.log("동일한 명령 실행"),!0)}}class wo extends Fn{constructor(t){super(),this._editor=t,this.#e()}#e(){this._element=document.createElement("div"),this._element.id="control-align",this._element.style.left=Gn+"px",this._element.style.top=$n+"px",this._element.className=Qn+" w-36";const t=new to(eo.makeAlignTopIconConfig(),"",(()=>{const t=this._editor.page.selectRender.control;_o.alignTop(this._editor,t),this._editor.render()})),e=new to(eo.makeAlignBottomIconConfig(),"",(()=>{const t=this._editor.page.selectRender.control;_o.alignBottom(this._editor,t),this._editor.render()})),n=new to(eo.makeAlignLeftIconConfig(),"",(()=>{const t=this._editor.page.selectRender.control;_o.alignLeft(this._editor,t),this._editor.render()})),o=new to(eo.makeAlignRightIconConfig(),"",(()=>{const t=this._editor.page.selectRender.control;_o.alignRight(this._editor,t),this._editor.render()})),i=new to(eo.makeAlignCenterIconConfig(),"",(()=>{const t=this._editor.page.selectRender.control;_o.alignCenter(this._editor,t),this._editor.render()})),r=new to(eo.makeAlignMiddleIconConfig(),"",(()=>{const t=this._editor.page.selectRender.control;_o.alignMiddle(this._editor,t),this._editor.render()})),s=new to(eo.makeAlignHorizontalIconConfig(),"",(()=>{const t=this._editor.page.selectRender.control;_o.alignHorizontal(this._editor,t),this._editor.render()})),a=new to(eo.makeAlignVerticalIconConfig(),"",(()=>{const t=this._editor.page.selectRender.control;_o.alignVertical(this._editor,t),this._editor.render()})),l=new mo;l.element.appendChild(t.element),l.element.appendChild(e.element),l.element.appendChild(n.element),l.element.appendChild(o.element),l.element.appendChild(i.element),l.element.appendChild(r.element),l.element.appendChild(s.element),l.element.appendChild(a.element),this._element.appendChild(l.element)}}class xo extends Fn{constructor(t){super(),this._editor=t,this._element=document.createElement("div"),this._element.id="control-option",this._element.className=Qn,this._lineWidthToolbar=null,this._lineStyleToolbar=null,this._lineColorToolbar=null,this._fillColorToolbar=null,this._transparentToolbar=null,this._fontColorToolbar=null,this._controlAlignToolbar=null,this._fillColorBtn=null,this._transparentBtn=null,this._transparentInput=null,this._transparentSlider=null,this._fontColorBtn=null,this._controlAlignBtn=null,this._fontSizeInput=null,this.#e()}#e(){const t=this._editor.toolbarController,e=new to(eo.makeLineWidthIconConfig(),"",(()=>{t.showLineWidthToolbar()})),n=new to(eo.makeLineStyleIconConfig(),"",(()=>{t.showLineStyleToolbar()})),o=new to(eo.makeLineColorIconConfig(),"",(()=>{t.showLineColorToolbar()}));this._fillColorBtn=new to(eo.makeFillColorIconConfig(),"",(()=>{t.showFillColorToolbar()})),this._transparentBtn=new to(eo.makeTransparentIconConfig(),"",(()=>{t.showTransparentToolbar()})),this._fontSizeInput=new go(this._editor),this._fontColorBtn=new to(eo.makeFontColorIconConfig(),"",(()=>{t.showFontColorToolbar()})),this._controlAlignBtn=new to(eo.makeAlignControlIconConfig(),"",(()=>{t.showControlAlignToolbar()})),this.addElement(e),this.addElement(n),this.addElement(o),this.addElement(this._fillColorBtn),this.addElement(this._transparentBtn),this.addElement(this._fontSizeInput),this.addElement(this._fontColorBtn),this.addElement(this._controlAlignBtn),this._lineWidthToolbar=new ro(this._editor),this._lineStyleToolbar=new ho(this._editor),this._lineColorToolbar=new so(this._editor,"line-color",{x:Zn,y:Vn},(t=>{const e=this._editor.page.selectRender.control;this._editor.historyManager.startUndo(new ao("undo line color",e)),e.setLineColor(t),this._editor.historyManager.endUndo(new ao("redo line color",e))})),this._fillColorToolbar=new so(this._editor,"fill-color",{x:Xn,y:Vn},(t=>{const e=this._editor.page.selectRender.control;this._editor.historyManager.startUndo(new co("undo fill color",e)),e.setFillColor(t),this._editor.historyManager.endUndo(new co("redo fill color",e))})),this._transparentToolbar=new uo(this._editor),this._fontColorToolbar=new so(this._editor,"font-color",{x:Jn,y:Vn},(t=>{const e=this._editor.page.selectRender.control;this._editor.historyManager.startUndo(new yo("undo font color",e)),e.fontColor=t,this._editor.historyManager.endUndo(new yo("redo font color",e))})),this._lineColorToolbar.element.classList.add("bg-slate-200"),this._fontColorToolbar.element.classList.add("bg-slate-300"),this._controlAlignToolbar=new wo(this._editor),this.addElement(this._lineWidthToolbar),this.addElement(this._lineStyleToolbar),this.addElement(this._lineColorToolbar),this.addElement(this._fillColorToolbar),this.addElement(this._transparentToolbar),this.addElement(this._fontColorToolbar),this.addElement(this._controlAlignToolbar)}addElement(t){this._element.appendChild(t.element)}get lineWidthToolbar(){return this._lineWidthToolbar}get lineStyleToolbar(){return this._lineStyleToolbar}get lineColorToolbar(){return this._lineColorToolbar}get fillColorToolbar(){return this._fillColorToolbar}get transparentToolbar(){return this._transparentToolbar}get fontColorToolbar(){return this._fontColorToolbar}get controlAlignToolbar(){return this._controlAlignToolbar}get fillColorBtn(){return this._fillColorBtn}get transparentBtn(){return this._transparentBtn}get fontColorBtn(){return this._fontColorBtn}get controlAlignBtn(){return this._controlAlignBtn}get fontSizeInput(){return this._fontSizeInput}}class bo{constructor(t){this._editor=t,this._contextToolbar=new xo(t),this._fixedToolbar=new oo(t)}createToolbar(t){t.appendChild(this._contextToolbar.element),t.appendChild(this._fixedToolbar.element)}get contextToolbar(){return this._contextToolbar}get fixedToolbar(){return this._fixedToolbar}}class Co{constructor(t){this._editor=t,this.#e()}#e(){const t=document.getElementById("menu-root");if(t)return void(this._root=t);this._root=document.createElement("div"),this._root.id="menu-root",this._root.className="hidden absolute";const e=document.createElement("div");e.id="menu",e.className="overflow-hidden rounded-xl border p-1.5 bg-slate-50 w-40 drop-shadow-md";const n=this._editor,o=n.shortCutKeyManager;e.appendChild(this.#ut("실행취소",o.getKey(T))),e.appendChild(this.#ut("되돌리기",o.getKey(z))),n.type===Zo.STANDARD&&(e.appendChild(this.#gt()),e.appendChild(this.#ut("복사",o.getKey(L))),e.appendChild(this.#ut("붙여넣기",o.getKey(K))),e.appendChild(this.#gt()),e.appendChild(this.#ut("맨 앞으로",o.getKey(A))),e.appendChild(this.#ut("앞으로",o.getKey(B))),e.appendChild(this.#ut("뒤로",o.getKey(D))),e.appendChild(this.#ut("맨 뒤로",o.getKey(U))),e.appendChild(this.#gt()),e.appendChild(this.#ut("그룹화",o.getKey(H))),e.appendChild(this.#ut("그룹해제",o.getKey(W)))),this._root.appendChild(e),document.body.appendChild(this._root),this._root.addEventListener("contextmenu",(t=>{t.preventDefault()}))}#ut(t,e){const n=document.createElement("div");n.id=e.type,n.className="relative flex cursor-default select-none items-center rounded-md px-2 py-1.5 text-xs outline-none hover:bg-slate-200";const o=document.createElement("span");o.textContent=t,o.className="text-slate-700 subpixel-antialiased items-center";const i=document.createElement("span");return i.className="ml-auto text-xs tracking-wide opacity-50 text-slate-700 subpixel-antialiased",i.textContent=e.toolTip,n.appendChild(o),n.appendChild(i),n.addEventListener("mouseup",(t=>{e.run(),this.hide()})),n}#gt(){const t=document.createElement("div");return t.className="mx-1.5 my-1.5 h-px bg-slate-200",t}show(t){const e=this._editor.minPosition,n=Math.max(e.x,t.x),o=Math.max(e.y,t.y),i=this._root;i.style.top=o+window.scrollY+"px",i.style.left=n+window.scrollX+"px",this._root.classList.remove("hidden")}#yt(){this._editor}hide(){this._root.classList.add("hidden")}}class fo{constructor(){this._contextToolbar=null,this._lineWidthToolbar=null,this._lineStyleToolbar=null,this._lineColorToolbar=null,this._fillColorToolbar=null,this._transparentToolbar=null,this._fontColorToolbar=null,this._fillColorBtn=null,this._transparentBtn=null,this._fontColorBtn=null,this._fontSizeInput=null}init(t){this._contextToolbar=t,this._lineWidthToolbar=t.lineWidthToolbar,this._lineStyleToolbar=t.lineStyleToolbar,this._lineColorToolbar=t.lineColorToolbar,this._fillColorToolbar=t.fillColorToolbar,this._transparentToolbar=t.transparentToolbar,this._fontColorToolbar=t.fontColorToolbar,this._controlAlignToolbar=t.controlAlignToolbar,this._fillColorBtn=t.fillColorBtn,this._transparentBtn=t.transparentBtn,this._fontColorBtn=t.fontColorBtn,this._controlAlignBtn=t.controlAlignBtn,this._fontSizeInput=t.fontSizeInput}showContextToolbar(t,e){if(null===this._contextToolbar)return;const n=t.clientPoint;switch(e.type===Ct?(this._fontColorBtn.show(),this._fontSizeInput.show(),this._fontSizeInput.setValue(Math.round(e.fontSize))):(this._fontColorBtn.hide(),this._fontSizeInput.hide()),this._transparentToolbar.setInputValue(100*e.opacity),this._transparentToolbar.setSliderValue(100*e.opacity),this._contextToolbar.show(),this._lineWidthToolbar.hide(),this._lineStyleToolbar.hide(),this._lineColorToolbar.hide(),this._fillColorToolbar.hide(),this._transparentToolbar.hide(),this._controlAlignToolbar.hide(),e.type){case mt:this._transparentBtn.hide();case bt:this._fillColorBtn.hide();break;case St:this._controlAlignBtn.show();break;default:this._transparentBtn.show(),this._fillColorBtn.show(),this._controlAlignBtn.hide()}this._contextToolbar.element.style.top=n.y+"px",this._contextToolbar.element.style.left=n.x+"px",this.#mt(this._contextToolbar.element,n.x),this.#_t(this._contextToolbar.element,t)}hideContextToolbar(){null!==this._contextToolbar&&(this._contextToolbar.hide(),this._lineWidthToolbar.hide(),this._lineStyleToolbar.hide(),this._lineColorToolbar.hide(),this._fillColorToolbar.hide(),this._fontColorToolbar.hide(),this._transparentToolbar.hide(),this._controlAlignToolbar.hide())}showLineWidthToolbar(){null!==this._contextToolbar&&(this._lineWidthToolbar.show(),this._lineStyleToolbar.hide(),this._lineColorToolbar.hide(),this._fillColorToolbar.hide(),this._fontColorToolbar.hide(),this._transparentToolbar.hide(),this._controlAlignToolbar.hide(),this.#mt(this._lineWidthToolbar.element,Yn))}showLineStyleToolbar(){null!==this._contextToolbar&&(this._lineStyleToolbar.show(),this._lineWidthToolbar.hide(),this._lineColorToolbar.hide(),this._fillColorToolbar.hide(),this._fontColorToolbar.hide(),this._transparentToolbar.hide(),this._controlAlignToolbar.hide())}showLineColorToolbar(){null!==this._contextToolbar&&(this._lineColorToolbar.show(),this._lineStyleToolbar.hide(),this._lineWidthToolbar.hide(),this._fillColorToolbar.hide(),this._fontColorToolbar.hide(),this._transparentToolbar.hide(),this._controlAlignToolbar.hide(),this.#mt(this._lineColorToolbar.element,Zn))}showFillColorToolbar(){null!==this._contextToolbar&&(this._fillColorToolbar.show(),this._lineColorToolbar.hide(),this._lineStyleToolbar.hide(),this._lineWidthToolbar.hide(),this._fontColorToolbar.hide(),this._transparentToolbar.hide(),this._controlAlignToolbar.hide(),this.#mt(this._fillColorToolbar.element,Xn))}showFontColorToolbar(){null!==this._contextToolbar&&(this._fontColorToolbar.show(),this._fillColorToolbar.hide(),this._lineColorToolbar.hide(),this._lineStyleToolbar.hide(),this._lineWidthToolbar.hide(),this._transparentToolbar.hide(),this._controlAlignToolbar.hide(),this.#mt(this._fontColorToolbar.element,Jn))}showTransparentToolbar(){null!==this._contextToolbar&&(this._transparentToolbar.show(),this._fontColorToolbar.hide(),this._fillColorToolbar.hide(),this._lineColorToolbar.hide(),this._lineStyleToolbar.hide(),this._lineWidthToolbar.hide(),this._controlAlignToolbar.hide(),this.#mt(this._transparentToolbar.element,jn))}showControlAlignToolbar(){null!==this._contextToolbar&&(this._controlAlignToolbar.show(),this._fillColorToolbar.hide(),this._lineColorToolbar.hide(),this._lineStyleToolbar.hide(),this._lineWidthToolbar.hide(),this._fontColorToolbar.hide(),this._transparentToolbar.hide(),this.#mt(this._controlAlignToolbar.element,jn))}clear(){this.hideContextToolbar()}#mt(t,e){const n=t.getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,i=n.right-o;let r=t.style.left.replace("px","");i>=0?(r-=i,t.style.left=r+"px"):t.style.left=e+"px"}#_t(t,e){const n=e.editor.canvas.getBoundingClientRect().y,o=e.originPoint.y;n>o&&(t.style.top=o+2*Math.abs(Vn)+"px")}}class vo{constructor(t,e=null){this._editor=t,this._standardInf=e}initToolbar(){this._editor.toolbar.createToolbar(this._editor.root)}initCanvas(t,e){return this._standardInf?.initCanvas(t,e)}initPage(){}resizeCanvas(t,e){this._standardInf?.resizeCanvas(t,e)}}class Mo{static initCaptureList(t,e,n){const o=e.capture_list,i=e.disable??!1,r=t.page;r.removeAllControl();let s=!0;for(let t=0;t<o.length;++t){const e=o[t],n=this.#wt(r,e.capture_position,e.disable);n.disable|=i,r.addControl(n),s&=e.disable??!0,i||e.disable||(r.selectCaptureControl=n,r.selectRender=new Qt(n))}if(!i&&s){const t=ce.create(vt),e={x:(n.width-Ht)/2,y:(n.height-Wt)/2};t.setPosition(e),t.updatePosition(),r.addControl(t),r.selectCaptureControl=t,r.selectRender=new Qt(t)}t.render()}static#wt(t,e,n){const o=t.backgroundImg,i=ce.create(vt);return i.disable=n??!0,i.disable&&(i.lineColor="rgb(17,79,17)"),Ne.loadControlRectPosition(i,e,o),i}}class Po extends vo{constructor(t){super(t)}initPage(){this._editor.page.viewGridLine=!1}initToolbar(){super.initToolbar()}initCanvas(t,e){const n=this._editor.root;0===t&&0===e&&(t=n.getBoundingClientRect().width-4,e=n.getBoundingClientRect().height-this._editor.toolbar.fixedToolbar.height-4);const o=this._editor.canvas;o.style.border="solid 2px #000";const i=document.createElement("div");return i.id="canvas-wrap",i.appendChild(o),n.appendChild(i),t/=2,this._markViewer=new Xo(i.id,{type:Zo.INSPECTION_SYS_MARK_VIEWER,width:t,height:e}),i.className="flex gap-0.5",o.width=t,o.height=e,o}openCaptureAreaData(t){if(null===t.capture_list)return console.log("캡처 좌표 데이터가 없습니다."),{result:"error",message:"캡처 좌표 데이터가 없습니다."};const e=this._editor.canvas,n={width:e.width,height:e.height};t.capture_image&&Dn.readBase64Image(t.capture_image,(t=>{this._markViewer._page.backgroundImg=Ot.createImageFileToImageRect(t,n),this._markViewer._page.render()}));const o=this._editor.page;return null!==o.backgroundImg?(this.#xt(t,n),{result:"success",message:"성공"}):t.background_image?(Dn.readBase64Image(t.background_image,(e=>{o.backgroundImg=Ot.createImageFileToImageRect(e,n),this.#xt(t,n)})),{result:"success",message:"성공"}):(console.log("배경 이미지 데이터가 없습니다."),{result:"error",message:"배경 이미지 데이터가 없습니다."})}#xt(t,e){Mo.initCaptureList(this._editor,t,e),null===this._markViewer._page.backgroundImg&&this.updateMarkViewer()}saveCaptureArea(){const t=this._editor.page,e=t.selectCaptureControl;if(null!==e&&null!=t.backgroundImg)return{image:this._markViewer._page.backgroundImg.image.currentSrc,capture_position:Ne.saveControlPosition(e,t.backgroundImg)}}resizeCanvas(t,e){t/=2,this._markViewer.canvas.width=t,this._markViewer.canvas.height=e,this.updateMarkViewer();const n=this._editor.canvas;n.width=t,n.height=e;const o=this._editor.page;if(null===o.backgroundImg)return;const i=t,r=e,s=[];o.controls.forEach((t=>{s.push(Ne.saveControlPosition(t,o.backgroundImg))})),Ot.fitBackgroundImage(o.backgroundImg,{width:i,height:r}),o.controls.forEach(((t,e)=>{Ne.loadControlRectPosition(t,s[e],o.backgroundImg)})),this._markViewer.render()}updateMarkViewer(){const t=this._editor.page;if(t?.selectCaptureControl?.type!==vt)return;const e=this.#bt();if(null===e)return this._markViewer._page.backgroundImg=null,void this._markViewer._page.render();this.#Ct(e)}#Ct(t){const e=this._editor.canvas;Dn.readBase64Image(t,(t=>{const n={width:e.width,height:e.height};this._markViewer._page.backgroundImg=Ot.createImageFileToImageRect(t,n),this._markViewer._page.render()}))}#bt(){const t=this._editor.page,e=this._editor.canvas,n=t.selectCaptureControl,o=n.lt,i=Math.min(e.width/n.width,e.height/n.height),r=o.x*i,s=o.y*i;this._editor.ctx.setTransform(i,0,0,i,-r,-s),t.captureBackgroundImage();const a=n.width*i,l=n.height*i,h=this._editor.ctx.getImageData(0,0,a,l),c=document.createElement("canvas"),d=c.getContext("2d");c.width=a,c.height=l,d.putImageData(h,0,0);const p=c.toDataURL("image/png");return this._editor.render(),p}changeCaptureImage(){Dn.openImageFile((t=>{const e=this._editor.canvas,n={width:e.width,height:e.height};this._markViewer._page.backgroundImg=Ot.createImageFileToImageRect(t,n),this._markViewer._page.render()}))}}class Io extends vo{constructor(t){super(t),this._toolbar=t.toolbar,this._toolbarController=t.toolbarController}initToolbar(){this._editor.toolbar.createToolbar(this._editor.root),this._toolbarController.init(this._toolbar.contextToolbar)}initCanvas(t,e){const n=this._editor.root;0===t&&0===e&&(t=n.getBoundingClientRect().width-5,e=n.getBoundingClientRect().height-this._editor.toolbar.fixedToolbar.height-5);const o=this._editor.canvas;return o.style.border="solid 2px #000",n.appendChild(o),o.width=t,o.height=e,o}resizeCanvas(t,e){const n=this._editor.canvas;n.width=t,n.height=e}}class ko extends vo{constructor(t,e=null){super(t,e)}initPage(){this._editor.page.viewGridLine=!1}}class Ro extends vo{constructor(t,e=null){super(t,e)}initPage(){this._editor.page.viewGridLine=!1}initToolbar(){super.initToolbar()}resizeCanvas(t,e){const n=this._editor.canvas;n.width=t,n.height=e;const o=this._editor.page;if(null===o.backgroundImg)return;const i=t,r=e,s=[];o.controls.forEach((t=>{s.push(Ne.saveControlPosition(t,o.backgroundImg))})),Ot.fitBackgroundImage(o.backgroundImg,{width:i,height:r}),o.controls.forEach(((t,e)=>{Ne.loadControlRectPosition(t,s[e],o.backgroundImg)}))}openCaptureAreaData(t){if(null===t.capture_list)return console.log("캡처 좌표 데이터가 없습니다."),{result:"error",message:"캡처 좌표 데이터가 없습니다."};const e=this._editor.page,n=this._editor.canvas,o={width:n.width,height:n.height};return null!==e.backgroundImg?(Mo.initCaptureList(this._editor,t,o),{result:"success",message:"성공"}):t.background_image?(Dn.readBase64Image(t.background_image,(n=>{e.backgroundImg=Ot.createImageFileToImageRect(n,o),Mo.initCaptureList(this._editor,t,o)})),{result:"success",message:"성공"}):(console.log("배경 이미지 데이터가 없습니다."),{result:"error",message:"배경 이미지 데이터가 없습니다."})}saveCaptureArea(){const t=this._editor.page,e=t.selectCaptureControl;if(null===e||null==t.backgroundImg)return;return{capture_position:Ne.saveControlPosition(e,t.backgroundImg)}}}class Eo extends vo{constructor(t,e){super(t,e),this._selectAreaListener=(t,e)=>{console.log(t,e)}}listenSelectArea(t){t.type===Mt&&this._selectAreaListener(t.id,t.name)}set selectAreaListener(t){this._selectAreaListener=t}initPage(){this._editor.page.viewGridLine=!1}initCanvas(t,e){return this.#ft(),super.initCanvas(t,e)}#ft(){const t=document.createElement("div");t.id="hover-text-wrap",t.className="hidden absolute",t.style.userSelect="none",t.style.pointerEvents="none";const e=document.createElement("p");e.id="hover-tail",e.className="absolute -bottom-4 w-0 h-0 border-8 border-transparent border-t-orange-100";const n=document.createElement("p");n.id="hover-text",n.className="relative bg-orange-100 rounded-md p-2 opacity-90",t.appendChild(n),t.appendChild(e),document.body.appendChild(t)}showHoverText(t){const e=this._editor.page.hoverRender,n=document.getElementById("hover-text-wrap");if(e?.control?.type===Mt){const o=document.getElementById("hover-text"),i=document.getElementById("hover-tail"),r=e.control;o.textContent=r.name,n.classList.remove("hidden");const s=this._editor,a=o.getBoundingClientRect().width,l=o.getBoundingClientRect().height,h=t.x-a/1.8,c=t.y-(l+12),d=s.minPosition,p=Math.max(d.x,h)+window.scrollX,u=Math.max(d.y,c)+window.scrollY;n.style.top=u+"px",n.style.left=p+"px",d.x>h?(i.style.left=Math.max(t.x-30,p)+"px",i.classList.remove("left-1/2")):(i.style.left="",i.classList.add("left-1/2"))}else n&&n.classList.add("hidden");const o=this._editor.page,i=o.selectRender?.control;return i?.type===Mt}hideHoverText(){document.getElementById("hover-text-wrap").classList.add("hidden")}initToolbar(){super.initToolbar()}openCaptureAreaData(t){if(null===t.capture_list)return console.log("캡처 좌표 데이터가 없습니다."),{result:"error",message:"캡처 좌표 데이터가 없습니다."};const e=this._editor.page,n=this._editor.canvas,o={width:n.width,height:n.height};return null!==e.backgroundImg?(this.#xt(t.capture_list),{result:"success",message:"성공"}):t.background_image?(Dn.readBase64Image(t.background_image,(n=>{e.backgroundImg=Ot.createImageFileToImageRect(n,o),this.#xt(t.capture_list)})),{result:"success",message:"성공"}):(console.log("배경 이미지 데이터가 없습니다."),{result:"error",message:"배경 이미지 데이터가 없습니다."})}#xt(t){const e=this._editor.page;e.removeAllControl();for(let n=0;n<t.length;++n){const o=t[n],i=this.#wt(o.capture_position);i.id=o?.id,i.name=o?.name??`Combustor Drum${n}`,e.addControl(i)}this._editor.render()}#wt(t){const e=this._editor.page.backgroundImg,n=ce.create(Mt);return Ne.loadControlRectPosition(n,t,e),n}}class So extends vo{constructor(t,e){super(t,e)}initPage(){this._editor.page.viewGridLine=!1}resizeCanvas(t,e){super.resizeCanvas(t,e);const n=this._editor.canvas;n.width=t,n.height=e;const o=this._editor.page;if(null===o.backgroundImg)return;const i=[];o.controls.forEach((t=>{i.push(Ne.saveControlPosition(t,o.backgroundImg))})),Ot.fitBackgroundImage(o.backgroundImg,{width:t,height:e}),o.controls.forEach(((t,e)=>{const n=i[e];if(Ne.loadControlRectPosition(t,i[e],o.backgroundImg),t.type===Pt){t.fontSize=Jt.calculatorFontSize(t.text,t.getWidth(),t.fontSize);const e=o.backgroundImg,i={width:e.rb.x-e.lt.x,height:e.rb.y-e.lt.y};let r=n.arrow_line;r.p2.x*=i.width,r.p2.y*=i.height,r.p2.x+=e.lt.x,r.p2.y+=e.lt.y,t.linkLine.p2.copy(r.p2)}}))}saveLabelData(){const t=this._editor.page,e=t.backgroundImg,n={label_list:[]};if(null===e)return n;const o=t.controls.filter((t=>t.type===Pt));return 0===o.length||o.forEach((t=>{const o=Ne.saveControlPosition(t,e),i={};i.text=t.text,i.arrow_line=o.arrow_line,i.position={lt:o.lt,rb:o.rb},n.label_list.push(i)})),n}openLabelData(t){if(null==t.capture_list)return console.log("캡처 좌표 데이터가 없습니다."),{result:"error",message:"캡처 좌표 데이터가 없습니다."};const e=this._editor.page,n=this._editor.canvas,o={width:n.width,height:n.height};return null!==e.backgroundImg?(Mo.initCaptureList(this._editor,t,o),this.#vt(e,t.label_list),{result:"success",message:"성공"}):t.background_image?(Dn.readBase64Image(t.background_image,(n=>{e.backgroundImg=Ot.createImageFileToImageRect(n,o),Mo.initCaptureList(this._editor,t,o),this.#vt(e,t.label_list)})),{result:"success",message:"성공"}):(console.log("배경 이미지 데이터가 없습니다."),{result:"error",message:"배경 이미지 데이터가 없습니다."})}#vt(t,e){if(null===e||0===e?.length)return;const n=t.backgroundImg,o=n.getWidth(),i=n.getHeight();e.forEach((e=>{const r=ce.create(Pt);r.text=e.text,Ne.loadControlRectPosition(r,e.position,n);const s={p1:{x:e.arrow_line.p1.x*o,y:e.arrow_line.p1.y*i},p2:{x:e.arrow_line.p2.x*o,y:e.arrow_line.p2.y*i}};s.p1.x+=n.lt.x,s.p1.y+=n.lt.y,s.p2.x+=n.lt.x,s.p2.y+=n.lt.y,r.linkLine.p1.copy(s.p1),r.linkLine.p2.copy(s.p2),r.updatePosition(),r.fontSize=Jt.calculatorFontSize(r.text,r.getWidth(),r.fontSize),t.addControl(r)}))}}class To{constructor(t){this._editor=t,this._standardInterface=new Io(t),this._inspSysMarkInterface=new Po(t),this._inspSysMarkViewerInf=new ko(t,this._standardInterface),this._inspAreaMarkInterface=new Ro(t,this._standardInterface),this._inspSysSelectInf=new Eo(t,this._inspAreaMarkInterface),this._inspResultLabelInf=new So(t,this._standardInterface)}addInterface(t,e){if(t===tn)this._inspSysSelectInf.selectAreaListener=e}getInterface(t){switch(this._editor.type){case Zo.INSPECTION_SYS_MARK:return this.#Mt(t);case Zo.STANDARD:return this.#Pt(t);case Zo.INSPECTION_SYS_MARK_VIEWER:return this.#It(t);case Zo.INSPECTION_AREA_MARK:return this.#kt(t);case Zo.INSPECTION_SYS_SELECT:return this.#Rt(t);case Zo.INSPECTION_RESULT_LABEL:return this.#Et(t)}return()=>{}}#Pt(t){switch(t){case Ye:return()=>{this._standardInterface.initToolbar()};case Ge:return(t,e)=>this._standardInterface.initCanvas(t,e);case Ze:return(t,e)=>{this._standardInterface.resizeCanvas(t,e)}}return()=>{}}#Mt(t){switch(t){case Ve:return()=>{this._inspSysMarkInterface.initPage()};case Ye:return()=>{this._inspSysMarkInterface.initToolbar()};case Ge:return(t,e)=>this._inspSysMarkInterface.initCanvas(t,e);case Xe:return t=>this._inspSysMarkInterface.openCaptureAreaData(t);case je:return()=>this._inspSysMarkInterface.saveCaptureArea();case Je:return()=>{this._inspSysMarkInterface.updateMarkViewer()};case Ze:return(t,e)=>{this._inspSysMarkInterface.resizeCanvas(t,e)};case $e:return()=>{this._inspSysMarkInterface.changeCaptureImage()}}return()=>{}}#It(t){switch(t){case Ve:return()=>{this._inspSysMarkViewerInf.initPage()};case Ge:return(t,e)=>this._inspSysMarkViewerInf.initCanvas(t,e)}return()=>{}}#kt(t){switch(t){case Ve:return()=>{this._inspAreaMarkInterface.initPage()};case Ye:return()=>{this._inspAreaMarkInterface.initToolbar()};case Ge:return(t,e)=>this._inspAreaMarkInterface.initCanvas(t,e);case Ze:return(t,e)=>{this._inspAreaMarkInterface.resizeCanvas(t,e)};case Xe:return t=>this._inspAreaMarkInterface.openCaptureAreaData(t);case je:return()=>this._inspAreaMarkInterface.saveCaptureArea()}return()=>{}}#Rt(t){switch(t){case Ve:return()=>{this._inspSysSelectInf.initPage()};case Ye:return()=>{this._inspSysSelectInf.initToolbar()};case Ge:return(t,e)=>this._inspSysSelectInf.initCanvas(t,e);case Ze:return(t,e)=>{this._inspSysSelectInf.resizeCanvas(t,e)};case Xe:return t=>this._inspSysSelectInf.openCaptureAreaData(t);case Qe:return t=>this._inspSysSelectInf.showHoverText(t);case qe:return t=>this._inspSysSelectInf.hideHoverText(t);case tn:return t=>{this._inspSysSelectInf.listenSelectArea(t)}}return()=>{}}#Et(t){switch(t){case Ve:return()=>{this._inspResultLabelInf.initPage()};case Ye:return()=>{this._inspResultLabelInf.initToolbar()};case Ge:return(t,e)=>this._inspResultLabelInf.initCanvas(t,e);case Ze:return(t,e)=>{this._inspResultLabelInf.resizeCanvas(t,e)};case en:return t=>{this._inspResultLabelInf.openLabelData(t)};case nn:return()=>this._inspResultLabelInf.saveLabelData()}return()=>{}}}class zo{constructor(){this._imageMap=new Map}addImage(t){if(null==t.image)return;const e=this.#St(t.image);if(e)return t.imageId=e,void console.log("동일한 이미지 사용");this._imageMap.set(t.imageId,t.image)}#St(t){let e=null;return this._imageMap.forEach(((n,o)=>{t.currentSrc===n.currentSrc&&(e=o)})),e}removeImage(t){this._imageMap.delete(t.id)}toJson(){const t=[];return this._imageMap.forEach(((e,n)=>{t.push({id:n,image:e.currentSrc})})),{imageStorage:t}}}var Lo=n(72),Ko=n.n(Lo),Ao=n(825),Bo=n.n(Ao),Do=n(659),Uo=n.n(Do),Ho=n(56),Wo=n.n(Ho),Oo=n(540),No=n.n(Oo),Fo=n(113),Vo=n.n(Fo),Yo=n(907),Go={};Go.styleTagTransform=Vo(),Go.setAttributes=Wo(),Go.insert=Uo().bind(null,"head"),Go.domAPI=Bo(),Go.insertStyleElement=No();Ko()(Yo.A,Go);Yo.A&&Yo.A.locals&&Yo.A.locals;const Zo={STANDARD:"standard",INSPECTION_SYS_MARK:"inspection_system_mark",INSPECTION_SYS_MARK_VIEWER:"inspection_sys_mark_viewer",INSPECTION_AREA_MARK:"inspection_area_mark",INSPECTION_SYS_SELECT:"inspection_sys_select",INSPECTION_RESULT_LABEL:"inspection_result_label"};class Xo{constructor(t,e){this._root=document.getElementById(t),this._root.classList.add("m-5"),this._props=Object.assign(this.#Tt(),e),this._type=this._props.type,this._eventManager=new ye(this),this._historyManager=new Nn(this),this._tools=new Wn(this),this._shortCutKeyManager=new q(this),this._toolbarController=new fo,this._toolbar=new bo(this),this._imageStorage=new zo,this._markViewer=null,this._apiManager=new To(this),this.#zt(),this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this.#Lt(this._props.width,this._props.height),this._page=new Se(this),Ot.setPage(this._page),this._textEditor=new ln(this),this._menu=new Co(this),this.foregroundRender=null,this.#Kt(),this.#At(),this._props=e}#Tt(){return{type:Zo.STANDARD,width:0,height:0,layout:{fixedToolbar:!0}}}#zt(){this._apiManager.getInterface(Ye)()}#Lt(t,e){return this._apiManager.getInterface(Ge)(t,e)}#Kt(){this._apiManager.getInterface(Ve)(),this.render()}#At(){if(this.type===Zo.INSPECTION_SYS_MARK_VIEWER)return this._canvas.ondragover=t=>{t.preventDefault()},void(this._canvas.ondrop=t=>{this._eventManager.onDrop(t)});this._canvas.addEventListener("dblclick",(t=>{this._eventManager.onDoubleClick(t)})),this._canvas.addEventListener("mousedown",(t=>{this._eventManager.onMouseDown(t)})),this._canvas.addEventListener("mousemove",(t=>{this._eventManager.onMouseMove(t)})),this._canvas.addEventListener("mouseup",(t=>{this._eventManager.onMouseUp(t)})),this._canvas.addEventListener("wheel",(t=>{t.preventDefault(),this._eventManager.onMouseWheel(t)})),this._canvas.addEventListener("contextmenu",(t=>{t.preventDefault()})),document.addEventListener("keydown",(t=>{this._eventManager.onKeyDown(t)})),document.addEventListener("keyup",(t=>{this._eventManager.onKeyUp(t)})),window.addEventListener("resize",(t=>{this.#Bt()})),this._canvas.ondragover=t=>{t.preventDefault()},this.type!==Zo.INSPECTION_SYS_MARK&&(this._canvas.ondrop=t=>{this._eventManager.onDrop(t)},window.addEventListener("paste",(t=>{this._eventManager.onPaste(t)})))}#Bt(){let t=this._root.getBoundingClientRect().width-4,e=this._root.getBoundingClientRect().height-this.toolbar.fixedToolbar.height-4;this._apiManager.getInterface(Ze)(t,e),this.render()}openCaptureAreaData(t){return this._apiManager.getInterface(Xe)(t)}saveCaptureArea(){return this._apiManager.getInterface(je)()}updateMarkViewer(){this._apiManager.getInterface(Je)()}setSelectAreaListener(t){this._apiManager.addInterface(tn,t)}openLabelData(t){return this._apiManager.getInterface(en)(t)}changeCaptureImage(){this._apiManager.getInterface($e)()}saveLabelData(){return this._textEditor.endEdit(),this._apiManager.getInterface(nn)()}get type(){return this._type}get root(){return this._root}get props(){return this._props}addEventHandler(t){this._eventManager.addHandler(t)}removeEventHandler(t){this._eventManager.removeHandler(t)}addForegroundRender(t){this.foregroundRender=t}removeForegroundRender(){this.foregroundRender=null}startDragHandler(t){this.toolbarController.clear(),this._eventManager.startDragHandler(t)}finishDragHandler(){this._eventManager.finishDragHandler()}clearCommand(){this._tools.clear()}render(){this._page.render(),this.foregroundRender?.render(this._page.painter)}get apiManager(){return this._apiManager}get canvas(){return this._canvas}get page(){return this._page}get ctx(){return this._ctx}get toolbar(){return this._toolbar}get imageStorage(){return this._imageStorage}get markViewer(){return this._markViewer}get toolbarController(){return this._toolbarController}get tools(){return this._tools}get textEditor(){return this._textEditor}get menu(){return this._menu}get historyManager(){return this._historyManager}get shortCutKeyManager(){return this._shortCutKeyManager}get width(){return this._canvas.width}get height(){return this._canvas.height}get maxPosition(){const t=this._canvas.getBoundingClientRect();return{x:t.right,y:t.y+t.height}}get minPosition(){const t=this._canvas.getBoundingClientRect(),e=Number(this._canvas.style.borderWidth.slice(0,-2));return{x:t.x+e,y:t.y+e}}save(){return this.toJson()}open(t){Bn.loadControl(this,t)}toJson(){return Object.assign(this.page.toJson(),this.imageStorage.toJson())}}self.KPS=o})();